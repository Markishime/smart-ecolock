/*! For license information please see main.3de68b1c.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},64:function(e){e.exports=function(){"use strict";function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(t,n){return t.get(e(t,n))}function r(e,n,r){t(e,n),n.set(e,r)}function i(t,n,r){return t.set(e(t,n),r),r}const s=100,a={},o=()=>{a.previousActiveElement instanceof HTMLElement?(a.previousActiveElement.focus(),a.previousActiveElement=null):document.body&&document.body.focus()},l=e=>new Promise((t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;a.restoreFocusTimeout=setTimeout((()=>{o(),t()}),s),window.scrollTo(n,r)})),c="swal2-",u=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce(((e,t)=>(e[t]=c+t,e)),{}),d=["success","warning","info","question","error"].reduce(((e,t)=>(e[t]=c+t,e)),{}),h="SweetAlert2:",f=e=>e.charAt(0).toUpperCase()+e.slice(1),p=e=>{console.warn(`${h} ${"object"===typeof e?e.join(" "):e}`)},m=e=>{console.error(`${h} ${e}`)},g=[],y=e=>{g.includes(e)||(g.push(e),p(e))},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;y(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},b=e=>"function"===typeof e?e():e,x=e=>e&&"function"===typeof e.toPromise,w=e=>x(e)?e.toPromise():Promise.resolve(e),_=e=>e&&Promise.resolve(e)===e,j=()=>document.body.querySelector(`.${u.container}`),S=e=>{const t=j();return t?t.querySelector(e):null},E=e=>S(`.${e}`),N=()=>E(u.popup),k=()=>E(u.icon),C=()=>E(u["icon-content"]),T=()=>E(u.title),I=()=>E(u["html-container"]),A=()=>E(u.image),O=()=>E(u["progress-steps"]),P=()=>E(u["validation-message"]),M=()=>S(`.${u.actions} .${u.confirm}`),D=()=>S(`.${u.actions} .${u.cancel}`),R=()=>S(`.${u.actions} .${u.deny}`),L=()=>E(u["input-label"]),F=()=>S(`.${u.loader}`),B=()=>E(u.actions),U=()=>E(u.footer),V=()=>E(u["timer-progress-bar"]),z=()=>E(u.close),$='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',H=()=>{const e=N();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort(((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),r=parseInt(t.getAttribute("tabindex")||"0");return n>r?1:n<r?-1:0})),r=e.querySelectorAll($),i=Array.from(r).filter((e=>"-1"!==e.getAttribute("tabindex")));return[...new Set(n.concat(i))].filter((e=>ue(e)))},q=()=>G(document.body,u.shown)&&!G(document.body,u["toast-shown"])&&!G(document.body,u["no-backdrop"]),W=()=>{const e=N();return!!e&&G(e,u.toast)},Y=()=>{const e=N();return!!e&&e.hasAttribute("data-loading")},K=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach((t=>{e.appendChild(t)}));const i=n.querySelector("body");i&&Array.from(i.childNodes).forEach((t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},G=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},X=(e,t)=>{Array.from(e.classList).forEach((n=>{Object.values(u).includes(n)||Object.values(d).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)}))},Q=(e,t,n)=>{if(X(e,t),!t.customClass)return;const r=t.customClass[n];r&&("string"===typeof r||r.forEach?te(e,r):p(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`))},Z=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${u.popup} > .${u[t]}`);case"checkbox":return e.querySelector(`.${u.popup} > .${u.checkbox} input`);case"radio":return e.querySelector(`.${u.popup} > .${u.radio} input:checked`)||e.querySelector(`.${u.popup} > .${u.radio} input:first-child`);case"range":return e.querySelector(`.${u.popup} > .${u.range} input`);default:return e.querySelector(`.${u.popup} > .${u.input}`)}},J=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},ee=(e,t,n)=>{e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},te=(e,t)=>{ee(e,t,!0)},ne=(e,t)=>{ee(e,t,!1)},re=(e,t)=>{const n=Array.from(e.children);for(let r=0;r<n.length;r++){const e=n[r];if(e instanceof HTMLElement&&G(e,t))return e}},ie=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||0===parseInt(n)?e.style.setProperty(t,"number"===typeof n?`${n}px`:n):e.style.removeProperty(t)},se=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},ae=e=>{e&&(e.style.display="none")},oe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver((()=>{ce(e,e.innerHTML,t)})).observe(e,{childList:!0,subtree:!0})},le=(e,t,n,r)=>{const i=e.querySelector(t);i&&i.style.setProperty(n,r)},ce=function(e,t){t?se(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ae(e)},ue=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),de=()=>!ue(M())&&!ue(R())&&!ue(D()),he=e=>!!(e.scrollHeight>e.clientHeight),fe=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},pe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=V();n&&ue(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"}),10))},me=()=>{const e=V();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width=`${n}%`},ge=()=>"undefined"===typeof window||"undefined"===typeof document,ye=`\n <div aria-labelledby="${u.title}" aria-describedby="${u["html-container"]}" class="${u.popup}" tabindex="-1">\n   <button type="button" class="${u.close}"></button>\n   <ul class="${u["progress-steps"]}"></ul>\n   <div class="${u.icon}"></div>\n   <img class="${u.image}" />\n   <h2 class="${u.title}" id="${u.title}"></h2>\n   <div class="${u["html-container"]}" id="${u["html-container"]}"></div>\n   <input class="${u.input}" id="${u.input}" />\n   <input type="file" class="${u.file}" />\n   <div class="${u.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${u.select}" id="${u.select}"></select>\n   <div class="${u.radio}"></div>\n   <label class="${u.checkbox}">\n     <input type="checkbox" id="${u.checkbox}" />\n     <span class="${u.label}"></span>\n   </label>\n   <textarea class="${u.textarea}" id="${u.textarea}"></textarea>\n   <div class="${u["validation-message"]}" id="${u["validation-message"]}"></div>\n   <div class="${u.actions}">\n     <div class="${u.loader}"></div>\n     <button type="button" class="${u.confirm}"></button>\n     <button type="button" class="${u.deny}"></button>\n     <button type="button" class="${u.cancel}"></button>\n   </div>\n   <div class="${u.footer}"></div>\n   <div class="${u["timer-progress-bar-container"]}">\n     <div class="${u["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),ve=()=>{const e=j();return!!e&&(e.remove(),ne([document.documentElement,document.body],[u["no-backdrop"],u["toast-shown"],u["has-column"]]),!0)},be=()=>{a.currentInstance.resetValidationMessage()},xe=()=>{const e=N(),t=re(e,u.input),n=re(e,u.file),r=e.querySelector(`.${u.range} input`),i=e.querySelector(`.${u.range} output`),s=re(e,u.select),a=e.querySelector(`.${u.checkbox} input`),o=re(e,u.textarea);t.oninput=be,n.onchange=be,s.onchange=be,a.onchange=be,o.oninput=be,r.oninput=()=>{be(),i.value=r.value},r.onchange=()=>{be(),i.value=r.value}},we=e=>"string"===typeof e?document.querySelector(e):e,_e=e=>{const t=N();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},je=e=>{"rtl"===window.getComputedStyle(e).direction&&te(j(),u.rtl)},Se=e=>{const t=ve();if(ge())return void m("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=u.container,t&&te(n,u["no-transition"]),K(n,ye),n.dataset.swal2Theme=e.theme;const r=we(e.target);r.appendChild(n),_e(e),je(r),xe()},Ee=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Ne(e,t):e&&K(t,e)},Ne=(e,t)=>{e.jquery?ke(t,e):K(t,e.toString())},ke=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Ce=(e,t)=>{const n=B(),r=F();n&&r&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?se(n):ae(n),Q(n,t,"actions"),Te(n,r,t),K(r,t.loaderHtml||""),Q(r,t,"loader"))};function Te(e,t,n){const r=M(),i=R(),s=D();r&&i&&s&&(Ae(r,"confirm",n),Ae(i,"deny",n),Ae(s,"cancel",n),Ie(r,i,s,n),n.reverseButtons&&(n.toast?(e.insertBefore(s,r),e.insertBefore(i,r)):(e.insertBefore(s,t),e.insertBefore(i,t),e.insertBefore(r,t))))}function Ie(e,t,n,r){r.buttonsStyling?(te([e,t,n],u.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,te(e,u["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,te(t,u["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,te(n,u["default-outline"]))):ne([e,t,n],u.styled)}function Ae(e,t,n){const r=f(t);ce(e,n[`show${r}Button`],"inline-block"),K(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=u[t],Q(e,n,`${t}Button`)}const Oe=(e,t)=>{const n=z();n&&(K(n,t.closeButtonHtml||""),Q(n,t,"closeButton"),ce(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Pe=(e,t)=>{const n=j();n&&(Me(n,t.backdrop),De(n,t.position),Re(n,t.grow),Q(n,t,"container"))};function Me(e,t){"string"===typeof t?e.style.background=t:t||te([document.documentElement,document.body],u["no-backdrop"])}function De(e,t){t&&(t in u?te(e,u[t]):(p('The "position" parameter is not valid, defaulting to "center"'),te(e,u.center)))}function Re(e,t){t&&te(e,u[`grow-${t}`])}var Le={innerParams:new WeakMap,domCache:new WeakMap};const Fe=["input","file","range","select","radio","checkbox","textarea"],Be=(e,t)=>{const n=N();if(!n)return;const r=Le.innerParams.get(e),i=!r||t.input!==r.input;Fe.forEach((e=>{const r=re(n,u[e]);r&&(ze(e,t.inputAttributes),r.className=u[e],i&&ae(r))})),t.input&&(i&&Ue(t),$e(t))},Ue=e=>{if(!e.input)return;if(!Ke[e.input])return void m(`Unexpected type of input! Expected ${Object.keys(Ke).join(" | ")}, got "${e.input}"`);const t=We(e.input);if(!t)return;const n=Ke[e.input](t,e);se(t),e.inputAutoFocus&&setTimeout((()=>{J(n)}))},Ve=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},ze=(e,t)=>{const n=N();if(!n)return;const r=Z(n,e);if(r){Ve(r);for(const e in t)r.setAttribute(e,t[e])}},$e=e=>{if(!e.input)return;const t=We(e.input);t&&Q(t,e,"input")},He=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},qe=(e,t,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=u["input-label"];r.setAttribute("for",e.id),r.className=i,"object"===typeof n.customClass&&te(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},We=e=>{const t=N();if(t)return re(t,u[e]||u.input)},Ye=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:_(t)||p(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Ke={};Ke.text=Ke.email=Ke.password=Ke.number=Ke.tel=Ke.url=Ke.search=Ke.date=Ke["datetime-local"]=Ke.time=Ke.week=Ke.month=(e,t)=>(Ye(e,t.inputValue),qe(e,e,t),He(e,t),e.type=t.input,e),Ke.file=(e,t)=>(qe(e,e,t),He(e,t),e),Ke.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return Ye(n,t.inputValue),n.type=t.input,Ye(r,t.inputValue),qe(n,e,t),e},Ke.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");K(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return qe(e,e,t),e},Ke.radio=e=>(e.textContent="",e),Ke.checkbox=(e,t)=>{const n=Z(N(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);const r=e.querySelector("span");return K(r,t.inputPlaceholder||t.inputLabel),n},Ke.textarea=(e,t)=>{Ye(e,t.inputValue),He(e,t),qe(e,e,t);const n=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout((()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(N()).width);new MutationObserver((()=>{if(!document.body.contains(e))return;const i=e.offsetWidth+n(e);i>r?N().style.width=`${i}px`:ie(N(),"width",t.width)})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const Ge=(e,t)=>{const n=I();n&&(oe(n),Q(n,t,"htmlContainer"),t.html?(Ee(t.html,n),se(n,"block")):t.text?(n.textContent=t.text,se(n,"block")):ae(n),Be(e,t))},Xe=(e,t)=>{const n=U();n&&(oe(n),ce(n,t.footer,"block"),t.footer&&Ee(t.footer,n),Q(n,t,"footer"))},Qe=(e,t)=>{const n=Le.innerParams.get(e),r=k();if(r){if(n&&t.icon===n.icon)return nt(r,t),void Ze(r,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(d).indexOf(t.icon))return m(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),void ae(r);se(r),nt(r,t),Ze(r,t),te(r,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Je)}else ae(r)}},Ze=(e,t)=>{for(const[n,r]of Object.entries(d))t.icon!==n&&ne(e,r);te(e,t.icon&&d[t.icon]),rt(e,t),Je(),Q(e,t,"icon")},Je=()=>{const e=N();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=t},et='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',tt='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',nt=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,r="";t.iconHtml?r=it(t.iconHtml):"success"===t.icon?(r=et,n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?r=tt:t.icon&&(r=it({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==r.trim()&&K(e,r)},rt=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])le(e,n,"background-color",t.iconColor);le(e,".swal2-success-ring","border-color",t.iconColor)}},it=e=>`<div class="${u["icon-content"]}">${e}</div>`,st=(e,t)=>{const n=A();n&&(t.imageUrl?(se(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),ie(n,"width",t.imageWidth),ie(n,"height",t.imageHeight),n.className=u.image,Q(n,t,"image")):ae(n))};let at=!1,ot=0,lt=0,ct=0,ut=0;const dt=e=>{e.addEventListener("mousedown",ft),document.body.addEventListener("mousemove",pt),e.addEventListener("mouseup",mt),e.addEventListener("touchstart",ft),document.body.addEventListener("touchmove",pt),e.addEventListener("touchend",mt)},ht=e=>{e.removeEventListener("mousedown",ft),document.body.removeEventListener("mousemove",pt),e.removeEventListener("mouseup",mt),e.removeEventListener("touchstart",ft),document.body.removeEventListener("touchmove",pt),e.removeEventListener("touchend",mt)},ft=e=>{const t=N();if(e.target===t||k().contains(e.target)){at=!0;const n=gt(e);ot=n.clientX,lt=n.clientY,ct=parseInt(t.style.insetInlineStart)||0,ut=parseInt(t.style.insetBlockStart)||0,te(t,"swal2-dragging")}},pt=e=>{const t=N();if(at){let{clientX:n,clientY:r}=gt(e);t.style.insetInlineStart=`${ct+(n-ot)}px`,t.style.insetBlockStart=`${ut+(r-lt)}px`}},mt=()=>{const e=N();at=!1,ne(e,"swal2-dragging")},gt=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},yt=(e,t)=>{const n=j(),r=N();if(n&&r){if(t.toast){ie(n,"width",t.width),r.style.width="100%";const e=F();e&&r.insertBefore(e,k())}else ie(r,"width",t.width);ie(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),ae(P()),vt(r,t),t.draggable&&!t.toast?(te(r,u.draggable),dt(r)):(ne(r,u.draggable),ht(r))}},vt=(e,t)=>{const n=t.showClass||{};e.className=`${u.popup} ${ue(e)?n.popup:""}`,t.toast?(te([document.documentElement,document.body],u["toast-shown"]),te(e,u.toast)):te(e,u.modal),Q(e,t,"popup"),"string"===typeof t.customClass&&te(e,t.customClass),t.icon&&te(e,u[`icon-${t.icon}`])},bt=(e,t)=>{const n=O();if(!n)return;const{progressSteps:r,currentProgressStep:i}=t;r&&0!==r.length&&void 0!==i?(se(n),n.textContent="",i>=r.length&&p("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach(((e,s)=>{const a=xt(e);if(n.appendChild(a),s===i&&te(a,u["active-progress-step"]),s!==r.length-1){const e=wt(t);n.appendChild(e)}}))):ae(n)},xt=e=>{const t=document.createElement("li");return te(t,u["progress-step"]),K(t,e),t},wt=e=>{const t=document.createElement("li");return te(t,u["progress-step-line"]),e.progressStepsDistance&&ie(t,"width",e.progressStepsDistance),t},_t=(e,t)=>{const n=T();n&&(oe(n),ce(n,t.title||t.titleText,"block"),t.title&&Ee(t.title,n),t.titleText&&(n.innerText=t.titleText),Q(n,t,"title"))},jt=(e,t)=>{yt(e,t),Pe(e,t),bt(e,t),Qe(e,t),st(e,t),_t(e,t),Oe(e,t),Ge(e,t),Ce(e,t),Xe(e,t);const n=N();"function"===typeof t.didRender&&n&&t.didRender(n),a.eventEmitter.emit("didRender",n)},St=()=>ue(N()),Et=()=>{var e;return null===(e=M())||void 0===e?void 0:e.click()},Nt=()=>{var e;return null===(e=R())||void 0===e?void 0:e.click()},kt=()=>{var e;return null===(e=D())||void 0===e?void 0:e.click()},Ct=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Tt=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},It=(e,t,n)=>{Tt(e),t.toast||(e.keydownHandler=e=>Mt(t,e,n),e.keydownTarget=t.keydownListenerCapture?window:N(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},At=(e,t)=>{var n;const r=H();if(r.length)return(e+=t)===r.length?e=0:-1===e&&(e=r.length-1),void r[e].focus();null===(n=N())||void 0===n||n.focus()},Ot=["ArrowRight","ArrowDown"],Pt=["ArrowLeft","ArrowUp"],Mt=(e,t,n)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Dt(t,e):"Tab"===t.key?Rt(t):[...Ot,...Pt].includes(t.key)?Lt(t.key):"Escape"===t.key&&Ft(t,e,n)))},Dt=(e,t)=>{if(!b(t.allowEnterKey))return;const n=Z(N(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Et(),e.preventDefault()}},Rt=e=>{const t=e.target,n=H();let r=-1;for(let i=0;i<n.length;i++)if(t===n[i]){r=i;break}e.shiftKey?At(r,-1):At(r,1),e.stopPropagation(),e.preventDefault()},Lt=e=>{const t=B(),n=M(),r=R(),i=D();if(!t||!n||!r||!i)return;const s=[n,r,i];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const a=Ot.includes(e)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let e=0;e<t.children.length;e++){if(o=o[a],!o)return;if(o instanceof HTMLButtonElement&&ue(o))break}o instanceof HTMLButtonElement&&o.focus()}},Ft=(e,t,n)=>{b(t.allowEscapeKey)&&(e.preventDefault(),n(Ct.esc))};var Bt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ut=()=>{const e=j();Array.from(document.body.children).forEach((t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))}))},Vt=()=>{Array.from(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},zt="undefined"!==typeof window&&!!window.GestureEvent,$t=()=>{if(zt&&!G(document.body,u.iosfix)){const e=document.body.scrollTop;document.body.style.top=-1*e+"px",te(document.body,u.iosfix),Ht()}},Ht=()=>{const e=j();if(!e)return;let t;e.ontouchstart=e=>{t=qt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},qt=e=>{const t=e.target,n=j(),r=I();return!(!n||!r)&&!Wt(e)&&!Yt(e)&&(t===n||!he(n)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(!he(r)||!r.contains(t)))},Wt=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Yt=e=>e.touches&&e.touches.length>1,Kt=()=>{if(G(document.body,u.iosfix)){const e=parseInt(document.body.style.top,10);ne(document.body,u.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Gt=()=>{const e=document.createElement("div");e.className=u["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Xt=null;const Qt=e=>{null===Xt&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Xt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Xt+Gt()}px`)},Zt=()=>{null!==Xt&&(document.body.style.paddingRight=`${Xt}px`,Xt=null)};function Jt(e,t,n,r){W()?cn(e,r):(l(n).then((()=>cn(e,r))),Tt(a)),zt?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),q()&&(Zt(),Kt(),Vt()),en()}function en(){ne([document.documentElement,document.body],[u.shown,u["height-auto"],u["no-backdrop"],u["toast-shown"]])}function tn(e){e=an(e);const t=Bt.swalPromiseResolve.get(this),n=nn(this);this.isAwaitingPromise?e.isDismissed||(sn(this),t(e)):n&&t(e)}const nn=e=>{const t=N();if(!t)return!1;const n=Le.innerParams.get(e);if(!n||G(t,n.hideClass.popup))return!1;ne(t,n.showClass.popup),te(t,n.hideClass.popup);const r=j();return ne(r,n.showClass.backdrop),te(r,n.hideClass.backdrop),on(e,t,n),!0};function rn(e){const t=Bt.swalPromiseReject.get(this);sn(this),t&&t(e)}const sn=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Le.innerParams.get(e)||e._destroy())},an=e=>"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),on=(e,t,n)=>{var r;const i=j(),s=fe(t);"function"===typeof n.willClose&&n.willClose(t),null===(r=a.eventEmitter)||void 0===r||r.emit("willClose",t),s?ln(e,t,i,n.returnFocus,n.didClose):Jt(e,i,n.returnFocus,n.didClose)},ln=(e,t,n,r,i)=>{a.swalCloseEventFinishedCallback=Jt.bind(null,e,n,r,i);const s=function(e){var n;e.target===t&&(null===(n=a.swalCloseEventFinishedCallback)||void 0===n||n.call(a),delete a.swalCloseEventFinishedCallback,t.removeEventListener("animationend",s),t.removeEventListener("transitionend",s))};t.addEventListener("animationend",s),t.addEventListener("transitionend",s)},cn=(e,t)=>{setTimeout((()=>{var n;"function"===typeof t&&t.bind(e.params)(),null===(n=a.eventEmitter)||void 0===n||n.emit("didClose"),e._destroy&&e._destroy()}))},un=e=>{let t=N();if(t||new fi,t=N(),!t)return;const n=F();W()?ae(k()):dn(t,e),se(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},dn=(e,t)=>{const n=B(),r=F();n&&r&&(!t&&ue(M())&&(t=M()),se(n),t&&(ae(t),r.setAttribute("data-button-to-replace",t.className),n.insertBefore(r,t)),te([e,n],u.loading))},hn=(e,t)=>{"select"===t.input||"radio"===t.input?yn(e,t):["text","email","number","tel","textarea"].some((e=>e===t.input))&&(x(t.inputValue)||_(t.inputValue))&&(un(M()),vn(e,t))},fn=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return pn(n);case"radio":return mn(n);case"file":return gn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},pn=e=>e.checked?1:0,mn=e=>e.checked?e.value:null,gn=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,yn=(e,t)=>{const n=N();if(!n)return;const r=e=>{"select"===t.input?bn(n,wn(e),t):"radio"===t.input&&xn(n,wn(e),t)};x(t.inputOptions)||_(t.inputOptions)?(un(M()),w(t.inputOptions).then((t=>{e.hideLoading(),r(t)}))):"object"===typeof t.inputOptions?r(t.inputOptions):m("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof t.inputOptions)},vn=(e,t)=>{const n=e.getInput();n&&(ae(n),w(t.inputValue).then((r=>{n.value="number"===t.input?`${parseFloat(r)||0}`:`${r}`,se(n),n.focus(),e.hideLoading()})).catch((t=>{m(`Error in inputValue promise: ${t}`),n.value="",se(n),n.focus(),e.hideLoading()})))};function bn(e,t,n){const r=re(e,u.select);if(!r)return;const i=(e,t,r)=>{const i=document.createElement("option");i.value=r,K(i,t),i.selected=_n(r,n.inputValue),e.appendChild(i)};t.forEach((e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),n.forEach((t=>i(e,t[1],t[0])))}else i(r,n,t)})),r.focus()}function xn(e,t,n){const r=re(e,u.radio);if(!r)return;t.forEach((e=>{const t=e[0],i=e[1],s=document.createElement("input"),a=document.createElement("label");s.type="radio",s.name=u.radio,s.value=t,_n(t,n.inputValue)&&(s.checked=!0);const o=document.createElement("span");K(o,i),o.className=u.label,a.appendChild(s),a.appendChild(o),r.appendChild(a)}));const i=r.querySelectorAll("input");i.length&&i[0].focus()}const wn=e=>{const t=[];return e instanceof Map?e.forEach(((e,n)=>{let r=e;"object"===typeof r&&(r=wn(r)),t.push([n,r])})):Object.keys(e).forEach((n=>{let r=e[n];"object"===typeof r&&(r=wn(r)),t.push([n,r])})),t},_n=(e,t)=>!!t&&t.toString()===e.toString(),jn=e=>{const t=Le.innerParams.get(e);e.disableButtons(),t.input?Nn(e,"confirm"):An(e,!0)},Sn=e=>{const t=Le.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Nn(e,"deny"):Cn(e,!1)},En=(e,t)=>{e.disableButtons(),t(Ct.cancel)},Nn=(e,t)=>{const n=Le.innerParams.get(e);if(!n.input)return void m(`The "input" parameter is needed to be set when using returnInputValueOn${f(t)}`);const r=e.getInput(),i=fn(e,n);n.inputValidator?kn(e,i,t):r&&!r.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||r.validationMessage)):"deny"===t?Cn(e,i):An(e,i)},kn=(e,t,n)=>{const r=Le.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>w(r.inputValidator(t,r.validationMessage)))).then((r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?Cn(e,t):An(e,t)}))},Cn=(e,t)=>{const n=Le.innerParams.get(e||void 0);n.showLoaderOnDeny&&un(R()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((()=>w(n.preDeny(t,n.validationMessage)))).then((n=>{!1===n?(e.hideLoading(),sn(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})})).catch((t=>In(e||void 0,t)))):e.close({isDenied:!0,value:t})},Tn=(e,t)=>{e.close({isConfirmed:!0,value:t})},In=(e,t)=>{e.rejectPromise(t)},An=(e,t)=>{const n=Le.innerParams.get(e||void 0);n.showLoaderOnConfirm&&un(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((()=>w(n.preConfirm(t,n.validationMessage)))).then((n=>{ue(P())||!1===n?(e.hideLoading(),sn(e)):Tn(e,"undefined"===typeof n?t:n)})).catch((t=>In(e||void 0,t)))):Tn(e,t)};function On(){const e=Le.innerParams.get(this);if(!e)return;const t=Le.domCache.get(this);ae(t.loader),W()?e.icon&&se(k()):Pn(t),ne([t.popup,t.actions],u.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Pn=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?se(t[0],"inline-block"):de()&&ae(e.actions)};function Mn(){const e=Le.innerParams.get(this),t=Le.domCache.get(this);return t?Z(t.popup,e.input):null}function Dn(e,t,n){const r=Le.domCache.get(e);t.forEach((e=>{r[e].disabled=n}))}function Rn(e,t){const n=N();if(n&&e)if("radio"===e.type){const e=n.querySelectorAll(`[name="${u.radio}"]`);for(let n=0;n<e.length;n++)e[n].disabled=t}else e.disabled=t}function Ln(){Dn(this,["confirmButton","denyButton","cancelButton"],!1)}function Fn(){Dn(this,["confirmButton","denyButton","cancelButton"],!0)}function Bn(){Rn(this.getInput(),!1)}function Un(){Rn(this.getInput(),!0)}function Vn(e){const t=Le.domCache.get(this),n=Le.innerParams.get(this);K(t.validationMessage,e),t.validationMessage.className=u["validation-message"],n.customClass&&n.customClass.validationMessage&&te(t.validationMessage,n.customClass.validationMessage),se(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",u["validation-message"]),J(r),te(r,u.inputerror))}function zn(){const e=Le.domCache.get(this);e.validationMessage&&ae(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ne(t,u.inputerror))}const $n={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Hn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],qn={allowEnterKey:void 0},Wn=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Yn=e=>Object.prototype.hasOwnProperty.call($n,e),Kn=e=>-1!==Hn.indexOf(e),Gn=e=>qn[e],Xn=e=>{Yn(e)||p(`Unknown parameter "${e}"`)},Qn=e=>{Wn.includes(e)&&p(`The parameter "${e}" is incompatible with toasts`)},Zn=e=>{const t=Gn(e);t&&v(e,t)},Jn=e=>{!1===e.backdrop&&e.allowOutsideClick&&p('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","borderless"].includes(e.theme)&&p(`Invalid theme "${e.theme}". Expected "light", "dark", "auto", or "borderless"`);for(const t in e)Xn(t),e.toast&&Qn(t),Zn(t)};function er(e){const t=j(),n=N(),r=Le.innerParams.get(this);if(!n||G(n,r.hideClass.popup))return void p("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const i=tr(e),s=Object.assign({},r,i);Jn(s),t.dataset.swal2Theme=s.theme,jt(this,s),Le.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const tr=e=>{const t={};return Object.keys(e).forEach((n=>{Kn(n)?t[n]=e[n]:p(`Invalid parameter to update: ${n}`)})),t};function nr(){const e=Le.domCache.get(this),t=Le.innerParams.get(this);t?(e.popup&&a.swalCloseEventFinishedCallback&&(a.swalCloseEventFinishedCallback(),delete a.swalCloseEventFinishedCallback),"function"===typeof t.didDestroy&&t.didDestroy(),a.eventEmitter.emit("didDestroy"),rr(this)):ir(this)}const rr=e=>{ir(e),delete e.params,delete a.keydownHandler,delete a.keydownTarget,delete a.currentInstance},ir=e=>{e.isAwaitingPromise?(sr(Le,e),e.isAwaitingPromise=!0):(sr(Bt,e),sr(Le,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},sr=(e,t)=>{for(const n in e)e[n].delete(t)};var ar=Object.freeze({__proto__:null,_destroy:nr,close:tn,closeModal:tn,closePopup:tn,closeToast:tn,disableButtons:Fn,disableInput:Un,disableLoading:On,enableButtons:Ln,enableInput:Bn,getInput:Mn,handleAwaitingPromise:sn,hideLoading:On,rejectPromise:rn,resetValidationMessage:zn,showValidationMessage:Vn,update:er});const or=(e,t,n)=>{e.toast?lr(e,t,n):(dr(t),hr(t),fr(e,t,n))},lr=(e,t,n)=>{t.popup.onclick=()=>{e&&(cr(e)||e.timer||e.input)||n(Ct.close)}},cr=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let ur=!1;const dr=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(ur=!0)}}},hr=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(ur=!0)}}},fr=(e,t,n)=>{t.container.onclick=r=>{ur?ur=!1:r.target===t.container&&b(e.allowOutsideClick)&&n(Ct.backdrop)}},pr=e=>"object"===typeof e&&e.jquery,mr=e=>e instanceof Element||pr(e),gr=e=>{const t={};return"object"!==typeof e[0]||mr(e[0])?["title","html","icon"].forEach(((n,r)=>{const i=e[r];"string"===typeof i||mr(i)?t[n]=i:void 0!==i&&m(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)})):Object.assign(t,e[0]),t};function yr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)}function vr(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const br=()=>a.timeout&&a.timeout.getTimerLeft(),xr=()=>{if(a.timeout)return me(),a.timeout.stop()},wr=()=>{if(a.timeout){const e=a.timeout.start();return pe(e),e}},_r=()=>{const e=a.timeout;return e&&(e.running?xr():wr())},jr=e=>{if(a.timeout){const t=a.timeout.increase(e);return pe(t,!0),t}},Sr=()=>!(!a.timeout||!a.timeout.isRunning());let Er=!1;const Nr={};function kr(){Nr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Er||(document.body.addEventListener("click",Cr),Er=!0)}const Cr=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in Nr){const n=t.getAttribute(e);if(n)return void Nr[e].fire({template:n})}};class Tr{constructor(){this.events={}}_getHandlersByEventName(e){return"undefined"===typeof this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){var n=this;const r=function(){n.removeListener(e,r);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];t.apply(n,s)};this.on(e,r)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._getHandlersByEventName(e).forEach((e=>{try{e.apply(this,n)}catch(m){console.error(m)}}))}removeListener(e,t){const n=this._getHandlersByEventName(e),r=n.indexOf(t);r>-1&&n.splice(r,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}}a.eventEmitter=new Tr;const Ir=(e,t)=>{a.eventEmitter.on(e,t)},Ar=(e,t)=>{a.eventEmitter.once(e,t)},Or=(e,t)=>{e?t?a.eventEmitter.removeListener(e,t):a.eventEmitter.removeAllListeners(e):a.eventEmitter.reset()};var Pr=Object.freeze({__proto__:null,argsToParams:gr,bindClickHandler:kr,clickCancel:kt,clickConfirm:Et,clickDeny:Nt,enableLoading:un,fire:yr,getActions:B,getCancelButton:D,getCloseButton:z,getConfirmButton:M,getContainer:j,getDenyButton:R,getFocusableElements:H,getFooter:U,getHtmlContainer:I,getIcon:k,getIconContent:C,getImage:A,getInputLabel:L,getLoader:F,getPopup:N,getProgressSteps:O,getTimerLeft:br,getTimerProgressBar:V,getTitle:T,getValidationMessage:P,increaseTimer:jr,isDeprecatedParameter:Gn,isLoading:Y,isTimerRunning:Sr,isUpdatableParameter:Kn,isValidParameter:Yn,isVisible:St,mixin:vr,off:Or,on:Ir,once:Ar,resumeTimer:wr,showLoading:un,stopTimer:xr,toggleTimer:_r});class Mr{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Dr=["swal-title","swal-html","swal-footer"],Rr=e=>{const t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Hr(n),Object.assign(Lr(n),Fr(n),Br(n),Ur(n),Vr(n),zr(n),$r(n,Dr))},Lr=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach((e=>{qr(e,["name","value"]);const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&("boolean"===typeof $n[n]?t[n]="false"!==r:"object"===typeof $n[n]?t[n]=JSON.parse(r):t[n]=r)})),t},Fr=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((e=>{const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&(t[n]=new Function(`return ${r}`)())})),t},Br=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach((e=>{qr(e,["type","color","aria-label"]);const n=e.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(t[`${n}ButtonText`]=e.innerHTML,t[`show${f(n)}Button`]=!0,e.hasAttribute("color")&&(t[`${n}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t[`${n}ButtonAriaLabel`]=e.getAttribute("aria-label")))})),t},Ur=e=>{const t={},n=e.querySelector("swal-image");return n&&(qr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},Vr=e=>{const t={},n=e.querySelector("swal-icon");return n&&(qr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},zr=e=>{const t={},n=e.querySelector("swal-input");n&&(qr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((e=>{qr(e,["value"]);const n=e.getAttribute("value");if(!n)return;const r=e.innerHTML;t.inputOptions[n]=r}))),t},$r=(e,t)=>{const n={};for(const r in t){const i=t[r],s=e.querySelector(i);s&&(qr(s,[]),n[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},Hr=e=>{const t=Dr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((e=>{const n=e.tagName.toLowerCase();t.includes(n)||p(`Unrecognized element <${n}>`)}))},qr=(e,t)=>{Array.from(e.attributes).forEach((n=>{-1===t.indexOf(n.name)&&p([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."])}))},Wr=10,Yr=e=>{const t=j(),n=N();"function"===typeof e.willOpen&&e.willOpen(n),a.eventEmitter.emit("willOpen",n);const r=window.getComputedStyle(document.body).overflowY;Qr(t,n,e),setTimeout((()=>{Gr(t,n)}),Wr),q()&&(Xr(t,e.scrollbarPadding,r),Ut()),W()||a.previousActiveElement||(a.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout((()=>e.didOpen(n))),a.eventEmitter.emit("didOpen",n),ne(t,u["no-transition"])},Kr=e=>{const t=N();if(e.target!==t)return;const n=j();t.removeEventListener("animationend",Kr),t.removeEventListener("transitionend",Kr),n.style.overflowY="auto"},Gr=(e,t)=>{fe(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",Kr),t.addEventListener("transitionend",Kr)):e.style.overflowY="auto"},Xr=(e,t,n)=>{$t(),t&&"hidden"!==n&&Qt(n),setTimeout((()=>{e.scrollTop=0}))},Qr=(e,t,n)=>{te(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),se(t,"grid"),setTimeout((()=>{te(t,n.showClass.popup),t.style.removeProperty("opacity")}),Wr)):se(t,"grid"),te([document.documentElement,document.body],u.shown),n.heightAuto&&n.backdrop&&!n.toast&&te([document.documentElement,document.body],u["height-auto"])};var Zr={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Jr(e){e.inputValidator||("email"===e.input&&(e.inputValidator=Zr.email),"url"===e.input&&(e.inputValidator=Zr.url))}function ei(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(p('Target parameter is not valid, defaulting to "body"'),e.target="body")}function ti(e){Jr(e),e.showLoaderOnConfirm&&!e.preConfirm&&p("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),ei(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Se(e)}let ni;var ri=new WeakMap;class ii{constructor(){if(r(this,ri,void 0),"undefined"===typeof window)return;ni=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s=Object.freeze(this.constructor.argsToParams(t));this.params=s,this.isAwaitingPromise=!1,i(ri,this,this._main(ni.params))}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Jn(Object.assign({},t,e)),a.currentInstance){const e=Bt.swalPromiseResolve.get(a.currentInstance),{isAwaitingPromise:t}=a.currentInstance;a.currentInstance._destroy(),t||e({isDismissed:!0}),q()&&Vt()}a.currentInstance=ni;const n=ai(e,t);ti(n),Object.freeze(n),a.timeout&&(a.timeout.stop(),delete a.timeout),clearTimeout(a.restoreFocusTimeout);const r=oi(ni);return jt(ni,n),Le.innerParams.set(ni,n),si(ni,r,n)}then(e){return n(ri,this).then(e)}finally(e){return n(ri,this).finally(e)}}const si=(e,t,n)=>new Promise(((r,i)=>{const s=t=>{e.close({isDismissed:!0,dismiss:t})};Bt.swalPromiseResolve.set(e,r),Bt.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{jn(e)},t.denyButton.onclick=()=>{Sn(e)},t.cancelButton.onclick=()=>{En(e,s)},t.closeButton.onclick=()=>{s(Ct.close)},or(n,t,s),It(a,n,s),hn(e,n),Yr(n),li(a,n,s),ci(t,n),setTimeout((()=>{t.container.scrollTop=0}))})),ai=(e,t)=>{const n=Rr(e),r=Object.assign({},$n,t,n,e);return r.showClass=Object.assign({},$n.showClass,r.showClass),r.hideClass=Object.assign({},$n.hideClass,r.hideClass),!1===r.animation&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},oi=e=>{const t={popup:N(),container:j(),actions:B(),confirmButton:M(),denyButton:R(),cancelButton:D(),loader:F(),closeButton:z(),validationMessage:P(),progressSteps:O()};return Le.domCache.set(e,t),t},li=(e,t,n)=>{const r=V();ae(r),t.timer&&(e.timeout=new Mr((()=>{n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(se(r),Q(r,t,"timerProgressBar"),setTimeout((()=>{e.timeout&&e.timeout.running&&pe(t.timer)}))))},ci=(e,t)=>{if(!t.toast)return b(t.allowEnterKey)?void(ui(e)||di(e,t)||At(-1,1)):(v("allowEnterKey"),void hi())},ui=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&ue(n))return n.focus(),!0;return!1},di=(e,t)=>t.focusDeny&&ue(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ue(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!ue(e.confirmButton))&&(e.confirmButton.focus(),!0),hi=()=>{document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/864e5>3&&setTimeout((()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((()=>{e.play().catch((()=>{}))}),2500)}),500):localStorage.setItem("swal-initiation",`${e}`)}ii.prototype.disableButtons=Fn,ii.prototype.enableButtons=Ln,ii.prototype.getInput=Mn,ii.prototype.disableInput=Un,ii.prototype.enableInput=Bn,ii.prototype.hideLoading=On,ii.prototype.disableLoading=On,ii.prototype.showValidationMessage=Vn,ii.prototype.resetValidationMessage=zn,ii.prototype.close=tn,ii.prototype.closePopup=tn,ii.prototype.closeModal=tn,ii.prototype.closeToast=tn,ii.prototype.rejectPromise=rn,ii.prototype.update=er,ii.prototype._destroy=nr,Object.assign(ii,Pr),Object.keys(ar).forEach((e=>{ii[e]=function(){return ni&&ni[e]?ni[e](...arguments):null}})),ii.DismissReason=Ct,ii.version="11.17.2";const fi=ii;return fi.default=fi,fi}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),s=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&s(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[s,a,o].join("|")+")"+c+l+")*"),d="(?:"+[s+r+"?",r,a,o,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,s,a,o){var l=-1,c=t.length;for(s||(s=i),o||(o=[]);++l<c;){var u=t[l];n>0&&s(u)?n>1?e(u,n-1,s,a,o):r(o,u):a||(o[o.length]=u)}return o}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),s=n(9841),a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),s=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var o=typeof t;return!!("number"==o?i(n)&&s(t,n.length):"string"==o&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),s=n(6832),a=s&&s.isTypedArray,o=a?i(a):r;e.exports=o},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),s=n(9096);e.exports=function(e,t){var n={};return t=s(t,3),i(e,(function(e,i,s){r(n,i,t(e,i,s))})),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),s=n(2761),a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),s=n(9140),a=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:s(n);return l<0&&(l=a(o+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),s=n(9096),a=n(8883),o=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=r(t,l(s));var f=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return o(f,(function(e,t){return c(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!s.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,je=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ne(e){je?Se?Se.push(e):Se=[e]:je=e}function ke(){if(je){var e=je,t=Se;if(Se=je=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ce(e,t,n)}finally{Ie=!1,(null!==je||null!==Se)&&(Te(),ke())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Pe=!1}function De(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Be=null,Ue={onError:function(e){Re=!0,Le=e}};function Ve(e,t,n,r,i,s,a,o,l){Re=!1,Le=null,De.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,jt,St,Et,Nt=!1,kt=[],Ct=null,Tt=null,It=null,At=new Map,Ot=new Map,Pt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Rt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Et(e.priority,(function(){jt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Nt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),At.forEach(Bt),Ot.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<kt.length){Vt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Tt&&Vt(Tt,e),null!==It&&Vt(It,e),At.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var $t=x.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Wt(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Yt(e,t,n,r){if(Ht){var i=Gt(e,t,n,r);if(null===i)Hr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Rt(Ct,e,t,n,r,i),!0;case"dragenter":return Tt=Rt(Tt,e,t,n,r,i),!0;case"mouseover":return It=Rt(It,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Rt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Rt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&wt(s),null===(s=Gt(e,t,n,r))&&Hr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=vi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=L({},cn,{view:0,detail:0}),hn=sn(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(L({},fn,{dataTransfer:0})),gn=sn(L({},dn,{relatedTarget:0})),yn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),xn=sn(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function En(){return Sn}var Nn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(Nn),Cn=sn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),In=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(An),Pn=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Dn,Ln=u&&(!Mn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Yn=null;function Kn(e){Fr(e,0)}function Gn(e){if(Y(xi(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Zn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Yn=Wn=null)}function nr(e){if("value"===e.propertyName&&Gn(Yn)){var t=[];qn(t,Yn,e,we(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Yn)}function sr(e,t){if("click"===e)return Gn(t)}function ar(e,t){if("input"===e||"change"===e)return Gn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},jr={},Sr={};function Er(e){if(jr[e])return jr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return jr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Nr=Er("animationend"),kr=Er("animationiteration"),Cr=Er("animationstart"),Tr=Er("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ir.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Mr=Ar[Pr];Or(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Or(Nr,"onAnimationEnd"),Or(kr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(s(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Xt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=s,i=we(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Nr:case kr:case Cr:l=yn;break;case Tr:l=In;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:xi(l),f=null==c?o:xi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Yr(f))p++;for(f=0,m=h;m;m=Yr(m))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)h=Yr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==l&&Kr(a,o,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(Hn(o))if(Qn)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?xi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,zn=!0)),0<(y=Wr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Mn&&Un(e,t)?(e=en(),Jt=Zt=Qt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Oe(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Oe(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Oe(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(s(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var _i=[],ji=-1;function Si(e){return{current:e}}function Ei(e){0>ji||(e.current=_i[ji],_i[ji]=null,ji--)}function Ni(e,t){ji++,_i[ji]=e.current,e.current=t}var ki={},Ci=Si(ki),Ti=Si(!1),Ii=ki;function Ai(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Ti),Ei(Ci)}function Mi(e,t,n){if(Ci.current!==ki)throw Error(s(168));Ni(Ci,t),Ni(Ti,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ii=Ci.current,Ni(Ci,e),Ni(Ti,Ti.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ti),Ei(Ci),Ni(Ci,e)):Ei(Ti),Ni(Ti,n)}var Fi=null,Bi=!1,Ui=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Bi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ye(Je,zi),i}finally{bt=t,Ui=!1}}return null}var $i=[],Hi=0,qi=null,Wi=0,Yi=[],Ki=0,Gi=null,Xi=1,Qi="";function Zi(e,t){$i[Hi++]=Wi,$i[Hi++]=qi,qi=e,Wi=t}function Ji(e,t,n){Yi[Ki++]=Xi,Yi[Ki++]=Qi,Yi[Ki++]=Gi,Gi=e;var r=Xi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Qi=s+e}else Xi=1<<s|n<<i|r,Qi=e}function es(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function ts(e){for(;e===qi;)qi=$i[--Hi],$i[Hi]=null,Wi=$i[--Hi],$i[Hi]=null;for(;e===Gi;)Gi=Yi[--Ki],Yi[Ki]=null,Qi=Yi[--Ki],Yi[Ki]=null,Xi=Yi[--Ki],Yi[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Xi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=x.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===j?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(i,d),is&&Zi(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Zi(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Zi(i,m),c}function g(i,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),is&&Zi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return is&&Zi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Zi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===j&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===j){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&vs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===j?((s=Dc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Mc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case O:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(D(a))return g(r,s,a,l);ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Lc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var xs=bs(!0),ws=bs(!1),_s=Si(null),js=null,Ss=null,Es=null;function Ns(){Es=Ss=js=null}function ks(e){var t=_s.current;Ei(_s),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){js=e,Es=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===js)throw Error(s(308));Ss=e,js.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var As=null;function Os(e){null===As?As=[e]:As.push(e)}function Ps(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Os(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ms(e,n)}return null===(i=r.interleaved)?(t.next=t,Os(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ms(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=d}}function $s(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},qs=Si(Hs),Ws=Si(Hs),Ys=Si(Hs);function Ks(e){if(e===Hs)throw Error(s(174));return e}function Gs(e,t){switch(Ni(Ys,t),Ni(Ws,e),Ni(qs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(qs),Ni(qs,t)}function Xs(){Ei(qs),Ei(Ws),Ei(Ys)}function Qs(e){Ks(Ys.current);var t=Ks(qs.current),n=le(t,e.type);t!==n&&(Ni(Ws,e),Ni(qs,n))}function Zs(e){Ws.current===e&&(Ei(qs),Ei(Ws))}var Js=Si(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=x.ReactCurrentDispatcher,ia=x.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Za:Ja,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Qa,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function va(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Rl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function ja(e,t){var n=aa,r=va(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Da(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ia(9,Ea.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&sa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,ka(t)&&Ca(e)}function Na(e,t,n){return n((function(){ka(t)&&Ca(e)}))}function ka(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ca(e){var t=Ms(e,1);null!==t&&nc(t,e,1,-1)}function Ta(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,aa,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return va().memoizedState}function Oa(e,t,n,r){var i=ya();aa.flags|=e,i.memoizedState=Ia(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var i=va();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Ia(t,n,s,r))}aa.flags|=e,i.memoizedState=Ia(1|t,n,s,r)}function Ma(e,t){return Oa(8390656,8,e,t)}function Da(e,t){return Pa(2048,8,e,t)}function Ra(e,t){return Pa(4,2,e,t)}function La(e,t){return Pa(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Fa.bind(null,t,e),n)}function Ua(){}function Va(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function qa(){return va().memoizedState}function Wa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e))Ga(t,n);else if(null!==(n=Ps(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function Ya(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Ga(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Os(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ps(e,t,i,r))&&(nc(n,e,r,i=ec()),Xa(n,t,r))}}function Ka(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ga(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qa={readContext:Is,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Za={readContext:Is,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ta,useDebugValue:Ua,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ta(!1),t=e[0];return e=Ha.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=ya();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Tl)throw Error(s(349));0!==(30&sa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Na.bind(null,r,a,e),[e]),r.flags|=2048,Ia(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Tl.identifierPrefix;if(is){var n=Qi;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ja={readContext:Is,useCallback:Va,useContext:Is,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:Ra,useLayoutEffect:La,useMemo:za,useReducer:xa,useRef:Aa,useState:function(){return xa(ba)},useDebugValue:Ua,useDeferredValue:function(e){return $a(va(),oa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],va().memoizedState]},useMutableSource:_a,useSyncExternalStore:ja,useId:qa,unstable_isNewReconciler:!1},eo={readContext:Is,useCallback:Va,useContext:Is,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:Ra,useLayoutEffect:La,useMemo:za,useReducer:wa,useRef:Aa,useState:function(){return wa(ba)},useDebugValue:Ua,useDeferredValue:function(e){var t=va();return null===oa?t.memoizedState=e:$a(t,oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],va().memoizedState]},useMutableSource:_a,useSyncExternalStore:ja,useId:qa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bs(e,i,r))&&(nc(t,e,r,n),Us(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=ki,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(i=Oi(t)?Ii:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):ki),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Is(s):(s=Oi(t)?Ii:Ci.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Bs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vo=x.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?ws(t,null,n,r):xs(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var s=t.ref;return Ts(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function _o(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,jo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return No(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Pl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Pl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ni(Pl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ni(Pl,Ol),Ol|=r;return xo(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,i){var s=Oi(n)?Ii:Ci.current;return s=Ai(t,s),Ts(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function ko(e,t,n,r,i){if(Oi(n)){var s=!0;Ri(t)}else s=!1;if(Ts(t,i),null===t.stateNode)$o(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Is(c):c=Ai(t,c=Oi(n)?Ii:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Ds=!1;var h=t.memoizedState;a.state=h,zs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ti.current||Ds?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ds||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Is(l):l=Ai(t,l=Oi(n)?Ii:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Ds=!1,h=t.memoizedState,a.state=h,zs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ti.current||Ds?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ds||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,s,i)}function Co(e,t,n,r,i,s){Eo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Ho(e,t,s);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,o,s)):xo(e,t,o,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Gs(e,t.containerInfo)}function Io(e,t,n,r,i){return fs(),ps(i),t.flags|=256,xo(e,t,n,r),t.child}var Ao,Oo,Po,Mo,Do={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,a=Js.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ni(Js,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Rc(l,i,0,null),e=Dc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(n),t.memoizedState=Do,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=Do,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Tl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ms(e,i),nc(r,e,i,-1))}return mc(),Bo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Yi[Ki++]=Xi,Yi[Ki++]=Qi,Yi[Ki++]=Gi,Xi=e.id,Qi=e.overflow,Gi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Pc(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Pc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&ps(r),xs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function Vo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Js.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni(Js,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $o(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Wo(t),null;case 3:return r=t.stateNode,Xs(),Ei(Ti),Ei(Ci),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Oo(e,t),Wo(t),null;case 5:Zs(t);var i=Ks(Ys.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Ks(qs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Br(Dr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":W(r),J(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Br(Dr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":X(e,r),i=G(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Mo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks(Ys.current),Ks(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ei(Js),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Js.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Xs(),Oo(e,t),null===e&&zr(t.stateNode.containerInfo),Wo(t),null;case 10:return ks(t.type._context),Wo(t),null;case 19:if(Ei(Js),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qo(a,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,qo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(Js,1&Js.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>zl&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Wo(t),null}else 2*Qe()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=Js.current,Ni(Js,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ei(Ti),Ei(Ci),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Ei(Js),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Js),null;case 4:return Xs(),null;case 10:return ks(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},Po=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ks(qs.current);var s,a=null;switch(n){case"input":i=G(e,i),r=G(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Mo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Go=!1,Xo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||Jo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,hl(e,t,n),Xo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":Z(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Qe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,ml(t,e),Xo=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zo=e,d=e.child;null!==d;){for(h=Zo=d;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Jo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Jo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Zo=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Go;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Go;var c=Xo;if(Go=a,(Xo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Zo=l):_l(i);for(;null!==s;)Zo=s,bl(s,t,n),s=s.sibling;Zo=i,Go=o,Xo=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):xl(e)}}function xl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&$s(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$s(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function _l(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var jl,Sl=Math.ceil,El=x.ReactCurrentDispatcher,Nl=x.ReactCurrentOwner,kl=x.ReactCurrentBatchConfig,Cl=0,Tl=null,Il=null,Al=0,Ol=0,Pl=Si(0),Ml=0,Dl=null,Rl=0,Ll=0,Fl=0,Bl=null,Ul=null,Vl=0,zl=1/0,$l=null,Hl=!1,ql=null,Wl=null,Yl=!1,Kl=null,Gl=0,Xl=0,Ql=null,Zl=-1,Jl=0;function ec(){return 0!==(6&Cl)?Qe():-1!==Zl?Zl:Zl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Al?Al&-Al:null!==ms.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Ql=null,Error(s(185));yt(e,n,r),0!==(2&Cl)&&e===Tl||(e===Tl&&(0===(2&Cl)&&(Ll|=n),4===Ml&&oc(e,Al)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(zl=Qe()+500,Bi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Tl?Al:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),ai((function(){0===(6&Cl)&&zi()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,Jl=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var a=pc();for(Tl===e&&Al===t||($l=null,zl=Qe()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ns(),El.current=a,Cl=i,null!==Il?t=0:(Tl=null,Al=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Dl,hc(e,0),oc(e,r),rc(e,Qe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Dl,hc(e,0),oc(e,r),rc(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ul,$l);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vl+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Ul,$l),t);break}wc(e,Ul,$l);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Ul,$l),r);break}wc(e,Ul,$l);break;default:throw Error(s(329))}}}return rc(e,Qe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(s(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Dl,hc(e,0),oc(e,t),rc(e,Qe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,$l),rc(e,Qe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(zl=Qe()+500,Bi&&zi())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Cl)&&_c();var t=Cl;Cl|=1;var n=kl.transition,r=bt;try{if(kl.transition=null,bt=1,e)return e()}finally{bt=r,kl.transition=n,0===(6&(Cl=t))&&zi()}}function dc(){Ol=Pl.current,Ei(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Xs(),Ei(Ti),Ei(Ci),na();break;case 5:Zs(r);break;case 4:Xs();break;case 13:case 19:Ei(Js);break;case 10:ks(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Il=e=Pc(e.current,null),Al=Ol=t,Ml=0,Dl=null,Fl=Ll=Rl=0,Ul=Bl=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}As=null}return e}function fc(e,t){for(;;){var n=Il;try{if(Ns(),ra.current=Qa,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,Nl.current=null,null===n||null===n.return){Ml=1,Dl=t,Il=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Ml&&(Ml=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,fo(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(x){t=x,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=Qa,null===e?Qa:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Tl||0===(268435455&Rl)&&0===(268435455&Ll)||oc(Tl,Al)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Tl===e&&Al===t||($l=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Ns(),Cl=n,El.current=r,null!==Il)throw Error(s(261));return Tl=null,Al=0,Ml}function yc(){for(;null!==Il;)bc(Il)}function vc(){for(;null!==Il&&!Ge();)bc(Il)}function bc(e){var t=jl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?xc(e):Il=t,Nl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Ol)))return void(Il=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Ml=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Ml&&(Ml=5)}function wc(e,t,n){var r=bt,i=kl.transition;try{kl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Kl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Tl&&(Il=Tl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Tc(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=kl.transition,kl.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,Nl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Xe(),Cl=l,bt=o,kl.transition=a}else e.current=n;if(Yl&&(Yl=!1,Kl=e,Gl=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Gl)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,zi()}(e,t,n,r)}finally{kl.transition=i,bt=r}return null}function _c(){if(null!==Kl){var e=xt(Gl),t=kl.transition,n=bt;try{if(kl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Gl=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var d=Zo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zo=h;else for(;null!==Zo;){var f=(d=Zo).sibling,p=d.return;if(sl(d),d===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Zo=v;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var x=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Zo=x;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Sc(l,l.return,_)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(Cl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,kl.transition=t}}return!1}function jc(e,t,n){e=Bs(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Bs(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Al&n)===n&&(4===Ml||3===Ml&&(130023424&Al)===Al&&500>Qe()-Vl?hc(e,0):Fl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ms(e,t))&&(yt(e,t,n),rc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Nc(e,n)}function Tc(e,t){return Ye(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Ic(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Dc(n.children,i,a,t);case S:o=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=a,e;case T:return(e=Ac(13,n,t,i)).elementType=T,e.lanes=a,e;case I:return(e=Ac(19,n,t,i)).elementType=I,e.lanes=a,e;case P:return Rc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case k:o=9;break e;case C:o=11;break e;case A:o=14;break e;case O:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Vc(e){if(!e)return ki;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Di(e,n,t)}return t}function zc(e,t,n,r,i,s,a,o,l){return(e=Uc(n,r,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Bs(n,s,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function $c(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bs(i,t,a))&&(nc(e,i,a,s),Us(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:To(t),fs();break;case 5:Qs(t);break;case 1:Oi(t.type)&&Ri(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ni(Js,1&Js.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ni(Js,1&Js.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ni(Js,1&Js.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(Js,Js.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$o(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Ts(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($o(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),i){case 0:t=No(null,t,r,e,n);break e;case 1:t=ko(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(To(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ls(e,t),zs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Io(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Io(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ho(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Eo(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Lo(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ni(_s,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ti.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Cs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ts(t,n),r=r(i=Is(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),_o(e,t,r,i=to(r.type,i),n);case 15:return jo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),$o(e,t),t.tag=1,Oi(r)?(e=!0,Ri(t)):e=!1,Ts(t,n),so(t,r,i),oo(t,r,i,n),Co(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}$c(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc((function(){$c(t,l,n,r)})),l}(n,t,e,i,r);return Hc(a)}Gc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$c(e,t,null,null)},Gc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){$c(null,e,null,null)})),t[pi]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Qe()),0===(6&Cl)&&(zl=Qe()+500,zi()))}break;case 13:uc((function(){var t=Ms(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=Ms(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));Y(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ne,ke,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(s(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(s(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),s=Object.prototype,a=s.hasOwnProperty,o=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2794:(e,t,n)=>{var r=n(9742),i=n(7498),s=n(9096);e.exports=function(e,t){return e&&e.length?r(e,s(t,2),i):void 0}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,s=(t=r(t,e)).length;null!=e&&n<s;)e=e[i(t[n++])];return n&&n==s?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),s=n(4052),a=n(4543),o=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),s=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),a=void 0===a?t<n?1:-1:s(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),s=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:s)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),s=n(8114);e.exports=function(e,t,n,a,o,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(a)var b=c?a(v,y,p,t,e,l):a(y,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!s(g,t)&&(y===e||o(y,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!o(y,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var s=t[n],a=e[s];t[n]=[s,a,r(a)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),s=n(2597),a=n(914);e.exports=function(e){return s(e)?r(a(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),s=n(801),a=Math.max,o=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function x(){var e=i();if(b(e))return w(e);h=setTimeout(x,function(e){var n=t-(e-f);return g?o(n,u-(e-p)):n}(e))}function w(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function _(){var e=i(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(x,t),m?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(x,t),v(f)}return void 0===h&&(h=setTimeout(x,t)),d}return t=s(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(s(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),_.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},_.flush=function(){return void 0===h?d:w(i())},_}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(s,"$1"):n||e)})),t}));e.exports=a},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,j={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:j.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=T(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:j};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=j.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var s=t(e);return i(e)?s:r(s,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),s=n(1558),a=n(8114),o=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=s;else if(d>=200){var m=t?null:o(e);if(m)return l(m);h=!1,u=a,p=new r}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),s=t&&!t.nodeType&&t,a=s&&e&&!e.nodeType&&e,o=a&&a.exports===s?r.Buffer:void 0,l=(o?o.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,s=i.hasOwnProperty,a=i.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[o]=n:delete e[o]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),s=n(2165),a=n(4052),o=n(929);e.exports=function(e,t,n){var l=a(e)?r:s;return n&&o(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),s=n(438),a=n(9394),o=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),s=n(3366),a=n(2597),o=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&o(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?s(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),s=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:s(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),s=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&i(e.length)&&!!a[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),s=n(793),a=n(7760),o=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=s,c.prototype.get=a,c.prototype.has=o,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var s=arguments,a=-1,o=i(s.length-t,0),l=Array(o);++a<o;)l[a]=s[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=s[a];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),s=n(6350);e.exports=function(e,t){return s(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,a,o){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(s)var b=l?s(v,y,h,t,e,o):s(y,v,h,e,t,o);if(!(void 0===b?y===v||a(y,v,n,s,o):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,s=e.criteria,a=t.criteria,o=s.length,l=n.length;++i<o;){var c=r(s[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,s=Object(t),a=r(t),o=a.length;o--;){var l=a[e?o:++i];if(!1===n(s[l],l,s))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case o:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===s}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),s=n(9987),a=n(5752),o=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),x=v?h:o(e),w=b?h:o(t),_=(x=x==d?f:x)==f,j=(w=w==d?f:w)==f,S=x==w;if(S&&c(e)){if(!c(t))return!1;v=!0,_=!1}if(S&&!_)return y||(y=new r),v||u(e)?i(e,t,n,m,g,y):s(e,t,x,n,m,g,y);if(!(1&n)){var E=_&&p.call(e,"__wrapped__"),N=j&&p.call(t,"__wrapped__");if(E||N){var k=E?e.value():e,C=N?t.value():t;return y||(y=new r),g(k,C,n,m,y)}}return!!S&&(y||(y=new r),a(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var s=n.length,a=t?s:-1,o=Object(n);(t?a--:++a<s)&&!1!==i(o[a],a,o););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,s){var a=n.length,o=a,l=!s;if(null==e)return!o;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<o;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(s)var p=s(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,s,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),s=16-(i-r);if(r=i,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,s=e===e,a=r(e),o=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||i&&o&&c||!n&&c||!s)return 1;if(!i&&!a&&!u&&e<t||u&&n&&s&&!i&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),s=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(a)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i&&r.process,o=function(){try{var e=s&&s.require&&s.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=o},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),s=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):s(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),s=n(5387),a=n(2070),o=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),y=c(s),v=c(a),b=c(o),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=u||s&&x(s.resolve())!=d||a&&x(new a)!=h||o&&x(new o)!=f)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case v:return h;case b:return f}return t}),e.exports=x},6954:(e,t,n)=>{var r=n(1629),i=n(7857),s=n(6686),a=n(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||i(e))&&(r(e)?h:o).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,s,a,o){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,s,a,e,o))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),s=n(9096),a=n(4052),o=n(929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&o(e,t,n)&&(t=void 0),l(e,s(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),s=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||i(e)||!!(a&&e&&e[a])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),s=n(4190),a=n(1946),o=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,P(_);else{var t=r(u);null!==t&&M(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,v(N),N=-1),p=!0;var s=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&M(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,S=!1,E=null,N=-1,k=5,C=-1;function T(){return!(t.unstable_now()-C<k)}function I(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?j():(S=!1,E=null)}}else S=!1}if("function"===typeof b)j=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=I,j=function(){O.postMessage(null)}}else j=function(){y(I,0)};function P(e){E=e,S||(S=!0,j())}function M(e,n){N=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(N),N=-1):g=!0,M(w,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(_))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),s=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new i(r,s||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,a=new Array(s);i<s;i++)a[i]=r[i].fn;return a},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,s,a){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,s),!0;case 6:return u.fn.call(u.context,t,r,i,s,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||a(this,s);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),s=n(5647),a=n(929),o=s((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=o},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),s=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?s(t):void 0,o=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return o[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),s=n(2074),a=r&&1/s(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,s=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,s,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?C(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=a,l=c.length),s>(l=(a=Math.ceil(h/7))>l?a+1:l+1)&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((l=c.length)-(s=u.length)<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/p|0,c[s]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,o?C(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(s+=E(n)),s+=r;(n=7-(r=(a=e[t])+"").length)&&(s+=E(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return s+a}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(r=s.d.length)<(i=e.d.length)?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return C(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return j(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,s=r.precision,a=s+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(o=!1,t=w(N(n,a),N(e,a),a),o=!0,C(t,s))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(o=!1,t=w(n,e,0,1).times(e),o=!0,n.minus(t)):C(new r(n),i)},y.naturalExponential=y.exp=function(){return _(this)},y.naturalLogarithm=y.ln=function(){return N(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):T(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=j(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,s,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=j(c),o=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(s=r).plus(w(c,s,a+2)).times(.5),x(s.d).slice(0,a)===(t=x(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(C(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if("9999"!=t)break;a+=4}return o=!0,C(r,n)},y.times=y.mul=function(e){var t,n,r,i,s,a,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(s=f,f=m,m=s,a=c,c=u,u=a),s=[],r=a=c+u;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=s[i]+m[r]*f[i-r-1]+t,s[i--]=l%p|0,t=l/p|0;s[i]=(s[i]+t)%p|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,o?C(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,s),void 0===t?t=r.rounding:b(t,0,8),C(n,e+j(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=I(r,!0):(b(e,0,s),void 0===t?t=i.rounding:b(t,0,8),n=I(r=C(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?I(i):(b(e,0,s),void 0===t?t=a.rounding:b(t,0,8),n=I((r=C(new a(i),e+j(i)+1,t)).abs(),!1,e+j(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return C(new t(e),j(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,s,a,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return C(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=f<0?-f:f)<=m){for(s=new h(i),t=Math.ceil(r/7+4),o=!1;n%2&&A((s=s.times(u)).d,t),0!==(n=d(n/2));)A((u=u.times(u)).d,t);return o=!0,e.s<0?new h(i).div(s):C(s,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,o=!1,s=e.times(N(u,r+12)),o=!0,(s=_(s)).s=a,s},y.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=I(i,(n=j(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,s),void 0===t?t=a.rounding:b(t,0,8),r=I(i=C(new a(i),e,t),e<=(n=j(i))||n<=a.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,s),void 0===t?t=n.rounding:b(t,0,8)),C(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=j(e),n=e.constructor;return I(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,s,a){var o,c,u,d,h,f,m,g,y,v,b,x,w,_,S,E,N,k,T=r.constructor,I=r.s==i.s?1:-1,A=r.d,O=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,N=O.length,S=A.length,g=(m=new T(I)).d=[],u=0;O[u]==(A[u]||0);)++u;if(O[u]>(A[u]||0)&&--c,(x=null==s?s=T.precision:a?s+(j(r)-j(i))+1:s)<0)return new T(0);if(x=x/7+2|0,u=0,1==N)for(d=0,O=O[0],x++;(u<S||d)&&x--;u++)w=d*p+(A[u]||0),g[u]=w/O|0,d=w%O|0;else{for((d=p/(O[0]+1)|0)>1&&(O=e(O,d),A=e(A,d),N=O.length,S=A.length),_=N,v=(y=A.slice(0,N)).length;v<N;)y[v++]=0;(k=O.slice()).unshift(0),E=O[0],O[1]>=p/2&&++E;do{d=0,(o=t(O,y,N,v))<0?(b=y[0],N!=v&&(b=b*p+(y[1]||0)),(d=b/E|0)>1?(d>=p&&(d=p-1),1==(o=t(h=e(O,d),y,f=h.length,v=y.length))&&(d--,n(h,N<f?k:O,f))):(0==d&&(o=d=1),h=O.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==o&&(o=t(O,y,N,v=y.length))<1&&(d++,n(y,N<v?k:O,v)),v=y.length):0===o&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[v++]=A[_]||0:(y=[A[_]],v=1)}while((_++<S||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=c,C(m,a?s+j(m)+1:s)}}();function _(e,t){var n,r,s,a,l,c=0,d=0,f=e.constructor,p=f.precision;if(j(e)>16)throw Error(u+j(e));if(!e.s)return new f(i);for(null==t?(o=!1,l=p):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=s=new f(i),f.precision=l;;){if(r=C(r.times(e),l),n=n.times(++c),x((a=s.plus(w(r,n,l))).d).slice(0,l)===x(s.d).slice(0,l)){for(;d--;)s=C(s.times(s),l);return f.precision=p,null==t?(o=!0,C(s,p)):s}s=a}}function j(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw o=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function E(e){for(var t="";e--;)t+="0";return t}function N(e,t){var n,r,s,a,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(o=!1,h=v):h=t,m.eq(10))return null==t&&(o=!0),S(y,h);if(h+=10,y.precision=h,r=(n=x(g)).charAt(0),a=j(m),!(Math.abs(a)<15e14))return d=S(y,h+2,v).times(a+""),m=N(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(o=!0,C(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(a=j(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(i),m.plus(i),h),f=C(m.times(m),h),s=3;;){if(c=C(c.times(f),h),x((d=u.plus(w(c,new y(s),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(S(y,h+2,v).times(a+""))),u=w(u,new y(p),h),y.precision=v,null==t?(o=!0,C(u,v)):u;u=d,s+=2}}function k(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,i,s,a,l,c,f,m,y=e.d;for(a=1,s=y[0];s>=10;s/=10)a++;if((r=t-a)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(s=y.length))return e;for(f=s=y[m],a=1;s>=10;s/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=f/(s=h(10,a-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%s,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,a-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(s=j(e),y.length=1,t=t-s-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,s=1,m--):(y.length=m+1,s=h(10,7-r),y[m]=i>0?(f/h(10,a-i)%h(10,i)|0)*s:0),c)for(;;){if(0==m){(y[0]+=s)==p&&(y[0]=1,++e.e);break}if(y[m]+=s,y[m]!=p)break;y[m--]=0,s=1}for(r=y.length;0===y[--r];)y.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+j(e));return e}function T(e,t){var n,r,i,s,a,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?C(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((d=a<0)?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(s=i;s&&0===c[--s];)c[s]=p-1;--c[s],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,o?C(t,m):t):new f(0)}function I(e,t,n){var r,i=j(e),s=x(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+E(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+E(-i-1)+s,n&&(r=n-a)>0&&(s+=E(r))):i>=a?(s+=E(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+E(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=E(r))),e.s<0?"-"+s:s}function A(e,t){if(e.length>t)return e.length=t,!0}function O(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):k(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);k(t,e)}if(s.prototype=y,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=O,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return s.config(t),s}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),s=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=a},8468:(e,t,n)=>{var r=n(5816),i=n(644),s=n(4020);e.exports=function(e,t,n){return t===t?s(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),s=n(4052),a=n(9841),o=r?r.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),s=n(6571);e.exports=function(e){return s(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),s=n(2154),a=n(8734),o=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,s=i(e)?Array(e.length):[];return r(e,(function(e,r,i){s[++n]=t(e,r,i)})),s}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),s=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=s,e.exports=a},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),s=n(4052),a=n(9194),o=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&o(u)&&a(h,u)&&(s(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),s=n(3279),a=n(4052),o=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):o(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),s=n(715);e.exports=function(e){return i(e)?s(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),s=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9364:(e,t,n)=>{var r=n(9742),i=n(9096),s=n(61);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),s):void 0}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),s=n(8673);e.exports=function(e){return r(e,s,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),s=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return s.call(e,t)})))}:i;e.exports=o},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,s){for(var a=-1,o=n(t((r-e)/(i||1)),0),l=Array(o);o--;)l[s?o:++a]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,s=e.length;++i<s;){var a=e[i],o=t(a);if(null!=o&&(void 0===l?o===o&&!r(o):n(o,l)))var l=o,c=a}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var s=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:s,maxWait:t,trailing:a})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),s=n(3211),a=n(3668),o=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=o;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),s=n(8673);e.exports=function(e){return function(t,n,a){var o=Object(t);if(!i(t)){var l=r(n,3);t=s(t),n=function(e){return l(o[e],e,o)}}var c=e(t,n,a);return c>-1?o[l?t[c]:c]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>bq,scaleDiverging:()=>XX,scaleDivergingLog:()=>QX,scaleDivergingPow:()=>JX,scaleDivergingSqrt:()=>eQ,scaleDivergingSymlog:()=>ZX,scaleIdentity:()=>HY,scaleImplicit:()=>yq,scaleLinear:()=>$Y,scaleLog:()=>JY,scaleOrdinal:()=>vq,scalePoint:()=>wq,scalePow:()=>lK,scaleQuantile:()=>xK,scaleQuantize:()=>wK,scaleRadial:()=>dK,scaleSequential:()=>$X,scaleSequentialLog:()=>HX,scaleSequentialPow:()=>WX,scaleSequentialQuantile:()=>KX,scaleSequentialSqrt:()=>YX,scaleSequentialSymlog:()=>qX,scaleSqrt:()=>cK,scaleSymlog:()=>rK,scaleThreshold:()=>_K,scaleTime:()=>BX,scaleUtc:()=>UX,tickFormat:()=>VY});var t,r=n(5043),i=n.t(r,2),s=n(4391),a=n(7950),o=n.t(a,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(v6){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,d=t.Pop,m=null,g=y();function y(){return(o.state||{idx:null}).idx}function v(){d=t.Pop;let e=y(),n=null==e?null:e-g;g=e,m&&m({action:d,location:x.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(l({},o.state,{idx:g}),""));let x={get action(){return d},get location(){return e(s,o)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(c,v),m=e,()=>{s.removeEventListener(c,v),m=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){d=t.Push;let i=f(x.location,e,n);r&&r(i,e),g=y()+1;let l=h(i,g),c=x.createHref(i);try{o.pushState(l,"",c)}catch(Zg){if(Zg instanceof DOMException&&"DataCloneError"===Zg.name)throw Zg;s.location.assign(c)}a&&m&&m({action:d,location:x.location,delta:1})},replace:function(e,n){d=t.Replace;let i=f(x.location,e,n);r&&r(i,e),g=y();let s=h(i,g),l=x.createHref(i);o.replaceState(s,"",l),a&&m&&m({action:d,location:x.location,delta:0})},go:e=>o.go(e)};return x}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=P(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=O(i);a=I(s[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(u(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=F([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=w(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,j=3,S=2,E=1,N=10,k=-2,C=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=k),t&&(r+=S),n.filter((e=>!C(e))).reduce(((e,t)=>e+(_.test(t)?j:""===t?E:N)),r)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:F([s,u.pathname]),pathnameBase:B(F([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=F([s,u.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function O(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Zg){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Zg+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=D(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),u(!i.pathname||!i.pathname.includes("?"),M("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),M("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),M("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:V(i)}}(i,s),d=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const $=["post","put","patch","delete"],H=(new Set($),["get",...$]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const W=r.createContext(null);const Y=r.createContext(null);const K=r.createContext(null);const G=r.createContext(null);const X=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=r.createContext(null);function Z(){return null!=r.useContext(G)}function J(){return Z()||u(!1),r.useContext(G).location}function ee(e){r.useContext(K).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(X);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=r.useRef(!1);ee((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t]);return i}():function(){Z()||u(!1);let e=r.useContext(W),{basename:t,future:n,navigator:i}=r.useContext(K),{matches:s}=r.useContext(X),{pathname:a}=J(),o=JSON.stringify(R(s,n.v7_relativeSplatPath)),l=r.useRef(!1);ee((()=>{l.current=!0}));let c=r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let s=L(n,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,o,a,e]);return c}()}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(K),{matches:s}=r.useContext(X),{pathname:a}=J(),o=JSON.stringify(R(s,i.v7_relativeSplatPath));return r.useMemo((()=>L(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function re(e,n,i,s){Z()||u(!1);let{navigator:a,static:o}=r.useContext(K),{matches:l}=r.useContext(X),c=l[l.length-1],d=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=J();if(n){var g;let e="string"===typeof n?m(n):n;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||u(!1),f=e}else f=p;let y=f.pathname||"/",b=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!o&&i&&i.matches&&i.matches.length>0?i.matches:v(e,{pathname:b});let w=le(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:F([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:F([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,s);return n&&w?r.createElement(G.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:t.Pop}},w):w}function ie(){let e=function(){var e;let t=r.useContext(Q),n=he(ue.UseRouteError),i=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const se=r.createElement(ie,null);class ae extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(X.Provider,{value:this.props.routeContext},r.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(W);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(X.Provider,{value:t},i)}function le(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||u(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,i,s)=>{let a,u=!1,h=null,f=null;var p;n&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||se,c&&(d<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),u=!0,f=null):d===s&&(u=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?h:u?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(oe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=r.useContext(W);return t||u(!1),t}function he(e){let t=r.useContext(Y);return t||u(!1),t}function fe(e){let t=function(){let e=r.useContext(X);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ge(e){let{to:t,replace:n,state:i,relative:s}=e;Z()||u(!1);let{future:a,static:o}=r.useContext(K),{matches:l}=r.useContext(X),{pathname:c}=J(),d=te(),h=L(t,R(l,a.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(h);return r.useEffect((()=>d(JSON.parse(f),{replace:n,state:i,relative:s})),[d,f,s,n,i]),null}function ye(e){u(!1)}function ve(e){let{basename:n="/",children:i=null,location:s,navigationType:a=t.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&u(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:d,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},c)})),[d,c,o,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=s,b=r.useMemo((()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:v},navigationType:a}}),[d,f,p,g,y,v,a]);return null==b?null:r.createElement(K.Provider,{value:h},r.createElement(G.Provider,{children:i,value:b}))}function be(e){let{children:t,location:n}=e;return re(xe(t),n)}new Promise((()=>{}));r.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,xe(e.props.children,s));e.type!==ye&&u(!1),e.props.index&&e.props.children&&u(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,s)),n.push(a)})),n}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(v6){}new Map;const Se=i.startTransition;o.flushSync,i.useId;function Ee(e){let{basename:t,children:n,future:i,window:s}=e,a=r.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,o)));let l=a.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=r.useCallback((e=>{d&&Se?Se((()=>u(e))):u(e)}),[u,d]);return r.useLayoutEffect((()=>l.listen(h)),[l,h]),r.useEffect((()=>me(i)),[i]),r.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,m=_e(e,je),{basename:g}=r.useContext(K),y=!1;if("string"===typeof d&&ke.test(d)&&(n=d,Ne))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(v6){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||u(!1);let{basename:i,navigator:s}=r.useContext(K),{hash:a,pathname:o,search:l}=ne(e,{relative:n}),c=o;return"/"!==i&&(c="/"===o?i:F([i,o])),s.createHref({pathname:c,search:l,hash:a})}(d,{relative:s}),b=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=te(),u=J(),d=ne(e,{relative:o});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:p(u)===p(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,d,i,s,n,e,a,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});return r.createElement("a",we({},m,{href:n||v,onClick:y||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Te,Ie;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));const Ae=!1,Oe=!1,Pe="${JSCORE_VERSION}",Me=function(e,t){if(!e)throw De(t)},De=function(e){return new Error("Firebase Database ("+Pe+") INTERNAL ASSERT FAILED: "+e)},Re=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Re(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Fe;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(e){const t=Re(e);return Le.encodeByteArray(t,!0)},Ue=function(e){return Be(e).replace(/\./g,"")},Ve=function(e){try{return Le.decodeString(e,!0)}catch(v6){console.error("base64Decode failed: ",v6)}return null};function ze(e){return $e(void 0,e)}function $e(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=$e(e[n],t[n]));return e}const He=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,qe=()=>{try{return He()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API:"AIzaSyDQIMqO4bJ-k4-pjjGnHGwCbCYUFUQe7Hw",REACT_APP_FIREBASE_APP_ID:"1:300630412358:web:44afc1a224507ccb764e47",REACT_APP_FIREBASE_DATABASE_URL:"https://smartecolock-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_DOMAIN:"smartecolock.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-PNBNJ39FE0",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"300630412358",REACT_APP_FIREBASE_PROJECT_ID:"smartecolock",REACT_APP_FIREBASE_STORAGE_BUCKET:"smartecolock.appspot.com",REACT_APP_GEMINI_API:"AIzaSyBYLXhvqwNsxNzMAMcxBlnAulcFOhNQhEk"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(v6){return}const t=e&&Ve(e[1]);return t&&JSON.parse(t)})()}catch(v6){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${v6}`)}},We=e=>{var t,n;return null===(n=null===(t=qe())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ye=e=>{const t=We(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ke=()=>{var e;return null===(e=qe())||void 0===e?void 0:e.config},Ge=e=>{var t;return null===(t=qe())||void 0===t?void 0:t[`_${e}`]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Qe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(s)),""].join(".")}function Ze(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Je(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function et(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function tt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function nt(){return!0===Ae||!0===Oe}function rt(){return!function(){var e;const t=null===(e=qe())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(v6){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function it(){try{return"object"===typeof indexedDB}catch(v6){return!1}}function st(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Zg){t(Zg)}}))}class at extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,at.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ot.prototype.create)}}class ot{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(lt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new at(n,s,t)}}const lt=/\{\$([^}]+)}/g;function ct(e){return JSON.parse(e)}function ut(e){return JSON.stringify(e)}const dt=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=ct(Ve(s[0])||""),n=ct(Ve(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(v6){}return{header:t,claims:n,data:r,signature:i}};function ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ft(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function pt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function mt(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function gt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(yt(n)&&yt(s)){if(!gt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yt(e){return null!==e&&"object"===typeof e}function vt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function bt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function xt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class wt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],a=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^a&(o^l),i=1518500249):(r=a^o^l,i=1859775393):u<60?(r=a&o|l&(a|o),i=2400959708):(r=a^o^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=o,o=4294967295&(a<<30|a>>>2),a=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class _t{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=jt),void 0===r.error&&(r.error=jt),void 0===r.complete&&(r.complete=jt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(v6){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(v6){"undefined"!==typeof console&&console.error&&console.error(v6)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function jt(){}function St(e,t){return`${e} failed: ${t} argument `}const Et=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Nt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function kt(e){return e&&e._delegate?e._delegate:e}class Ct{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Tt="[DEFAULT]";class It{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(v6){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(v6){if(r)return null;throw v6}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Tt})}catch(v6){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(v6){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Tt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;return this.component?this.component.multipleInstances?e:Tt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class At{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new It(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ot=[];var Pt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Pt||(Pt={}));const Mt={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Dt=Pt.INFO,Rt={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},Lt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Rt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class Ft{constructor(e){this.name=e,this._logLevel=Dt,this._logHandler=Lt,this._userLogHandler=null,Ot.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Mt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}let Bt,Ut;const Vt=new WeakMap,zt=new WeakMap,$t=new WeakMap,Ht=new WeakMap,qt=new WeakMap;let Wt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$t.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Yt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ut||(Ut=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Xt(this),n),Gt(Vt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gt(e.apply(Xt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Xt(this),t,...r);return $t.set(s,t.sort?t.sort():[t]),Gt(s)}}function Kt(e){return"function"===typeof e?Yt(e):(e instanceof IDBTransaction&&function(e){if(zt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));zt.set(e,t)}(e),((e,t)=>t.some((t=>e instanceof t)))(e,Bt||(Bt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Wt):e)}function Gt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Gt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Vt.set(t,e)})).catch((()=>{})),qt.set(t,e),t}(e);if(Ht.has(e))return Ht.get(e);const t=Kt(e);return t!==e&&(Ht.set(e,t),qt.set(t,e)),t}const Xt=e=>qt.get(e);function Qt(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Gt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Gt(a.result),e.oldVersion,e.newVersion,Gt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const Zt=["get","getKey","getAll","getAllKeys","count"],Jt=["put","add","delete","clear"],en=new Map;function tn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(en.get(t))return en.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Jt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Zt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return en.set(t,s),s}!function(e){Wt=e(Wt)}((e=>({...e,get:(t,n,r)=>tn(t,n)||e.get(t,n,r),has:(t,n)=>!!tn(t,n)||e.has(t,n)})));class nn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const rn="@firebase/app",sn="0.10.13",an=new Ft("@firebase/app"),on="@firebase/app-compat",ln="@firebase/analytics-compat",cn="@firebase/analytics",un="@firebase/app-check-compat",dn="@firebase/app-check",hn="@firebase/auth",fn="@firebase/auth-compat",pn="@firebase/database",mn="@firebase/data-connect",gn="@firebase/database-compat",yn="@firebase/functions",vn="@firebase/functions-compat",bn="@firebase/installations",xn="@firebase/installations-compat",wn="@firebase/messaging",_n="@firebase/messaging-compat",jn="@firebase/performance",Sn="@firebase/performance-compat",En="@firebase/remote-config",Nn="@firebase/remote-config-compat",kn="@firebase/storage",Cn="@firebase/storage-compat",Tn="@firebase/firestore",In="@firebase/vertexai-preview",An="@firebase/firestore-compat",On="firebase",Pn="[DEFAULT]",Mn={[rn]:"fire-core",[on]:"fire-core-compat",[cn]:"fire-analytics",[ln]:"fire-analytics-compat",[dn]:"fire-app-check",[un]:"fire-app-check-compat",[hn]:"fire-auth",[fn]:"fire-auth-compat",[pn]:"fire-rtdb",[mn]:"fire-data-connect",[gn]:"fire-rtdb-compat",[yn]:"fire-fn",[vn]:"fire-fn-compat",[bn]:"fire-iid",[xn]:"fire-iid-compat",[wn]:"fire-fcm",[_n]:"fire-fcm-compat",[jn]:"fire-perf",[Sn]:"fire-perf-compat",[En]:"fire-rc",[Nn]:"fire-rc-compat",[kn]:"fire-gcs",[Cn]:"fire-gcs-compat",[Tn]:"fire-fst",[An]:"fire-fst-compat",[In]:"fire-vertex","fire-js":"fire-js",[On]:"fire-js-all"},Dn=new Map,Rn=new Map,Ln=new Map;function Fn(e,t){try{e.container.addComponent(t)}catch(v6){an.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,v6)}}function Bn(e){const t=e.name;if(Ln.has(t))return an.debug(`There were multiple attempts to register component ${t}.`),!1;Ln.set(t,e);for(const n of Dn.values())Fn(n,e);for(const n of Rn.values())Fn(n,e);return!0}function Un(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vn(e){return void 0!==e.settings}const zn=new ot("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class $n{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ct("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const Hn="10.14.1";function qn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw zn.create("bad-app-name",{appName:String(i)});if(n||(n=Ke()),!n)throw zn.create("no-options");const s=Dn.get(i);if(s){if(gt(n,s.options)&&gt(r,s.config))return s;throw zn.create("duplicate-app",{appName:i})}const a=new At(i);for(const l of Ln.values())a.addComponent(l);const o=new $n(n,r,a);return Dn.set(i,o),o}function Wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn;const t=Dn.get(e);if(!t&&e===Pn&&Ke())return qn();if(!t)throw zn.create("no-app",{appName:e});return t}function Yn(e,t,n){var r;let i=null!==(r=Mn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void an.warn(e.join(" "))}Bn(new Ct(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Kn="firebase-heartbeat-store";let Gn=null;function Xn(){return Gn||(Gn=Qt("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Kn)}catch(v6){console.warn(v6)}}}).catch((e=>{throw zn.create("idb-open",{originalErrorMessage:e.message})}))),Gn}async function Qn(e,t){try{const n=(await Xn()).transaction(Kn,"readwrite"),r=n.objectStore(Kn);await r.put(t,Zn(e)),await n.done}catch(v6){if(v6 instanceof at)an.warn(v6.message);else{const t=zn.create("idb-set",{originalErrorMessage:null===v6||void 0===v6?void 0:v6.message});an.warn(t.message)}}}function Zn(e){return`${e.name}!${e.options.appId}`}class Jn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=er();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(v6){an.warn(v6)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=er(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),nr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ue(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(v6){return an.warn(v6),""}}}function er(){return(new Date).toISOString().substring(0,10)}class tr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!it()&&st().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Xn()).transaction(Kn),n=await t.objectStore(Kn).get(Zn(e));return await t.done,n}catch(v6){if(v6 instanceof at)an.warn(v6.message);else{const t=zn.create("idb-get",{originalErrorMessage:null===v6||void 0===v6?void 0:v6.message});an.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Qn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Qn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function nr(e){return Ue(JSON.stringify({version:2,heartbeats:e})).length}var rr;rr="",Bn(new Ct("platform-logger",(e=>new nn(e)),"PRIVATE")),Bn(new Ct("heartbeat",(e=>new Jn(e)),"PRIVATE")),Yn(rn,sn,rr),Yn(rn,sn,"esm2017"),Yn("fire-js","");function ir(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function sr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ar=sr,or=new ot("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lr=new Ft("@firebase/auth");function cr(e){if(lr.logLevel<=Pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lr.error(`Auth (${Hn}): ${e}`,...n)}}function ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw pr(e,...n)}function dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return pr(e,...n)}function hr(e,t,n){const r=Object.assign(Object.assign({},ar()),{[t]:n});return new ot("auth","Firebase",r).create(t,{appName:e.name})}function fr(e){return hr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return or.create(e,...n)}function mr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw pr(t,...r)}}function gr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw cr(t),new Error(t)}function yr(e,t){e||gr(t)}function vr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function br(){return"http:"===xr()||"https:"===xr()}function xr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class wr{constructor(e,t){this.shortDelay=e,this.longDelay=t,yr(t>e,"Short delay should be less than long delay!"),this.isMobile=Je()||tt()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(br()||et()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _r(e,t){yr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class jr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Er=new wr(3e4,6e4);function Nr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function kr(e,t,n,r){return Cr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=vt(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),jr.fetch()(Ir(e,e.config.apiHost,n,a),l)}))}async function Cr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sr),t);try{const t=new Or(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Pr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Pr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Pr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Pr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw hr(e,o,a);ur(e,o)}}catch(v6){if(v6 instanceof at)throw v6;ur(e,"network-request-failed",{message:String(v6)})}}async function Tr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await kr(e,t,n,r,i);return"mfaPendingCredential"in s&&ur(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Ir(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?_r(e.config,i):`${e.config.apiScheme}://${i}`}function Ar(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Or{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(dr(this.auth,"network-request-failed"))),Er.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dr(e,t,r);return i.customData._tokenResponse=n,i}function Mr(e){return void 0!==e&&void 0!==e.enterprise}class Dr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ar(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Rr(e,t){return kr(e,"GET","/v2/recaptchaConfig",Nr(e,t))}async function Lr(e,t){return kr(e,"POST","/v1/accounts:lookup",t)}function Fr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(v6){}}function Br(e){return 1e3*Number(e)}function Ur(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return cr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ve(n);return e?JSON.parse(e):(cr("Failed to decode base64 JWT payload"),null)}catch(v6){return cr("Caught error parsing JWT payload as JSON",null===v6||void 0===v6?void 0:v6.toString()),null}}function Vr(e){const t=Ur(e);return mr(t,"internal-error"),mr("undefined"!==typeof t.exp,"internal-error"),mr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function zr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(v6){throw v6 instanceof at&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(v6)&&e.auth.currentUser===e&&await e.auth.signOut(),v6}}class $r{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(v6){return void("auth/network-request-failed"===(null===v6||void 0===v6?void 0:v6.code)&&this.schedule(!0))}this.schedule()}}class Hr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fr(this.lastLoginAt),this.creationTime=Fr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await zr(e,Lr(n,{idToken:r}));mr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Wr(s.providerUserInfo):[],o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Hr(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Wr(e){return e.map((e=>{var{providerId:t}=e,n=ir(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Yr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mr(e.idToken,"internal-error"),mr("undefined"!==typeof e.idToken,"internal-error"),mr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Vr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mr(0!==e.length,"internal-error");const t=Vr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(mr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Cr(e,{},(async()=>{const n=vt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Ir(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jr.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Yr;return n&&(mr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(mr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(mr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yr,this.toJSON())}_performRefresh(){return gr("not implemented")}}function Kr(e,t){mr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Gr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ir(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await zr(this,this.stsTokenManager.getToken(this.auth,e));return mr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=kt(e),r=await n.getIdToken(t),i=Ur(r);mr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fr(Br(i.auth_time)),issuedAtTime:Fr(Br(i.iat)),expirationTime:Fr(Br(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=kt(e);await qr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(mr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){mr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await qr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await zr(this,async function(e,t){return kr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:_}=t;mr(v&&_,e,"internal-error");const j=Yr.fromJSON(this.name,_);mr("string"===typeof v,e,"internal-error"),Kr(u,e.name),Kr(d,e.name),mr("boolean"===typeof b,e,"internal-error"),mr("boolean"===typeof x,e,"internal-error"),Kr(h,e.name),Kr(f,e.name),Kr(p,e.name),Kr(m,e.name),Kr(g,e.name),Kr(y,e.name);const S=new Gr({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:j,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(S.providerData=w.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Yr;r.updateFromServerResponse(t);const i=new Gr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await qr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];mr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Wr(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Yr;a.updateFromIdToken(n);const o=new Gr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Hr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Xr=new Map;function Qr(e){yr(e instanceof Function,"Expected a class definition");let t=Xr.get(e);return t?(yr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xr.set(e,t),t)}class Zr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Zr.type="NONE";const Jr=Zr;function ei(e,t,n){return`firebase:${e}:${t}:${n}`}class ti{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ei(this.userKey,r.apiKey,i),this.fullPersistenceKey=ei("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ti(Qr(Jr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Qr(Jr);const s=ei(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Gr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new ti(i,e,n)):new ti(i,e,n)}}function ni(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ai(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ri(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(li(t))return"Blackberry";if(ci(t))return"Webos";if(ii(t))return"Safari";if((t.includes("chrome/")||si(t))&&!t.includes("edge/"))return"Chrome";if(oi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/firefox\//i.test(e)}function ii(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/crios\//i.test(e)}function ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/iemobile/i.test(e)}function oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/android/i.test(e)}function li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/blackberry/i.test(e)}function ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/webos/i.test(e)}function ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function di(){return function(){const e=Ze();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return ui(e)||oi(e)||ci(e)||li(e)||/windows phone/i.test(e)||ai(e)}function fi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ni(Ze());break;case"Worker":t=`${ni(Ze())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hn}/${r}`}class pi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(v6){r(v6)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(v6){t.reverse();for(const n of t)try{n()}catch(X6){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===v6||void 0===v6?void 0:v6.message})}}}class mi{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class gi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vi(this),this.idTokenSubscription=new vi(this),this.beforeStateQueue=new pi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=or,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ti.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(v6){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Lr(this,{idToken:e}),n=await Gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Vn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(v6){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(v6)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(v6){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qr(e)}catch(v6){if("auth/network-request-failed"!==(null===v6||void 0===v6?void 0:v6.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(fr(this));const t=e?kt(e):null;return t&&mr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&mr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Vn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(fr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Qr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return kr(e,"GET","/v2/passwordPolicy",Nr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new mi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ot("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return kr(e,"POST","/v2/accounts:revokeToken",Nr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qr(e)||this._popupRedirectResolver;mr(t,this,"argument-error"),this.redirectPersistenceManager=await ti.create(this,[Qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(mr(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(lr.logLevel<=Pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lr.warn(`Auth (${Hn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function yi(e){return kt(e)}class vi{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new _t(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return mr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xi(e){return bi.loadJS(e)}function wi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class _i{constructor(e){this.type="recaptcha-enterprise",this.auth=yi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Mr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Rr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Dr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Mr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=bi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),xi(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ji(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new _i(e);let s;try{s=await i.verify(n)}catch(Zg){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Si(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ji(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await ji(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ei(e,t,n){const r=yi(e);mr(r._canInitEmulator,r,"emulator-config-failed"),mr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Ni(t),{host:a,port:o}=function(e){const t=Ni(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ki(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ki(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ni(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ki(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ci{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,t){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function Ti(e,t){return kr(e,"POST","/v1/accounts:signUp",t)}async function Ii(e,t){return Tr(e,"POST","/v1/accounts:signInWithPassword",Nr(e,t))}async function Ai(e,t){return kr(e,"POST","/v1/accounts:sendOobCode",Nr(e,t))}async function Oi(e,t){return Ai(e,t)}class Pi extends Ci{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Pi(e,t,"password")}static _fromEmailAndCode(e,t){return new Pi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Si(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ii);case"emailLink":return async function(e,t){return Tr(e,"POST","/v1/accounts:signInWithEmailLink",Nr(e,t))}(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Si(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ti);case"emailLink":return async function(e,t){return Tr(e,"POST","/v1/accounts:signInWithEmailLink",Nr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Mi(e,t){return Tr(e,"POST","/v1/accounts:signInWithIdp",Nr(e,t))}class Di extends Ci{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ur("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ir(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Di(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Mi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Mi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vt(t)}return e}}const Ri={USER_NOT_FOUND:"user-not-found"};class Li extends Ci{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Li({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Li({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Tr(e,"POST","/v1/accounts:signInWithPhoneNumber",Nr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Tr(e,"POST","/v1/accounts:signInWithPhoneNumber",Nr(e,t));if(n.temporaryProof)throw Pr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Tr(e,"POST","/v1/accounts:signInWithPhoneNumber",Nr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ri)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Li({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fi{constructor(e){var t,n,r,i,s,a;const o=bt(xt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);mr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=bt(xt(e)).link,n=t?bt(xt(t)).deep_link_id:null,r=bt(xt(e)).deep_link_id;return(r?bt(xt(r)).link:null)||r||n||t||e}(e);try{return new Fi(t)}catch(n){return null}}}class Bi{constructor(){this.providerId=Bi.PROVIDER_ID}static credential(e,t){return Pi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fi.parseLink(t);return mr(n,"argument-error"),Pi._fromEmailAndCode(e,n.code,n.tenantId)}}Bi.PROVIDER_ID="password",Bi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ui{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vi extends Ui{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zi extends Vi{constructor(){super("facebook.com")}static credential(e){return Di._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return zi.credential(t.oauthAccessToken)}catch(n){return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com",zi.PROVIDER_ID="facebook.com";class $i extends Vi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Di._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return $i.credential(n,r)}catch(i){return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com",$i.PROVIDER_ID="google.com";class Hi extends Vi{constructor(){super("github.com")}static credential(e){return Di._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hi.credential(t.oauthAccessToken)}catch(n){return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com",Hi.PROVIDER_ID="github.com";class qi extends Vi{constructor(){super("twitter.com")}static credential(e,t){return Di._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return qi.credential(n,r)}catch(i){return null}}}async function Wi(e,t){return Tr(e,"POST","/v1/accounts:signUp",Nr(e,t))}qi.TWITTER_SIGN_IN_METHOD="twitter.com",qi.PROVIDER_ID="twitter.com";class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Gr._fromIdTokenResponse(e,n,r),s=Ki(n);return new Yi({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ki(n);return new Yi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ki(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Gi extends at{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Gi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Gi(e,t,n,r)}}function Xi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Gi._fromErrorAndOperation(e,n,t,r);throw n}))}async function Qi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await zr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Yi._forOperation(e,"link",r)}async function Zi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Vn(r.app))return Promise.reject(fr(r));const i="reauthenticate";try{const s=await zr(e,Xi(r,i,t,e),n);mr(s.idToken,r,"internal-error");const a=Ur(s.idToken);mr(a,r,"internal-error");const{sub:o}=a;return mr(e.uid===o,r,"user-mismatch"),Yi._forOperation(e,i,s)}catch(v6){throw"auth/user-not-found"===(null===v6||void 0===v6?void 0:v6.code)&&ur(r,"user-mismatch"),v6}}async function Ji(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Vn(e.app))return Promise.reject(fr(e));const r="signIn",i=await Xi(e,r,t),s=await Yi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function es(e,t){return Ji(yi(e),t)}function ts(e,t,n){var r;mr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),mr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(mr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(mr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ns(e){const t=yi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rs(e,t,n){if(Vn(e.app))return Promise.reject(fr(e));const r=yi(e),i=Si(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wi),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ns(e),t})),a=await Yi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function is(e,t,n){return Vn(e.app)?Promise.reject(fr(e)):es(kt(e),Bi.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ns(e),t}))}function ss(e){return kt(e).signOut()}new WeakMap;const as="__sak";class os{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(as,"1"),this.storage.removeItem(as),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ls extends os{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);di()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ls.type="LOCAL";const cs=ls;class us extends os{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}us.type="SESSION";const ds=us;class hs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new hs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}hs.receivers=[];class ps{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=fs("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ms(){return window}function gs(){return"undefined"!==typeof ms().WorkerGlobalScope&&"function"===typeof ms().importScripts}const ys="firebaseLocalStorageDb",vs="firebaseLocalStorage",bs="fbase_key";class xs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ws(e,t){return e.transaction([vs],t?"readwrite":"readonly").objectStore(vs)}function _s(){const e=indexedDB.open(ys,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(vs,{keyPath:bs})}catch(v6){n(v6)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(vs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ys);return new xs(e).toPromise()}(),t(await _s()))}))}))}async function js(e,t,n){const r=ws(e,!0).put({[bs]:t,value:n});return new xs(r).toPromise()}function Ss(e,t){const n=ws(e,!0).delete(t);return new xs(n).toPromise()}class Es{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await _s()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(v6){if(t++>3)throw v6;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hs._getInstance(gs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ps(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _s();return await js(e,as,"1"),await Ss(e,as),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>js(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ws(e,!1).get(t),r=await new xs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ss(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ws(e,!1).getAll();return new xs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Es.type="LOCAL";const Ns=Es;wi("rcb"),new wr(3e4,6e4);const ks="recaptcha";async function Cs(e,t,n){var r;const i=await n.verify();try{let s;if(mr("string"===typeof i,e,"argument-error"),mr(n.type===ks,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){mr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return kr(e,"POST","/v2/accounts/mfaEnrollment:start",Nr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{mr("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;mr(n,e,"missing-multi-factor-info");const a=await function(e,t){return kr(e,"POST","/v2/accounts/mfaSignIn:start",Nr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return kr(e,"POST","/v1/accounts:sendVerificationCode",Nr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ts{constructor(e){this.providerId=Ts.PROVIDER_ID,this.auth=yi(e)}verifyPhoneNumber(e,t){return Cs(this.auth,e,kt(t))}static credential(e,t){return Li._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ts.credentialFromTaggedObject(t)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Li._fromTokenResponse(n,r):null}}function Is(e,t){return t?Qr(t):(mr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ts.PROVIDER_ID="phone",Ts.PHONE_SIGN_IN_METHOD="phone";class As extends Ci{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Os(e){return Ji(e.auth,new As(e),e.bypassAuthState)}function Ps(e){const{auth:t,user:n}=e;return mr(n,t,"internal-error"),Zi(n,new As(e),e.bypassAuthState)}async function Ms(e){const{auth:t,user:n}=e;return mr(n,t,"internal-error"),Qi(n,new As(e),e.bypassAuthState)}class Ds{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(v6){this.reject(v6)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(v6){this.reject(v6)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Os;case"linkViaPopup":case"linkViaRedirect":return Ms;case"reauthViaPopup":case"reauthViaRedirect":return Ps;default:ur(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rs=new wr(2e3,1e4);class Ls extends Ds{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mr(e,this.auth,"internal-error"),e}async onExecution(){yr(1===this.filter.length,"Popup operations only handle one event");const e=fs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(dr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Rs.get())};e()}}Ls.currentPopupAction=null;const Fs=new Map;class Bs extends Ds{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Fs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=zs(t),r=Vs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(v6){e=()=>Promise.reject(v6)}Fs.set(this.auth._key(),e)}return this.bypassAuthState||Fs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Us(e,t){Fs.set(e._key(),t)}function Vs(e){return Qr(e._redirectPersistence)}function zs(e){return ei("pendingRedirect",e.config.apiKey,e.name)}async function $s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Vn(e.app))return Promise.reject(fr(e));const r=yi(e),i=Is(r,t),s=new Bs(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Hs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ws(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ws(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(dr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qs(e))}saveEventToCache(e){this.cachedEventUids.add(qs(e)),this.lastProcessedEventTime=Date.now()}}function qs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ws(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Ys=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ks=/^https?/;async function Gs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return kr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Xs(r))return}catch(n){}ur(e,"unauthorized-domain")}function Xs(e){const t=vr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ks.test(n))return!1;if(Ys.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qs=new wr(3e4,6e4);function Zs(){const e=ms().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Js(e){return new Promise(((t,n)=>{var r,i,s;function a(){Zs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Zs(),n(dr(e,"network-request-failed"))},timeout:Qs.get()})}if(null===(i=null===(r=ms().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ms().gapi)||void 0===s?void 0:s.load)){const t=wi("iframefcb");return ms()[t]=()=>{gapi.load?a():n(dr(e,"network-request-failed"))},xi(`${bi.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw ea=null,e}))}let ea=null;const ta=new wr(5e3,15e3),na={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ra=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ia(e){const t=e.config;mr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_r(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Hn},i=ra.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vt(r).slice(1)}`}async function sa(e){const t=await function(e){return ea=ea||Js(e),ea}(e),n=ms().gapi;return mr(n,e,"internal-error"),t.open({where:document.body,url:ia(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:na,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=dr(e,"network-request-failed"),s=ms().setTimeout((()=>{r(i)}),ta.get());function a(){ms().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const aa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oa{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(v6){}}}function la(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},aa),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ze().toLowerCase();n&&(o=si(c)?"_blank":n),ri(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return ui(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new oa(null);const d=window.open(t||"",o,u);mr(d,e,"popup-blocked");try{d.focus()}catch(v6){}return new oa(d)}const ca="__/auth/handler",ua="emulator/auth/handler",da=encodeURIComponent("fac");async function ha(e,t,n,r,i,s){mr(e.config.authDomain,e,"auth-domain-config-required"),mr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Hn,eventId:i};if(t instanceof Ui){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",pt(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Vi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${da}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${ca}`;return _r(t,ua)}(e)}?${vt(o).slice(1)}${c}`}const fa="webStorageSupport";const pa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=$s,this._overrideRedirectResult=Us}async _openPopup(e,t,n,r){var i;yr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return la(e,await ha(e,t,n,vr(),r),fs())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ms().location.href=e}(await ha(e,t,n,vr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(yr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await sa(e),n=new Hs(e);return t.register("authEvent",(t=>{mr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fa,{type:fa},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[fa];void 0!==i&&t(!!i),ur(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Gs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hi()||ii()||ui()}};var ma="@firebase/auth",ga="1.7.9";class ya{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const va=Ge("authIdTokenMaxAge")||300;let ba=null;var xa;!function(e){bi=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=dr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),xa="Browser",Bn(new Ct("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;mr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:xa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fi(xa)},c=new gi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Bn(new Ct("auth-internal",(e=>(e=>new ya(e))(yi(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(ma,ga,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(xa)),Yn(ma,ga,"esm2017");Yn("firebase","10.14.1","app");const wa="@firebase/installations",_a="0.6.9",ja=1e4,Sa=`w:${_a}`,Ea="FIS_v2",Na=36e5,ka=new ot("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ca(e){return e instanceof at&&e.code.includes("request-failed")}function Ta(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Ia(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Aa(e,t){const n=(await t.json()).error;return ka.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Oa(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Pa(e,t){let{refreshToken:n}=t;const r=Oa(e);return r.append("Authorization",function(e){return`${Ea} ${e}`}(n)),r}async function Ma(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Da(e){return new Promise((t=>{setTimeout(t,e)}))}const Ra=/^[cdef][\w-]{21}$/;function La(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return Ra.test(t)?t:""}catch(e){return""}}function Fa(e){return`${e.appName}!${e.appId}`}const Ba=new Map;function Ua(e,t){const n=Fa(e);Va(n,t),function(e,t){const n=$a();n&&n.postMessage({key:e,fid:t});Ha()}(n,t)}function Va(e,t){const n=Ba.get(e);if(n)for(const r of n)r(t)}let za=null;function $a(){return!za&&"BroadcastChannel"in self&&(za=new BroadcastChannel("[Firebase] FID Change"),za.onmessage=e=>{Va(e.data.key,e.data.fid)}),za}function Ha(){0===Ba.size&&za&&(za.close(),za=null)}const qa="firebase-installations-store";let Wa=null;function Ya(){return Wa||(Wa=Qt("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(qa)}})),Wa}async function Ka(e,t){const n=Fa(e),r=(await Ya()).transaction(qa,"readwrite"),i=r.objectStore(qa),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||Ua(e,t.fid),t}async function Ga(e){const t=Fa(e),n=(await Ya()).transaction(qa,"readwrite");await n.objectStore(qa).delete(t),await n.done}async function Xa(e,t){const n=Fa(e),r=(await Ya()).transaction(qa,"readwrite"),i=r.objectStore(qa),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||Ua(e,a.fid),a}async function Qa(e){let t;const n=await Xa(e.appConfig,(n=>{const r=function(e){const t=e||{fid:La(),registrationStatus:0};return eo(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(ka.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Ta(n),a=Oa(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:Ea,appId:n.appId,sdkVersion:Sa},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Ma((()=>fetch(s,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ia(e.authToken)}}throw await Aa("Create Installation",u)}(e,t);return Ka(e.appConfig,n)}catch(v6){throw Ca(v6)&&409===v6.customData.serverCode?await Ga(e.appConfig):await Ka(e.appConfig,{fid:t.fid,registrationStatus:0}),v6}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Za(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Za(e){let t=await Ja(e.appConfig);for(;1===t.registrationStatus;)await Da(100),t=await Ja(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Qa(e);return n||t}return t}function Ja(e){return Xa(e,(e=>{if(!e)throw ka.create("installation-not-found");return eo(e)}))}function eo(e){return 1===(t=e).registrationStatus&&t.registrationTime+ja<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function to(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Ta(e)}/${n}/authTokens:generate`}(n,t),s=Pa(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:Sa,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await Ma((()=>fetch(i,l)));if(c.ok){return Ia(await c.json())}throw await Aa("Generate Auth Token",c)}async function no(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Xa(e.appConfig,(r=>{if(!io(r))throw ka.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Na}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await ro(e.appConfig);for(;1===n.authToken.requestStatus;)await Da(100),n=await ro(e.appConfig);const r=n.authToken;return 0===r.requestStatus?no(e,t):r}(e,n),r;{if(!navigator.onLine)throw ka.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await to(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Ka(e.appConfig,r),n}catch(v6){if(!Ca(v6)||401!==v6.customData.serverCode&&404!==v6.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Ka(e.appConfig,n)}else await Ga(e.appConfig);throw v6}}(e,n),n}}));return t?await t:r.authToken}function ro(e){return Xa(e,(e=>{if(!io(e))throw ka.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ja<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function io(e){return void 0!==e&&2===e.registrationStatus}async function so(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Qa(e);t&&await t}(n);return(await no(n,t)).token}function ao(e){return ka.create("missing-app-config-values",{valueName:e})}const oo="installations",lo=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ao("App Configuration");if(!e.name)throw ao("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ao(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Un(t,"heartbeat"),_delete:()=>Promise.resolve()}},co=e=>{const t=Un(e.getProvider("app").getImmediate(),oo).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Qa(t);return r?r.catch(console.error):no(t).catch(console.error),n.fid}(t),getToken:e=>so(t,e)}};Bn(new Ct(oo,lo,"PUBLIC")),Bn(new Ct("installations-internal",co,"PRIVATE")),Yn(wa,_a),Yn(wa,_a,"esm2017");const uo="analytics",ho="https://www.googletagmanager.com/gtag/js",fo=new Ft("@firebase/analytics"),po=new ot("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mo(e){if(!e.startsWith(ho)){const t=po.create("invalid-gtag-resource",{gtagURL:e});return fo.warn(t.message),""}return e}function go(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function yo(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:mo}),r=document.createElement("script"),i=`${ho}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function vo(e,t,n,r){return async function(i){try{for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await go(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(v6){fo.error(v6)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=a;await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await go(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(v6){fo.error(v6)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(v6){fo.error(v6)}}}const bo=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function xo(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function wo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bo,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw po.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw po.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new jo;return setTimeout((async()=>{o.abort()}),void 0!==n?n:6e4),_o({appId:r,apiKey:i,measurementId:s},a,o,t)}async function _o(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bo;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(po.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(v6){if(l)return fo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===v6||void 0===v6?void 0:v6.message}]`),{appId:o,measurementId:l};throw v6}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:xo(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(s,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw po.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(o),t}catch(v6){const r=v6;if(!function(e){if(!(e instanceof at)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(o),l)return fo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:o,measurementId:l};throw v6}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?Nt(i,s.intervalMillis,30):Nt(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(o,u),fo.debug(`Calling attemptFetch again in ${c} millis`),_o(e,u,n,s)}}class jo{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let So,Eo;function No(e){Eo=e}function ko(e){So=e}async function Co(e,t,n,r,i,s,a){var o;const l=wo(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&fo.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>fo.error(e))),t.push(l);const c=async function(){if(!it())return fo.warn(po.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await st()}catch(v6){return fo.warn(po.create("indexeddb-unavailable",{errorInfo:null===v6||void 0===v6?void 0:v6.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ho)&&n.src.includes(e))return n;return null})(s)||yo(s,u.measurementId),Eo&&(i("consent","default",Eo),No(void 0)),i("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),So&&(i("set",So),ko(void 0)),u.measurementId}class To{constructor(e){this.app=e}_delete(){return delete Io[this.app.options.appId],Promise.resolve()}}let Io={},Ao=[];const Oo={};let Po,Mo,Do="dataLayer",Ro="gtag",Lo=!1;function Fo(){const e=[];if(et()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=po.create("invalid-analytics-context",{errorInfo:t});fo.warn(n.message)}}function Bo(e,t,n){Fo();const r=e.options.appId;if(!r)throw po.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw po.create("no-api-key");fo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Io[r])throw po.create("already-exists",{id:r});if(!Lo){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Do);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=vo(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Io,Ao,Oo,Do,Ro);Mo=e,Po=t,Lo=!0}Io[r]=Co(e,Ao,Oo,t,Po,Do,n);return new To(e)}function Uo(e,t,n,r){e=kt(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Mo,Io[e.app.options.appId],t,n,r).catch((e=>fo.error(e)))}const Vo="@firebase/analytics",zo="0.10.8";Bn(new Ct(uo,((e,t)=>{let{options:n}=t;return Bo(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Bn(new Ct("analytics-internal",(function(e){try{const t=e.getProvider(uo).getImmediate();return{logEvent:(e,n,r)=>Uo(t,e,n,r)}}catch(v6){throw po.create("interop-component-reg-failed",{reason:v6})}}),"PRIVATE")),Yn(Vo,zo),Yn(Vo,zo,"esm2017");var $o,Ho,qo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Wo={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ho=Wo.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},$o=Wo.Integer=r}).apply("undefined"!==typeof qo?qo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Yo,Ko,Go,Xo,Qo,Zo,Jo,el,tl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},nl={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof tl&&tl];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=T;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new N),(e=>e.reset()));class N{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let k,C=!1,T=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);k=()=>{e.then(A)}};var A=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(kz){j(kz)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function O(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(kz){}return e}();function D(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(T6){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,P);var R={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function B(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new B(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function W(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):Y(e,t,n,!1,r,i)}function Y(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=J(e);if(l||(e[H]=l=new V(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):Y(e,t,n,!0,r,i)}function G(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function Q(e){return e in q?q[e]:q[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function J(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;w(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,O),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}d(le,O);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function be(){P.call(this,"c")}d(ve,P),d(be,P);var xe={},we=null;function _e(){return we=we||new ne}function je(e){P.call(this,xe.La,e)}function Se(e){const t=_e();re(t,new je(t))}function Ee(e,t){P.call(this,xe.STAT_EVENT,e),this.stat=t}function Ne(e){const t=_e();re(t,new Ee(t,e))}function ke(e,t){P.call(this,xe.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Te(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(je,P),xe.STAT_EVENT="statevent",d(Ee,P),xe.Ma="timingevent",d(ke,P),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ae,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(Me,pe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Ae=new Me;var Le={},Fe={};function Be(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||on(e.j,e)}function Ye(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Je(n.h,e)))if(!e.K&&Je(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(x6){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Gt(n)}nn(n),Ne(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Ze(n.h)&&n.ca){try{n.ca()}catch(x6){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(qe(o),$e(o)),r.g=a}else tn(r);0<n.i.length&&Qt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Kt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(x6){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||Se(),qe(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=qt(this.g);e="";var s=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ye(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ne(12),Ye(this),We(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=ze(this,o),e==Fe){4==h&&(this.s=4,Ne(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ne(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ke(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ne(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),rn(d),d.M=!0,Ne(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ye(this),We(this)}else Ie(this.i,this.l,o,null),Ke(this,o);4==h&&Ye(this),this.o&&!this.J&&(4==h?on(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Ye(this),We(this)}}}catch(rl){}},De.prototype.cancel=function(){this.J=!0,Ye(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),Ne(17)),Ye(this),this.s=2,We(this)):He(this,this.S-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function Je(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){wt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jt(e,t){return wt(e),t=Et(e,t),e.g.has(t)}function St(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(T6){}}function kt(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(v6){throw t.push(r+"type="+encodeURIComponent("_badmap")),v6}}function Tt(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)jt(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,jt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Tt,pe),Tt.prototype.g=function(){return new It(this.l,this.j)},Tt.prototype.i=function(e){return function(){return e}}({}),d(It,ne),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Pt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),zt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Lt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Ut(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(v6){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(al){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new kt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Jt(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(C6){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}un(e)}function Gt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Gt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Qt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;k||I(),C||(k(),C=!0),T.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Jt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Be(n,r,t)}function Jt(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ct(o,e,"req"+n+"_")}catch(rl){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;k||I(),C||(k(),C=!0),T.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Jt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Je(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new ke(r,n)),Qt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Te;if(i.Image){const r=new Image;r.onload=u(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Nt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout((()=>{n.abort(),Nt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Nt(0,0,!1,t)}))}(r.toString(),n)}else Ne(2);e.G=0,e.l&&e.l.sa(t),un(e),Xt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Jt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Tt({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(T6){return void Bt(this,T6)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(T6){Bt(this,T6)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(Iz){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Iz){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Qt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Jt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Mt(s)))+"&"+t:this.m&&Dt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Be(i,n,null)):Be(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Qe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Gt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Gt(this),nn(this),Ne(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Kt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.G&&Qt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,el=nl.createWebChannelTransport=function(){return new pn},Jo=nl.getStatEventTarget=function(){return _e()},Zo=nl.Event=xe,Qo=nl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Xo=nl.ErrorCode=Oe,Pe.COMPLETE="complete",Go=nl.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ko=nl.WebChannel=ge,nl.FetchXmlHttpFactory=Tt,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Yo=nl.XhrIo=Rt}).apply("undefined"!==typeof tl?tl:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const rl="@firebase/firestore";class il{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}il.UNAUTHENTICATED=new il(null),il.GOOGLE_CREDENTIALS=new il("google-credentials-uid"),il.FIRST_PARTY=new il("first-party-uid"),il.MOCK_USER=new il("mock-user");let sl="10.14.0";const al=new Ft("@firebase/firestore");function ol(){return al.logLevel}function ll(e){if(al.logLevel<=Pt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dl);al.debug(`Firestore (${sl}): ${e}`,...i)}}function cl(e){if(al.logLevel<=Pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dl);al.error(`Firestore (${sl}): ${e}`,...i)}}function ul(e){if(al.logLevel<=Pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dl);al.warn(`Firestore (${sl}): ${e}`,...i)}}function dl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(b6){return e}}function hl(){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw cl(e),new Error(e)}function fl(e,t){e||hl()}function pl(e,t){return e}const ml={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gl extends at{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class vl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(il.UNAUTHENTICATED)))}shutdown(){}}class xl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class wl{constructor(e){this.t=e,this.currentUser=il.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){fl(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new yl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yl,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{ll("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ll("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yl)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ll("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(fl("string"==typeof t.accessToken),new vl(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fl(null===e||"string"==typeof e),new il(e)}}class _l{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=il.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jl{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new _l(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(il.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class El{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){fl(void 0===this.o);const n=e=>{null!=e.error&&ll("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,ll("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ll("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ll("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(fl("string"==typeof e.token),this.R=e.token,new Sl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Nl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class kl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Nl(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Cl(e,t){return e<t?-1:e>t?1:0}function Tl(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Il{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gl(ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gl(ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gl(ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gl(ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Il.fromMillis(Date.now())}static fromDate(e){return Il.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Il(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cl(this.nanoseconds,e.nanoseconds):Cl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Al{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Al(e)}static min(){return new Al(new Il(0,0))}static max(){return new Al(new Il(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ol{constructor(e,t,n){void 0===t?t=0:t>e.length&&hl(),void 0===n?n=e.length-t:n>e.length-t&&hl(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ol.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pl extends Ol{construct(e,t,n){return new Pl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new gl(ml.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Pl(e)}static emptyPath(){return new Pl([])}}const Ml=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dl extends Ol{construct(e,t,n){return new Dl(e,t,n)}static isValidIdentifier(e){return Ml.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dl(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new gl(ml.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new gl(ml.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new gl(ml.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new gl(ml.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dl(t)}static emptyPath(){return new Dl([])}}class Rl{constructor(e){this.path=e}static fromPath(e){return new Rl(Pl.fromString(e))}static fromName(e){return new Rl(Pl.fromString(e).popFirst(5))}static empty(){return new Rl(Pl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rl(new Pl(e.slice()))}}class Ll{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ll.UNKNOWN_ID=-1;function Fl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Al.fromTimestamp(1e9===r?new Il(n+1,0):new Il(n,r));return new Ul(i,Rl.empty(),t)}function Bl(e){return new Ul(e.readTime,e.key,-1)}class Ul{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ul(Al.min(),Rl.empty(),-1)}static max(){return new Ul(Al.max(),Rl.empty(),-1)}}function Vl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Rl.comparator(e.documentKey,t.documentKey),0!==n?n:Cl(e.largestBatchId,t.largestBatchId))}const zl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $l{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Hl(e){if(e.code!==ml.FAILED_PRECONDITION||e.message!==zl)throw e;ll("LocalStore","Unexpectedly lost primary lease")}class ql{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ql(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ql?t:ql.resolve(t)}catch(e){return ql.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ql.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ql.reject(t)}static resolve(e){return new ql(((t,n)=>{t(e)}))}static reject(e){return new ql(((t,n)=>{n(e)}))}static waitFor(e){return new ql(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=ql.resolve(!1);for(const n of e)t=t.next((e=>e?ql.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ql(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new ql(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Wl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yl(e){return"IndexedDbTransactionError"===e.name}class Kl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Gl(e){return null==e}function Xl(e){return 0===e&&1/e==-1/0}function Ql(e){return"number"==typeof e&&Number.isInteger(e)&&!Xl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Kl.oe=-1;const Zl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ec=Jl,tc=[...ec,"indexConfiguration","indexState","indexEntries"];function nc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ic(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class sc{constructor(e,t){this.comparator=e,this.root=t||oc.EMPTY}insert(e,t){return new sc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oc.BLACK,null,null))}remove(e){return new sc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:oc.RED,this.left=null!=r?r:oc.EMPTY,this.right=null!=i?i:oc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new oc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return oc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return oc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw hl();if(this.right.isRed())throw hl();const e=this.left.check();if(e!==this.right.check())throw hl();return e+(this.isRed()?0:1)}}oc.EMPTY=null,oc.RED=!0,oc.BLACK=!1,oc.EMPTY=new class{constructor(){this.size=0}get key(){throw hl()}get value(){throw hl()}get color(){throw hl()}get left(){throw hl()}get right(){throw hl()}copy(e,t,n,r,i){return this}insert(e,t,n){return new oc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lc{constructor(e){this.comparator=e,this.data=new sc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cc(this.data.getIterator())}getIteratorFrom(e){return new cc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof lc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new lc(this.comparator);return t.data=e,t}}class cc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class uc{constructor(e){this.fields=e,e.sort(Dl.comparator)}static empty(){return new uc([])}unionWith(e){let t=new lc(Dl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new uc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class dc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new dc("Invalid base64 string: "+e):e}}(e);return new hc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new hc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hc.EMPTY_BYTE_STRING=new hc("");const fc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(e){if(fl(!!e),"string"==typeof e){let t=0;const n=fc.exec(e);if(fl(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:mc(e.seconds),nanos:mc(e.nanos)}}function mc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gc(e){return"string"==typeof e?hc.fromBase64String(e):hc.fromUint8Array(e)}function yc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vc(e){const t=e.mapValue.fields.__previous_value__;return yc(t)?vc(t):t}function bc(e){const t=pc(e.mapValue.fields.__local_write_time__.timestampValue);return new Il(t.seconds,t.nanos)}class xc{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class wc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}const _c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yc(e)?4:Bc(e)?9007199254740991:Lc(e)?10:11:hl()}function Sc(e,t){if(e===t)return!0;const n=jc(e);if(n!==jc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bc(e).isEqual(bc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=pc(e.timestampValue),r=pc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gc(e.bytesValue).isEqual(gc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mc(e.geoPointValue.latitude)===mc(t.geoPointValue.latitude)&&mc(e.geoPointValue.longitude)===mc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mc(e.integerValue)===mc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=mc(e.doubleValue),r=mc(t.doubleValue);return n===r?Xl(n)===Xl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tl(e.arrayValue.values||[],t.arrayValue.values||[],Sc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(nc(n)!==nc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Sc(n[i],r[i])))return!1;return!0}(e,t);default:return hl()}}function Ec(e,t){return void 0!==(e.values||[]).find((e=>Sc(e,t)))}function Nc(e,t){if(e===t)return 0;const n=jc(e),r=jc(t);if(n!==r)return Cl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=mc(e.integerValue||e.doubleValue),r=mc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kc(e.timestampValue,t.timestampValue);case 4:return kc(bc(e),bc(t));case 5:return Cl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=gc(e),r=gc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Cl(n[i],r[i]);if(0!==e)return e}return Cl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Cl(mc(e.latitude),mc(t.latitude));return 0!==n?n:Cl(mc(e.longitude),mc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Cc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=Cl((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Cc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===_c.mapValue&&t===_c.mapValue)return 0;if(e===_c.mapValue)return 1;if(t===_c.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Cl(r[a],s[a]);if(0!==e)return e;const t=Nc(n[r[a]],i[s[a]]);if(0!==t)return t}return Cl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw hl()}}function kc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cl(e,t);const n=pc(e),r=pc(t),i=Cl(n.seconds,r.seconds);return 0!==i?i:Cl(n.nanos,r.nanos)}function Cc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Nc(n[i],r[i]);if(e)return e}return Cl(n.length,r.length)}function Tc(e){return Ic(e)}function Ic(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=pc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return gc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Rl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ic(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ic(e.fields[i])}`;return n+"}"}(e.mapValue):hl()}function Ac(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Oc(e){return!!e&&"integerValue"in e}function Pc(e){return!!e&&"arrayValue"in e}function Mc(e){return!!e&&"nullValue"in e}function Dc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rc(e){return!!e&&"mapValue"in e}function Lc(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return rc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Bc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Uc{constructor(e){this.value=e}static empty(){return new Uc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Rc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(t)}setAll(e){let t=Dl.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Rc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Rc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){rc(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Uc(Fc(this.value))}}function Vc(e){const t=[];return rc(e.fields,((e,n)=>{const r=new Dl([e]);if(Rc(n)){const e=Vc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new uc(t)}class zc{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new zc(e,0,Al.min(),Al.min(),Al.min(),Uc.empty(),0)}static newFoundDocument(e,t,n,r){return new zc(e,1,t,Al.min(),n,r,0)}static newNoDocument(e,t){return new zc(e,2,t,Al.min(),Al.min(),Uc.empty(),0)}static newUnknownDocument(e,t){return new zc(e,3,t,Al.min(),Al.min(),Uc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Al.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Uc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Uc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Al.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(e,t){this.position=e,this.inclusive=t}}function Hc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Rl.comparator(Rl.fromName(a.referenceValue),n.key):Nc(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function qc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Sc(e.position[n],t.position[n]))return!1;return!0}class Wc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Yc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Kc{}class Gc extends Kc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ru(e,t,n):"array-contains"===t?new ou(e,n):"in"===t?new lu(e,n):"not-in"===t?new cu(e,n):"array-contains-any"===t?new uu(e,n):new Gc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new iu(e,n):new su(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nc(t,this.value)):null!==t&&jc(this.value)===jc(t)&&this.matchesComparison(Nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hl()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xc extends Kc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Xc(e,t)}matches(e){return Qc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qc(e){return"and"===e.op}function Zc(e){return Jc(e)&&Qc(e)}function Jc(e){for(const t of e.filters)if(t instanceof Xc)return!1;return!0}function eu(e){if(e instanceof Gc)return e.field.canonicalString()+e.op.toString()+Tc(e.value);if(Zc(e))return e.filters.map((e=>eu(e))).join(",");{const t=e.filters.map((e=>eu(e))).join(",");return`${e.op}(${t})`}}function tu(e,t){return e instanceof Gc?function(e,t){return t instanceof Gc&&e.op===t.op&&e.field.isEqual(t.field)&&Sc(e.value,t.value)}(e,t):e instanceof Xc?function(e,t){return t instanceof Xc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&tu(n,t.filters[r])),!0)}(e,t):void hl()}function nu(e){return e instanceof Gc?function(e){return`${e.field.canonicalString()} ${e.op} ${Tc(e.value)}`}(e):e instanceof Xc?function(e){return e.op.toString()+" {"+e.getFilters().map(nu).join(" ,")+"}"}(e):"Filter"}class ru extends Gc{constructor(e,t,n){super(e,t,n),this.key=Rl.fromName(n.referenceValue)}matches(e){const t=Rl.comparator(e.key,this.key);return this.matchesComparison(t)}}class iu extends Gc{constructor(e,t){super(e,"in",t),this.keys=au("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class su extends Gc{constructor(e,t){super(e,"not-in",t),this.keys=au("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function au(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Rl.fromName(e.referenceValue)))}class ou extends Gc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pc(t)&&Ec(t.arrayValue,this.value)}}class lu extends Gc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ec(this.value.arrayValue,t)}}class cu extends Gc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ec(this.value.arrayValue,t)}}class uu extends Gc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ec(this.value.arrayValue,e)))}}class du{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function hu(e){return new du(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fu(e){const t=pl(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>eu(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Gl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Tc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Tc(e))).join(",")),t.ue=e}return t.ue}function pu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Yc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qc(e.startAt,t.startAt)&&qc(e.endAt,t.endAt)}function mu(e){return Rl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class gu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yu(e,t,n,r,i,s,a,o){return new gu(e,t,n,r,i,s,a,o)}function vu(e){return new gu(e)}function bu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function xu(e){return null!==e.collectionGroup}function wu(e){const t=pl(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new lc(Dl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Wc(r,n))})),e.has(Dl.keyField().canonicalString())||t.ce.push(new Wc(Dl.keyField(),n))}return t.ce}function _u(e){const t=pl(e);return t.le||(t.le=ju(t,wu(e))),t.le}function ju(e,t){if("F"===e.limitType)return hu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Wc(e.field,t)}));const n=e.endAt?new $c(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new $c(e.startAt.position,e.startAt.inclusive):null;return hu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Su(e,t){const n=e.filters.concat([t]);return new gu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Eu(e,t,n){return new gu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nu(e,t){return pu(_u(e),_u(t))&&e.limitType===t.limitType}function ku(e){return`${fu(_u(e))}|lt:${e.limitType}`}function Cu(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>nu(e))).join(", ")}]`),Gl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Tc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Tc(e))).join(",")),`Target(${t})`}(_u(e))}; limitType=${e.limitType})`}function Tu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Rl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of wu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Hc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wu(e),t))&&!(e.endAt&&!function(e,t,n){const r=Hc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wu(e),t))}(e,t)}function Iu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Au(e){return(t,n)=>{let r=!1;for(const i of wu(e)){const e=Ou(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ou(e,t,n){const r=e.field.isKeyField()?Rl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Nc(r,i):hl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hl()}}class Pu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rc(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ic(this.inner)}size(){return this.innerSize}}const Mu=new sc(Rl.comparator);function Du(){return Mu}const Ru=new sc(Rl.comparator);function Lu(){let e=Ru;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Fu(e){let t=Ru;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Bu(){return Vu()}function Uu(){return Vu()}function Vu(){return new Pu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const zu=new sc(Rl.comparator),$u=new lc(Rl.comparator);function Hu(){let e=$u;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const qu=new lc(Cl);function Wu(){return qu}function Yu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xl(t)?"-0":t}}function Ku(e){return{integerValue:""+e}}function Gu(e,t){return Ql(t)?Ku(t):Yu(e,t)}class Xu{constructor(){this._=void 0}}function Qu(e,t,n){return e instanceof ed?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&yc(t)&&(t=vc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof td?nd(e,t):e instanceof rd?id(e,t):function(e,t){const n=Ju(e,t),r=ad(n)+ad(e.Pe);return Oc(n)&&Oc(e.Pe)?Ku(r):Yu(e.serializer,r)}(e,t)}function Zu(e,t,n){return e instanceof td?nd(e,t):e instanceof rd?id(e,t):n}function Ju(e,t){return e instanceof sd?function(e){return Oc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ed extends Xu{}class td extends Xu{constructor(e){super(),this.elements=e}}function nd(e,t){const n=od(t);for(const r of e.elements)n.some((e=>Sc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class rd extends Xu{constructor(e){super(),this.elements=e}}function id(e,t){let n=od(t);for(const r of e.elements)n=n.filter((e=>!Sc(e,r)));return{arrayValue:{values:n}}}class sd extends Xu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ad(e){return mc(e.integerValue||e.doubleValue)}function od(e){return Pc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ld{constructor(e,t){this.field=e,this.transform=t}}class cd{constructor(e,t){this.version=e,this.transformResults=t}}class ud{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ud}static exists(e){return new ud(void 0,e)}static updateTime(e){return new ud(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class hd{}function fd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new jd(e.key,ud.none()):new vd(e.key,e.data,ud.none());{const n=e.data,r=Uc.empty();let i=new lc(Dl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new bd(e.key,r,new uc(i.toArray()),ud.none())}}function pd(e,t,n){e instanceof vd?function(e,t,n){const r=e.value.clone(),i=wd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bd?function(e,t,n){if(!dd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=wd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function md(e,t,n,r){return e instanceof vd?function(e,t,n,r){if(!dd(e.precondition,t))return n;const i=e.value.clone(),s=_d(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof bd?function(e,t,n,r){if(!dd(e.precondition,t))return n;const i=_d(e.fieldTransforms,r,t),s=t.data;return s.setAll(xd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return dd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function gd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ju(r.transform,e||null);null!=i&&(null===n&&(n=Uc.empty()),n.set(r.field,i))}return n||null}function yd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tl(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof td&&t instanceof td||e instanceof rd&&t instanceof rd?Tl(e.elements,t.elements,Sc):e instanceof sd&&t instanceof sd?Sc(e.Pe,t.Pe):e instanceof ed&&t instanceof ed}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vd extends hd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bd extends hd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function wd(e,t,n){const r=new Map;fl(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Zu(a,o,n[i]))}return r}function _d(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Qu(e,s,t))}return r}class jd extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sd extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ed{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&pd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=md(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=md(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Uu();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=fd(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Al.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Hu())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,((e,t)=>yd(e,t)))&&Tl(this.baseMutations,e.baseMutations,((e,t)=>yd(e,t)))}}class Nd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){fl(e.mutations.length===n.length);let r=zu;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Nd(e,t,n,r)}}class kd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cd{constructor(e,t){this.count=e,this.unchangedNames=t}}var Td,Id;function Ad(e){switch(e){default:return hl();case ml.CANCELLED:case ml.UNKNOWN:case ml.DEADLINE_EXCEEDED:case ml.RESOURCE_EXHAUSTED:case ml.INTERNAL:case ml.UNAVAILABLE:case ml.UNAUTHENTICATED:return!1;case ml.INVALID_ARGUMENT:case ml.NOT_FOUND:case ml.ALREADY_EXISTS:case ml.PERMISSION_DENIED:case ml.FAILED_PRECONDITION:case ml.ABORTED:case ml.OUT_OF_RANGE:case ml.UNIMPLEMENTED:case ml.DATA_LOSS:return!0}}function Od(e){if(void 0===e)return cl("GRPC error has no .code"),ml.UNKNOWN;switch(e){case Td.OK:return ml.OK;case Td.CANCELLED:return ml.CANCELLED;case Td.UNKNOWN:return ml.UNKNOWN;case Td.DEADLINE_EXCEEDED:return ml.DEADLINE_EXCEEDED;case Td.RESOURCE_EXHAUSTED:return ml.RESOURCE_EXHAUSTED;case Td.INTERNAL:return ml.INTERNAL;case Td.UNAVAILABLE:return ml.UNAVAILABLE;case Td.UNAUTHENTICATED:return ml.UNAUTHENTICATED;case Td.INVALID_ARGUMENT:return ml.INVALID_ARGUMENT;case Td.NOT_FOUND:return ml.NOT_FOUND;case Td.ALREADY_EXISTS:return ml.ALREADY_EXISTS;case Td.PERMISSION_DENIED:return ml.PERMISSION_DENIED;case Td.FAILED_PRECONDITION:return ml.FAILED_PRECONDITION;case Td.ABORTED:return ml.ABORTED;case Td.OUT_OF_RANGE:return ml.OUT_OF_RANGE;case Td.UNIMPLEMENTED:return ml.UNIMPLEMENTED;case Td.DATA_LOSS:return ml.DATA_LOSS;default:return hl()}}(Id=Td||(Td={}))[Id.OK=0]="OK",Id[Id.CANCELLED=1]="CANCELLED",Id[Id.UNKNOWN=2]="UNKNOWN",Id[Id.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Id[Id.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Id[Id.NOT_FOUND=5]="NOT_FOUND",Id[Id.ALREADY_EXISTS=6]="ALREADY_EXISTS",Id[Id.PERMISSION_DENIED=7]="PERMISSION_DENIED",Id[Id.UNAUTHENTICATED=16]="UNAUTHENTICATED",Id[Id.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Id[Id.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Id[Id.ABORTED=10]="ABORTED",Id[Id.OUT_OF_RANGE=11]="OUT_OF_RANGE",Id[Id.UNIMPLEMENTED=12]="UNIMPLEMENTED",Id[Id.INTERNAL=13]="INTERNAL",Id[Id.UNAVAILABLE=14]="UNAVAILABLE",Id[Id.DATA_LOSS=15]="DATA_LOSS";let Pd=null;function Md(){return new TextEncoder}const Dd=new $o([4294967295,4294967295],0);function Rd(e){const t=Md().encode(e),n=new Ho;return n.update(t),new Uint8Array(n.digest())}function Ld(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new $o([n,r],0),new $o([i,s],0)]}class Fd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Bd(`Invalid padding: ${t}`);if(n<0)throw new Bd(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Bd(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Bd(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=$o.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply($o.fromNumber(n)));return 1===r.compare(Dd)&&(r=new $o([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Rd(e),[n,r]=Ld(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Fd(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Rd(e),[n,r]=Ld(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ud{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ud(Al.min(),r,new sc(Cl),Du(),Hu())}}class Vd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Vd(n,t,Hu(),Hu(),Hu())}}class zd{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class $d{constructor(e,t){this.targetId=e,this.me=t}}class Hd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qd{constructor(){this.fe=0,this.ge=Kd(),this.pe=hc.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Hu(),t=Hu(),n=Hu();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hl()}})),new Vd(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Kd()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fl(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Wd{constructor(e){this.Le=e,this.Be=new Map,this.ke=Du(),this.qe=Yd(),this.Qe=new sc(Cl)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:hl()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(mu(i))if(0===n){const e=new Rl(i.path);this.Ue(t,e,zc.newNoDocument(e,Al.min()))}else fl(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Pd||Pd.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=gc(n).toUint8Array()}catch(e){if(e instanceof dc)return ul("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Fd(s,r,i)}catch(e){return ul(e instanceof Bd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&mu(i.target)){const t=new Rl(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,zc.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Hu();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Ud(e,t,this.Qe,this.ke,n);return this.ke=Du(),this.qe=Yd(),this.Qe=new sc(Cl),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new qd,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new lc(Cl),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||ll("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qd),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Yd(){return new sc(Rl.comparator)}function Kd(){return new sc(Rl.comparator)}const Gd={asc:"ASCENDING",desc:"DESCENDING"},Xd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qd={and:"AND",or:"OR"};class Zd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jd(e,t){return e.useProto3Json||Gl(t)?t:{value:t}}function eh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function th(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nh(e,t){return eh(e,t.toTimestamp())}function rh(e){return fl(!!e),Al.fromTimestamp(function(e){const t=pc(e);return new Il(t.seconds,t.nanos)}(e))}function ih(e,t){return sh(e,t).canonicalString()}function sh(e,t){const n=function(e){return new Pl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ah(e){const t=Pl.fromString(e);return fl(Nh(t)),t}function oh(e,t){return ih(e.databaseId,t.path)}function lh(e,t){const n=ah(t);if(n.get(1)!==e.databaseId.projectId)throw new gl(ml.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gl(ml.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rl(hh(n))}function ch(e,t){return ih(e.databaseId,t)}function uh(e){const t=ah(e);return 4===t.length?Pl.emptyPath():hh(t)}function dh(e){return new Pl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hh(e){return fl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fh(e,t,n){return{name:oh(e,t),fields:n.value.mapValue.fields}}function ph(e,t){let n;if(t instanceof vd)n={update:fh(e,t.key,t.value)};else if(t instanceof jd)n={delete:oh(e,t.key)};else if(t instanceof bd)n={update:fh(e,t.key,t.data),updateMask:Eh(t.fieldMask)};else{if(!(t instanceof Sd))return hl();n={verify:oh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ed)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof td)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sd)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw hl()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hl()}(e,t.precondition)),n}function mh(e,t){return{documents:[ch(e,t.path)]}}function gh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ch(e,i);const s=function(e){if(0!==e.length)return Sh(Xc.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:_h(e.field),direction:bh(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Jd(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function yh(e){let t=uh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fl(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=vh(e);return t instanceof Xc&&Zc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Wc(jh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Gl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new $c(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new $c(n,t)}(n.endAt)),yu(t,i,a,s,o,"F",l,c)}function vh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=jh(e.unaryFilter.field);return Gc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=jh(e.unaryFilter.field);return Gc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=jh(e.unaryFilter.field);return Gc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=jh(e.unaryFilter.field);return Gc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hl()}}(e):void 0!==e.fieldFilter?function(e){return Gc.create(jh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xc.create(e.compositeFilter.filters.map((e=>vh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hl()}}(e.compositeFilter.op))}(e):hl()}function bh(e){return Gd[e]}function xh(e){return Xd[e]}function wh(e){return Qd[e]}function _h(e){return{fieldPath:e.canonicalString()}}function jh(e){return Dl.fromServerFormat(e.fieldPath)}function Sh(e){return e instanceof Gc?function(e){if("=="===e.op){if(Dc(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NAN"}};if(Mc(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Dc(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NOT_NAN"}};if(Mc(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_h(e.field),op:xh(e.op),value:e.value}}}(e):e instanceof Xc?function(e){const t=e.getFilters().map((e=>Sh(e)));return 1===t.length?t[0]:{compositeFilter:{op:wh(e.op),filters:t}}}(e):hl()}function Eh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Nh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class kh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Al.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Al.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new kh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ch{constructor(e){this.ct=e}}function Th(e){const t=yh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Eu(t,t.limit,"L"):t}class Ih{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(mc(e.integerValue));else if("doubleValue"in e){const n=mc(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Xl(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=pc(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(gc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Bc(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Lc(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):hl()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(mc(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Rl.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Ih.vt=new Ih;class Ah{constructor(){this.un=new Oh}addToCollectionParentIndex(e,t){return this.un.add(t),ql.resolve()}getCollectionParents(e,t){return ql.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ql.resolve()}deleteFieldIndex(e,t){return ql.resolve()}deleteAllFieldIndexes(e){return ql.resolve()}createTargetIndexes(e,t){return ql.resolve()}getDocumentsMatchingTarget(e,t){return ql.resolve(null)}getIndexType(e,t){return ql.resolve(0)}getFieldIndexes(e,t){return ql.resolve([])}getNextCollectionGroupToUpdate(e){return ql.resolve(null)}getMinOffset(e,t){return ql.resolve(Ul.min())}getMinOffsetFromCollectionGroup(e,t){return ql.resolve(Ul.min())}updateCollectionGroup(e,t,n){return ql.resolve()}updateIndexEntries(e,t){return ql.resolve()}}class Oh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new lc(Pl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new lc(Pl.comparator)).toArray()}}new Uint8Array(0);class Ph{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ph(e,Ph.DEFAULT_COLLECTION_PERCENTILE,Ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ph.DEFAULT_COLLECTION_PERCENTILE=10,Ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ph.DEFAULT=new Ph(41943040,Ph.DEFAULT_COLLECTION_PERCENTILE,Ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ph.DISABLED=new Ph(-1,0,0);class Mh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Mh(0)}static kn(){return new Mh(-1)}}class Dh{constructor(){this.changes=new Pu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ql.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Lh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&md(n.mutation,e,uc.empty(),Il.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Hu()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hu();const r=Bu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Lu();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Bu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Hu())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Du();const s=Vu(),a=Vu();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof bd)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),md(a.mutation,t,a.mutation.getFieldMask(),Il.now())):s.set(t.key,uc.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Rh(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Vu();let r=new sc(((e,t)=>e-t)),i=Hu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||uc.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Hu()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Uu();l.forEach((e=>{if(!i.has(e)){const r=fd(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return ql.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Rl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ql.resolve(Bu());let a=-1,o=i;return s.next((t=>ql.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?ql.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Hu()))).next((e=>({batchId:a,changes:Fu(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rl(t)).next((e=>{let t=Lu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Lu();return this.indexManager.getCollectionParents(e,i).next((a=>ql.forEach(a,(a=>{const o=function(e,t){return new gu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,zc.newInvalidDocument(r)))}));let n=Lu();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&md(s.mutation,r,uc.empty(),Il.now()),Tu(t,r)&&(n=n.insert(e,r))})),n}))}}class Fh{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ql.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:rh(e.createTime)}}(t)),ql.resolve()}getNamedQuery(e,t){return ql.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Th(e.bundledQuery),readTime:rh(e.readTime)}}(t)),ql.resolve()}}class Bh{constructor(){this.overlays=new sc(Rl.comparator),this.Ir=new Map}getOverlay(e,t){return ql.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bu();return ql.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),ql.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),ql.resolve()}getOverlaysForCollection(e,t,n){const r=Bu(),i=t.length+1,s=new Rl(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ql.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new sc(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Bu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Bu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return ql.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new kd(t,n));let i=this.Ir.get(t);void 0===i&&(i=Hu(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Uh{constructor(){this.sessionToken=hc.EMPTY_BYTE_STRING}getSessionToken(e){return ql.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ql.resolve()}}class Vh{constructor(){this.Tr=new lc(zh.Er),this.dr=new lc(zh.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new zh(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new zh(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Rl(new Pl([])),n=new zh(t,e),r=new zh(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Rl(new Pl([])),n=new zh(t,e),r=new zh(t,e+1);let i=Hu();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new zh(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class zh{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Rl.comparator(e.key,t.key)||Cl(e.wr,t.wr)}static Ar(e,t){return Cl(e.wr,t.wr)||Rl.comparator(e.key,t.key)}}class $h{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new lc(zh.Er)}checkEmpty(e){return ql.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ed(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new zh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ql.resolve(s)}lookupMutationBatch(e,t){return ql.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return ql.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ql.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ql.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new zh(t,0),r=new zh(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),ql.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new lc(Cl);return t.forEach((e=>{const t=new zh(e,0),r=new zh(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),ql.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Rl.isDocumentKey(i)||(i=i.child(""));const s=new zh(new Rl(i),0);let a=new lc(Cl);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),s),ql.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){fl(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return ql.forEach(t.mutations,(r=>{const i=new zh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new zh(t,0),r=this.br.firstAfterOrEqual(n);return ql.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ql.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Hh{constructor(e){this.Mr=e,this.docs=new sc(Rl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ql.resolve(n?n.document.mutableCopy():zc.newInvalidDocument(t))}getEntries(e,t){let n=Du();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():zc.newInvalidDocument(e))})),ql.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Du();const s=t.path,a=new Rl(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Vl(Bl(a),n)<=0||(r.has(a.key)||Tu(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return ql.resolve(i)}getAllFromCollectionGroup(e,t,n,r){hl()}Or(e,t){return ql.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new qh(this)}getSize(e){return ql.resolve(this.size)}}class qh extends Dh{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),ql.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Wh{constructor(e){this.persistence=e,this.Nr=new Pu((e=>fu(e)),pu),this.lastRemoteSnapshotVersion=Al.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vh,this.targetCount=0,this.kr=Mh.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),ql.resolve()}getLastRemoteSnapshotVersion(e){return ql.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ql.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ql.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),ql.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Mh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ql.resolve()}updateTargetData(e,t){return this.Kn(t),ql.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ql.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),ql.waitFor(i).next((()=>r))}getTargetCount(e){return ql.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return ql.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),ql.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ql.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ql.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return ql.resolve(n)}containsKey(e,t){return ql.resolve(this.Br.containsKey(t))}}class Yh{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Kl(0),this.Kr=!1,this.Kr=!0,this.$r=new Uh,this.referenceDelegate=e(this),this.Ur=new Wh(this),this.indexManager=new Ah,this.remoteDocumentCache=function(e){return new Hh(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Ch(t),this.Gr=new Fh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new $h(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){ll("MemoryPersistence","Starting transaction:",e);const r=new Kh(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return ql.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class Kh extends $l{constructor(e){super(),this.currentSequenceNumber=e}}class Gh{constructor(e){this.persistence=e,this.Jr=new Vh,this.Yr=null}static Zr(e){return new Gh(e)}get Xr(){if(this.Yr)return this.Yr;throw hl()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),ql.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),ql.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ql.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ql.forEach(this.Xr,(n=>{const r=Rl.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Al.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return ql.or([()=>ql.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Xh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Hu(),r=Hu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xh(e,t.fromCache,n,r)}}class Qh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Zh{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=rt()?8:Wl(Ze())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Qh;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(ol()<=Pt.DEBUG&&ll("QueryEngine","SDK will not create cache indexes for query:",Cu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ql.resolve()):(ol()<=Pt.DEBUG&&ll("QueryEngine","Query:",Cu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(ol()<=Pt.DEBUG&&ll("QueryEngine","The SDK decides to create cache indexes for query:",Cu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_u(t))):ql.resolve())}Yi(e,t){if(bu(t))return ql.resolve(null);let n=_u(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Eu(t,null,"F"),n=_u(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Hu(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,Eu(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return bu(t)||r.isEqual(Al.min())?ql.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?ql.resolve(null):(ol()<=Pt.DEBUG&&ll("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cu(t)),this.rs(e,s,t,Fl(r,-1)).next((e=>e)))}))}ts(e,t){let n=new lc(Au(e));return t.forEach(((t,r)=>{Tu(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return ol()<=Pt.DEBUG&&ll("QueryEngine","Using full collection scan to execute query:",Cu(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ul.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Jh{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new sc(Cl),this._s=new Pu((e=>fu(e)),pu),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function ef(e,t,n,r){return new Jh(e,t,n,r)}async function tf(e,t){const n=pl(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Hu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function nf(e){const t=pl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function rf(e,t,n){let r=Hu(),i=Hu();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Du();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Al.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ll("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function sf(e,t){const n=pl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function af(e,t){const n=pl(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,ql.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new kh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function of(e,t,n){const r=pl(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Yl(e))throw e;ll("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function lf(e,t,n){const r=pl(e);let i=Al.min(),s=Hu();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=pl(e),i=r._s.get(n);return void 0!==i?ql.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,_u(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Al.min(),n?s:Hu()))).next((e=>(cf(r,Iu(t),e),{documents:e,Ts:s})))))}function cf(e,t,n){let r=e.us.get(t)||Al.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class uf{constructor(){this.activeTargetIds=Wu()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class df{constructor(){this.so=new uf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hf{_o(e){}shutdown(){}}class ff{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ll("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ll("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pf=null;function mf(){return null===pf?pf=268435456+Math.round(2147483648*Math.random()):pf++,"0x"+pf.toString(16)}const gf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yf{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const vf="WebChannelConnection";class bf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=mf(),a=this.xo(e,t.toUriEncodedString());ll("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then((t=>(ll("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw ul("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=gf[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=mf();return new Promise(((s,a)=>{const o=new Yo;o.setWithCredentials(!0),o.listenOnce(Go.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Xo.NO_ERROR:const t=o.getResponseJson();ll(vf,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Xo.TIMEOUT:ll(vf,`RPC '${e}' ${i} timed out`),a(new gl(ml.DEADLINE_EXCEEDED,"Request time out"));break;case Xo.HTTP_ERROR:const n=o.getStatus();if(ll(vf,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ml).indexOf(t)>=0?t:ml.UNKNOWN}(t.status);a(new gl(e,t.message))}else a(new gl(ml.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new gl(ml.UNAVAILABLE,"Connection failed."));break;default:hl()}}finally{ll(vf,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);ll(vf,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=mf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=el(),a=Jo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");ll(vf,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new yf({Io:t=>{h?ll(vf,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(ll(vf,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),ll(vf,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Ko.EventType.OPEN,(()=>{h||(ll(vf,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(u,Ko.EventType.CLOSE,(()=>{h||(h=!0,ll(vf,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(u,Ko.EventType.ERROR,(t=>{h||(h=!0,ul(vf,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new gl(ml.UNAVAILABLE,"The operation could not be completed")))})),p(u,Ko.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];fl(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){ll(vf,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Td[e];if(void 0!==t)return Od(t)}(t),i=a.message;void 0===n&&(n=ml.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new gl(n,i)),u.close()}else ll(vf,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(a,Zo.STAT_EVENT,(t=>{t.stat===Qo.PROXY?ll(vf,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Qo.NOPROXY&&ll(vf,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function xf(){return"undefined"!=typeof document?document:null}function wf(e){return new Zd(e,!0)}class _f{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&ll("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class jf{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _f(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===ml.RESOURCE_EXHAUSTED?(cl(t.toString()),cl("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ml.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new gl(ml.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ll("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ll("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sf extends jf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(fl(void 0===t||"string"==typeof t),hc.fromBase64String(t||"")):(fl(void 0===t||t instanceof Buffer||t instanceof Uint8Array),hc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?ml.UNKNOWN:Od(e.code);return new gl(t,e.message||"")}(a);n=new Hd(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=lh(e,r.document.name),s=rh(r.document.updateTime),a=r.document.createTime?rh(r.document.createTime):Al.min(),o=new Uc({mapValue:{fields:r.document.fields}}),l=zc.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new zd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=lh(e,r.document),s=r.readTime?rh(r.readTime):Al.min(),a=zc.newNoDocument(i,s),o=r.removedTargetIds||[];n=new zd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=lh(e,r.document),s=r.removedTargetIds||[];n=new zd([],s,i,null)}else{if(!("filter"in t))return hl();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Cd(r,i),a=e.targetId;n=new $d(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Al.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Al.min():t.readTime?rh(t.readTime):Al.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=dh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=mu(r)?{documents:mh(e,r)}:{query:gh(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=th(e,t.resumeToken);const r=Jd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Al.min())>0){n.readTime=eh(e,t.snapshotVersion.toTimestamp());const r=Jd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hl()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=dh(this.serializer),t.removeTarget=e,this.a_(t)}}class Ef extends jf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return fl(!!e.streamToken),this.lastStreamToken=e.streamToken,fl(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){fl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(fl(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?rh(e.updateTime):rh(t);return n.isEqual(Al.min())&&(n=rh(t)),new cd(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=rh(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=dh(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ph(this.serializer,e)))};this.a_(t)}}class Nf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new gl(ml.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Mo(e,sh(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ml.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gl(ml.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Lo(e,sh(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ml.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gl(ml.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class kf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(cl(t),this.D_=!1):ll("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Cf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{Lf(this)&&(ll("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=pl(e);t.L_.add(4),await If(t),t.q_.set("Unknown"),t.L_.delete(4),await Tf(t)}(this))}))})),this.q_=new kf(n,r)}}async function Tf(e){if(Lf(e))for(const t of e.B_)await t(!0)}async function If(e){for(const t of e.B_)await t(!1)}function Af(e,t){const n=pl(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Rf(n)?Df(n):np(n).r_()&&Pf(n,t))}function Of(e,t){const n=pl(e),r=np(n);n.N_.delete(t),r.r_()&&Mf(n,t),0===n.N_.size&&(r.r_()?r.o_():Lf(n)&&n.q_.set("Unknown"))}function Pf(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Al.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}np(e).A_(t)}function Mf(e,t){e.Q_.xe(t),np(e).R_(t)}function Df(e){e.Q_=new Wd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),np(e).start(),e.q_.v_()}function Rf(e){return Lf(e)&&!np(e).n_()&&e.N_.size>0}function Lf(e){return 0===pl(e).L_.size}function Ff(e){e.Q_=void 0}async function Bf(e){e.q_.set("Online")}async function Uf(e){e.N_.forEach(((t,n)=>{Pf(e,t)}))}async function Vf(e,t){Ff(e),Rf(e)?(e.q_.M_(t),Df(e)):e.q_.set("Unknown")}async function zf(e,t,n){if(e.q_.set("Online"),t instanceof Hd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){ll("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await $f(e,n)}else if(t instanceof zd?e.Q_.Ke(t):t instanceof $d?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Al.min()))try{const t=await nf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(hc.EMPTY_BYTE_STRING,r.snapshotVersion)),Mf(e,t);const i=new kh(r.target,t,n,r.sequenceNumber);Pf(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ll("RemoteStore","Failed to raise snapshot:",t),await $f(e,t)}}async function $f(e,t,n){if(!Yl(t))throw t;e.L_.add(1),await If(e),e.q_.set("Offline"),n||(n=()=>nf(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ll("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Tf(e)}))}function Hf(e,t){return t().catch((n=>$f(e,n,t)))}async function qf(e){const t=pl(e),n=rp(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Wf(t);)try{const e=await sf(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Yf(t,e)}catch(e){await $f(t,e)}Kf(t)&&Gf(t)}function Wf(e){return Lf(e)&&e.O_.length<10}function Yf(e,t){e.O_.push(t);const n=rp(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Kf(e){return Lf(e)&&!rp(e).n_()&&e.O_.length>0}function Gf(e){rp(e).start()}async function Xf(e){rp(e).p_()}async function Qf(e){const t=rp(e);for(const n of e.O_)t.m_(n.mutations)}async function Zf(e,t,n){const r=e.O_.shift(),i=Nd.from(r,t,n);await Hf(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await qf(e)}async function Jf(e,t){t&&rp(e).V_&&await async function(e,t){if(function(e){return Ad(e)&&e!==ml.ABORTED}(t.code)){const n=e.O_.shift();rp(e).s_(),await Hf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await qf(e)}}(e,t),Kf(e)&&Gf(e)}async function ep(e,t){const n=pl(e);n.asyncQueue.verifyOperationInProgress(),ll("RemoteStore","RemoteStore received new credentials");const r=Lf(n);n.L_.add(3),await If(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Tf(n)}async function tp(e,t){const n=pl(e);t?(n.L_.delete(2),await Tf(n)):t||(n.L_.add(2),await If(n),n.q_.set("Unknown"))}function np(e){return e.K_||(e.K_=function(e,t,n){const r=pl(e);return r.w_(),new Sf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Bf.bind(null,e),Ro:Uf.bind(null,e),mo:Vf.bind(null,e),d_:zf.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Rf(e)?Df(e):e.q_.set("Unknown")):(await e.K_.stop(),Ff(e))}))),e.K_}function rp(e){return e.U_||(e.U_=function(e,t,n){const r=pl(e);return r.w_(),new Ef(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Xf.bind(null,e),mo:Jf.bind(null,e),f_:Qf.bind(null,e),g_:Zf.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await qf(e)):(await e.U_.stop(),e.O_.length>0&&(ll("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class ip{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new yl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new ip(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gl(ml.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(e,t){if(cl("AsyncQueue",`${t}: ${e}`),Yl(e))return new gl(ml.UNAVAILABLE,`${t}: ${e}`);throw e}class ap{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Rl.comparator(t.key,n.key):(e,t)=>Rl.comparator(e.key,t.key),this.keyedMap=Lu(),this.sortedSet=new sc(this.comparator)}static emptySet(e){return new ap(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ap))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ap;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class op{constructor(){this.W_=new sc(Rl.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):hl():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class lp{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new lp(e,t,ap.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class cp{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class up{constructor(){this.queries=dp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=pl(e),r=n.queries;n.queries=dp(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new gl(ml.ABORTED,"Firestore shutting down"))}}function dp(){return new Pu((e=>ku(e)),Nu)}async function hp(e,t){const n=pl(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new cp,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=sp(e,`Initialization of query '${Cu(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&gp(n)}async function fp(e,t){const n=pl(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pp(e,t){const n=pl(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&gp(n)}function mp(e,t,n){const r=pl(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function gp(e){e.Y_.forEach((e=>{e.next()}))}var yp,vp;(vp=yp||(yp={})).ea="default",vp.Cache="cache";class bp{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new lp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=lp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==yp.Cache}}class xp{constructor(e){this.key=e}}class wp{constructor(e){this.key=e}}class _p{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Hu(),this.mutatedKeys=Hu(),this.Aa=Au(e),this.Ra=new ap(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new op,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Tu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hl()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new lp(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new op,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Hu(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new wp(e))})),this.da.forEach((n=>{e.has(n)||t.push(new xp(n))})),t}ba(e){this.Ta=e.Ts,this.da=Hu();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return lp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class jp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Sp{constructor(e){this.key=e,this.va=!1}}class Ep{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Pu((e=>ku(e)),Nu),this.Ma=new Map,this.xa=new Set,this.Oa=new sc(Rl.comparator),this.Na=new Map,this.La=new Vh,this.Ba={},this.ka=new Map,this.qa=Mh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Np(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Yp(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Cp(r,t,n,!0),i}async function kp(e,t){const n=Yp(e);await Cp(n,t,!0,!1)}async function Cp(e,t,n,r){const i=await af(e.localStore,_u(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Tp(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Af(e.remoteStore,i),o}async function Tp(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await lf(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Vp(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await lf(e.localStore,t,!0),a=new _p(t,s.Ts),o=a.ma(s.documents),l=Vd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Vp(e,n,c.wa);const u=new jp(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Ip(e,t,n){const r=pl(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!Nu(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await of(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Of(r.remoteStore,i.targetId),Bp(r,i.targetId)})).catch(Hl)):(Bp(r,i.targetId),await of(r.localStore,i.targetId,!0))}async function Ap(e,t){const n=pl(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Of(n.remoteStore,r.targetId))}async function Op(e,t){const n=pl(e);try{const e=await function(e,t){const n=pl(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(hc.EMPTY_BYTE_STRING,Al.min()).withLastLimboFreeSnapshotVersion(Al.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))}));let o=Du(),l=Hu();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(rf(e,s,t.documentUpdates).next((e=>{o=e.Ps,l=e.Is}))),!r.isEqual(Al.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return ql.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(fl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?fl(r.va):e.removedDocuments.size>0&&(fl(r.va),r.va=!1))})),await Hp(n,e,t)}catch(e){await Hl(e)}}function Pp(e,t,n){const r=pl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=pl(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&gp(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Mp(e,t,n){const r=pl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new sc(Rl.comparator);e=e.insert(s,zc.newNoDocument(s,Al.min()));const n=Hu().add(s),i=new Ud(Al.min(),new Map,new sc(Cl),e,n);await Op(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),$p(r)}else await of(r.localStore,t,!1).then((()=>Bp(r,t,n))).catch(Hl)}async function Dp(e,t){const n=pl(e),r=t.batch.batchId;try{const e=await function(e,t){const n=pl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=ql.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);fl(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Hu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Fp(n,r,null),Lp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hp(n,e)}catch(e){await Hl(e)}}async function Rp(e,t,n){const r=pl(e);try{const e=await function(e,t){const n=pl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(fl(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Fp(r,t,n),Lp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Hp(r,e)}catch(n){await Hl(n)}}function Lp(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Fp(e,t,n){const r=pl(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Bp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||Up(e,t)}))}function Up(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Of(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),$p(e))}function Vp(e,t,n){for(const r of n)r instanceof xp?(e.La.addReference(r.key,t),zp(e,r)):r instanceof wp?(ll("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Up(e,r.key)):hl()}function zp(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(ll("SyncEngine","New document in limbo: "+n),e.xa.add(r),$p(e))}function $p(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Rl(Pl.fromString(t)),r=e.qa.next();e.Na.set(r,new Sp(n)),e.Oa=e.Oa.insert(n,r),Af(e.remoteStore,new kh(_u(vu(n.path)),r,"TargetPurposeLimboResolution",Kl.oe))}}async function Hp(e,t,n){const r=pl(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,o)=>{a.push(r.Ka(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Xh.Wi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=pl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ql.forEach(t,(t=>ql.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ql.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Yl(e))throw e;ll("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function qp(e,t){const n=pl(e);if(!n.currentUser.isEqual(t)){ll("SyncEngine","User change. New user:",t.toKey());const e=await tf(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new gl(ml.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Hp(n,e.hs)}}function Wp(e,t){const n=pl(e),r=n.Na.get(t);if(r&&r.va)return Hu().add(r.key);{let e=Hu();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Yp(e){const t=pl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Op.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mp.bind(null,t),t.Ca.d_=pp.bind(null,t.eventManager),t.Ca.$a=mp.bind(null,t.eventManager),t}function Kp(e){const t=pl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Dp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Rp.bind(null,t),t}class Gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return ef(this.persistence,new Zh,e.initialUser,this.serializer)}Ga(e){return new Yh(Gh.Zr,this.serializer)}Wa(e){return new df}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gp.provider={build:()=>new Gp};class Xp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Pp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=qp.bind(null,this.syncEngine),await tp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new up}createDatastore(e){const t=wf(e.databaseInfo.databaseId),n=function(e){return new bf(e)}(e.databaseInfo);return function(e,t,n,r){return new Nf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Cf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Pp(this.syncEngine,e,0)),ff.D()?new ff:new hf)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Ep(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=pl(e);ll("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await If(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Xp.provider={build:()=>new Xp};class Qp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):cl("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Zp{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=il.UNAUTHENTICATED,this.clientId=kl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{ll("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ll("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(b6){const n=sp(b6,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Jp(e,t){e.asyncQueue.verifyOperationInProgress(),ll("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await tf(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function em(e,t){e.asyncQueue.verifyOperationInProgress();const n=await tm(e);ll("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ep(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ep(t.remoteStore,n))),e._onlineComponents=t}async function tm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ll("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jp(e,e._uninitializedComponentsProvider._offline)}catch(b6){const n=b6;if(!function(e){return"FirebaseError"===e.name?e.code===ml.FAILED_PRECONDITION||e.code===ml.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await Jp(e,new Gp)}}else ll("FirestoreClient","Using default OfflineComponentProvider"),await Jp(e,new Gp);return e._offlineComponents}async function nm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ll("FirestoreClient","Using user provided OnlineComponentProvider"),await em(e,e._uninitializedComponentsProvider._online)):(ll("FirestoreClient","Using default OnlineComponentProvider"),await em(e,new Xp))),e._onlineComponents}function rm(e){return nm(e).then((e=>e.syncEngine))}async function im(e){const t=await nm(e),n=t.eventManager;return n.onListen=Np.bind(null,t.syncEngine),n.onUnlisten=Ip.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ap.bind(null,t.syncEngine),n}function sm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Qp({next:o=>{s.Za(),t.enqueueAndForget((()=>fp(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new gl(ml.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new gl(ml.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new bp(vu(n.path),s,{includeMetadataChanges:!0,_a:!0});return hp(e,a)}(await im(e),e.asyncQueue,t,n,r))),r.promise}function am(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Qp({next:n=>{s.Za(),t.enqueueAndForget((()=>fp(e,a))),n.fromCache&&"server"===r.source?i.reject(new gl(ml.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new bp(n,s,{includeMetadataChanges:!0,_a:!0});return hp(e,a)}(await im(e),e.asyncQueue,t,n,r))),r.promise}function om(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const lm=new Map;function cm(e,t,n){if(!n)throw new gl(ml.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function um(e){if(!Rl.isDocumentKey(e))throw new gl(ml.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function dm(e){if(Rl.isDocumentKey(e))throw new gl(ml.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":hl()}function fm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gl(ml.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hm(e);throw new gl(ml.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function pm(e,t){if(t<=0)throw new gl(ml.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class mm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new gl(ml.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gl(ml.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new gl(ml.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=om(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new gl(ml.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new gl(ml.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new gl(ml.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gl(ml.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gl(ml.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bl;switch(e.type){case"firstParty":return new jl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new gl(ml.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lm.get(e);t&&(ll("ComponentProvider","Removing Datastore"),lm.delete(e),t.terminate())}(this),Promise.resolve()}}class ym{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ym(this.firestore,e,this._query)}}class vm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vm(this.firestore,e,this._key)}}class bm extends ym{constructor(e,t,n){super(e,t,vu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vm(this.firestore,null,new Rl(e))}withConverter(e){return new bm(this.firestore,e,this._path)}}function xm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kt(e),cm("collection","path",t),e instanceof gm){const n=Pl.fromString(t,...r);return dm(n),new bm(e,null,n)}{if(!(e instanceof vm||e instanceof bm))throw new gl(ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pl.fromString(t,...r));return dm(n),new bm(e.firestore,null,n)}}function wm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kt(e),1===arguments.length&&(t=kl.newId()),cm("doc","path",t),e instanceof gm){const n=Pl.fromString(t,...r);return um(n),new vm(e,null,new Rl(n))}{if(!(e instanceof vm||e instanceof bm))throw new gl(ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pl.fromString(t,...r));return um(n),new vm(e.firestore,e instanceof bm?e.converter:null,new Rl(n))}}class _m{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _f(this,"async_queue_retry"),this.Vu=()=>{const e=xf();e&&ll("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=xf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=xf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new yl;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(v6){if(!Yl(v6))throw v6;ll("AsyncQueue","Operation failed with retryable error: "+v6)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw cl("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=ip.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&hl()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function jm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Sm extends gm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new _m,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _m(e),this._firestoreClient=void 0,await e}}}function Em(e){if(e._terminated)throw new gl(ml.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Nm(e),e._firestoreClient}function Nm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new xc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,om(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Zp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class km{constructor(e){this._byteString=e}static fromBase64String(e){try{return new km(hc.fromBase64String(e))}catch(e){throw new gl(ml.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new km(hc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new gl(ml.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tm{constructor(e){this._methodName=e}}class Im{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gl(ml.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gl(ml.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cl(this._lat,e._lat)||Cl(this._long,e._long)}}class Am{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Om=/^__.*__$/;class Pm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new bd(e,this.data,this.fieldMask,t,this.fieldTransforms):new vd(e,this.data,t,this.fieldTransforms)}}class Mm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new bd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Dm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hl()}}class Rm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Dm(this.Cu)&&Om.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Lm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wf(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Rm({Cu:e,methodName:t,qu:n,path:Dl.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fm(e){const t=e._freezeSettings(),n=wf(e._databaseId);return new Lm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Bm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Km("Data must be an object, but it was:",a,r);const o=Wm(r,a);let l,c;if(s.merge)l=new uc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Gm(t,r,n);if(!a.contains(i))throw new gl(ml.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Jm(e,i)||e.push(i)}l=new uc(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Pm(new Uc(o),l,c)}class Um extends Tm{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Um}}class Vm extends Tm{_toFieldTransform(e){return new ld(e.path,new ed)}isEqual(e){return e instanceof Vm}}function zm(e,t,n,r){const i=e.Qu(1,t,n);Km("Data must be an object, but it was:",i,r);const s=[],a=Uc.empty();rc(r,((e,r)=>{const o=Qm(t,e,n);r=kt(r);const l=i.Nu(o);if(r instanceof Um)s.push(o);else{const e=qm(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new uc(s);return new Mm(a,o,i.fieldTransforms)}function $m(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[Gm(t,r,n)],l=[i];if(s.length%2!=0)throw new gl(ml.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Gm(t,s[h])),l.push(s[h+1]);const c=[],u=Uc.empty();for(let h=o.length-1;h>=0;--h)if(!Jm(c,o[h])){const e=o[h];let t=l[h];t=kt(t);const n=a.Nu(e);if(t instanceof Um)c.push(e);else{const r=qm(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new uc(c);return new Mm(u,d,a.fieldTransforms)}function Hm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return qm(n,e.Qu(r?4:3,t))}function qm(e,t){if(Ym(e=kt(e)))return Km("Unsupported field value:",t,e),Wm(e,t);if(e instanceof Tm)return function(e,t){if(!Dm(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=qm(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=kt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Il.fromDate(e);return{timestampValue:eh(t.serializer,n)}}if(e instanceof Il){const n=new Il(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eh(t.serializer,n)}}if(e instanceof Im)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof km)return{bytesValue:th(t.serializer,e._byteString)};if(e instanceof vm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ih(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Am)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Yu(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${hm(e)}`)}(e,t)}function Wm(e,t){const n={};return ic(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rc(e,((e,r)=>{const i=qm(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ym(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Il||e instanceof Im||e instanceof km||e instanceof vm||e instanceof Tm||e instanceof Am)}function Km(e,t,n){if(!Ym(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=hm(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Gm(e,t,n){if((t=kt(t))instanceof Cm)return t._internalPath;if("string"==typeof t)return Qm(e,t);throw Zm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Xm=new RegExp("[~\\*/\\[\\]]");function Qm(e,t,n){if(t.search(Xm)>=0)throw Zm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Cm(...t.split("."))._internalPath}catch(QB){throw Zm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Zm(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new gl(ml.INVALID_ARGUMENT,o+e+l)}function Jm(e,t){return e.some((e=>e.isEqual(t)))}class eg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new vm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ng("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class tg extends eg{data(){return super.data()}}function ng(e,t){return"string"==typeof t?Qm(e,t):t instanceof Cm?t._internalPath:t._delegate._internalPath}function rg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gl(ml.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class sg extends ig{}function ag(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof ig&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof cg)).length,n=e.filter((e=>e instanceof og)).length;if(t>1||t>0&&n>0)throw new gl(ml.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class og extends sg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new og(e,t,n)}_apply(e){const t=this._parse(e);return gg(e._query,t),new ym(e.firestore,e.converter,Su(e._query,t))}_parse(e){const t=Fm(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new gl(ml.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){mg(a,s);const t=[];for(const n of a)t.push(pg(r,e,n));o={arrayValue:{values:t}}}else o=pg(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||mg(a,s),o=Hm(n,t,a,"in"===s||"not-in"===s);return Gc.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function lg(e,t,n){const r=t,i=ng("where",e);return og._create(i,r,n)}class cg extends ig{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cg(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Xc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)gg(n,i),n=Su(n,i)}(e._query,t),new ym(e.firestore,e.converter,Su(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ug extends sg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ug(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new gl(ml.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gl(ml.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wc(t,n)}(e._query,this._field,this._direction);return new ym(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new gu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function dg(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ng("orderBy",e);return ug._create(n,t)}class hg extends sg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new hg(e,t,n)}_apply(e){return new ym(e.firestore,e.converter,Eu(e._query,this._limit,this._limitType))}}function fg(e){return pm("limit",e),hg._create("limit",e,"F")}function pg(e,t,n){if("string"==typeof(n=kt(n))){if(""===n)throw new gl(ml.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xu(t)&&-1!==n.indexOf("/"))throw new gl(ml.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Pl.fromString(n));if(!Rl.isDocumentKey(r))throw new gl(ml.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ac(e,new Rl(r))}if(n instanceof vm)return Ac(e,n._key);throw new gl(ml.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(n)}.`)}function mg(e,t){if(!Array.isArray(e)||0===e.length)throw new gl(ml.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function gg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new gl(ml.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gl(ml.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class yg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw hl()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return rc(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>mc(e.doubleValue)));return new Am(i)}convertGeoPoint(e){return new Im(mc(e.latitude),mc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bc(e));default:return null}}convertTimestamp(e){const t=pc(e);return new Il(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Pl.fromString(e);fl(Nh(n));const r=new wc(n.get(1),n.get(3)),i=new Rl(n.popFirst(5));return r.isEqual(t)||cl(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function vg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class bg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xg extends eg{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ng("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class wg extends xg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class _g{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new wg(this._firestore,this._userDataWriter,n.key,n,new bg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gl(ml.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new wg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new bg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new wg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:jg(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function jg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hl()}}function Sg(e){e=fm(e,vm);const t=fm(e.firestore,Sm);return sm(Em(t),e._key).then((n=>Pg(t,e,n)))}class Eg extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new km(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vm(this.firestore,null,t)}}function Ng(e){e=fm(e,ym);const t=fm(e.firestore,Sm),n=Em(t),r=new Eg(t);return rg(e._query),am(n,e._query).then((n=>new _g(t,r,e,n)))}function kg(e,t,n){e=fm(e,vm);const r=fm(e.firestore,Sm),i=vg(e.converter,t,n);return Og(r,[Bm(Fm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ud.none())])}function Cg(e,t,n){e=fm(e,vm);const r=fm(e.firestore,Sm),i=Fm(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=kt(t))||t instanceof Cm?$m(i,"updateDoc",e._key,t,n,o):zm(i,"updateDoc",e._key,t),Og(r,[s.toMutation(e._key,ud.exists(!0))])}function Tg(e){return Og(fm(e.firestore,Sm),[new jd(e._key,ud.none())])}function Ig(e,t){const n=fm(e.firestore,Sm),r=wm(e),i=vg(e.converter,t);return Og(n,[Bm(Fm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ud.exists(!1))]).then((()=>r))}function Ag(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=kt(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||jm(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(jm(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof vm)d=fm(e.firestore,Sm),h=vu(e._key.path),u={next:t=>{n[l]&&n[l](Pg(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=fm(e,ym);d=fm(t.firestore,Sm),h=t._query;const r=new Eg(d);u={next:e=>{n[l]&&n[l](new _g(d,r,t,e))},error:n[l+1],complete:n[l+2]},rg(e._query)}return function(e,t,n,r){const i=new Qp(r),s=new bp(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>hp(await im(e),s))),()=>{i.Za(),e.asyncQueue.enqueueAndForget((async()=>fp(await im(e),s)))}}(Em(d),h,c,u)}function Og(e,t){return function(e,t){const n=new yl;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Kp(e);try{const e=await function(e,t){const n=pl(e),r=Il.now(),i=t.reduce(((e,t)=>e.add(t.key)),Hu());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Du(),l=Hu();return n.cs.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=gd(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new bd(e.key,t,Vc(t.value.mapValue),ud.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Fu(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new sc(Cl)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Hp(r,e.changes),await qf(r.remoteStore)}catch(e){const t=sp(e,"Failed to persist write");n.reject(t)}}(await rm(e),t,n))),n.promise}(Em(e),t)}function Pg(e,t,n){const r=n.docs.get(t._key),i=new Eg(e);return new xg(e,i,t._key,r,new bg(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sl=e}(Hn),Bn(new Ct("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Sm(new wl(e.getProvider("auth-internal")),new El(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gl(ml.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Yn(rl,"4.7.3",e),Yn(rl,"4.7.3","esm2017")}();const Mg="@firebase/database",Dg="1.0.8";let Rg="";function Lg(e){Rg=e}class Fg{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ut(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ct(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Bg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ht(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Ug=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Fg(t)}}catch(v6){}return new Bg},Vg=Ug("localStorage"),zg=Ug("sessionStorage"),$g=new Ft("@firebase/database"),Hg=function(){let e=1;return function(){return e++}}(),qg=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Me(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new wt;n.update(t);const r=n.digest();return Le.encodeByteArray(r)},Wg=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Wg.apply(null,n):e+="object"===typeof n?ut(n):n,e+=" "}return e};let Yg=null,Kg=!0;const Gg=function(e,t){Me(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?($g.logLevel=Pt.VERBOSE,Yg=$g.log.bind($g),t&&zg.set("logging_enabled",!0)):"function"===typeof e?Yg=e:(Yg=null,zg.remove("logging_enabled"))},Xg=function(){if(!0===Kg&&(Kg=!1,null===Yg&&!0===zg.get("logging_enabled")&&Gg(!0)),Yg){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Wg.apply(null,t);Yg(r)}},Qg=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Xg(e,...n)}},Zg=function(){const e="FIREBASE INTERNAL ERROR: "+Wg(...arguments);$g.error(e)},Jg=function(){const e=`FIREBASE FATAL ERROR: ${Wg(...arguments)}`;throw $g.error(e),new Error(e)},ey=function(){const e="FIREBASE WARNING: "+Wg(...arguments);$g.warn(e)},ty=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ny="[MIN_NAME]",ry="[MAX_NAME]",iy=function(e,t){if(e===t)return 0;if(e===ny||t===ry)return-1;if(t===ny||e===ry)return 1;{const n=hy(e),r=hy(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},sy=function(e,t){return e===t?0:e<t?-1:1},ay=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ut(t))},oy=function(e){if("object"!==typeof e||null===e)return ut(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=ut(t[r]),n+=":",n+=oy(e[t[r]]);return n+="}",n},ly=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function cy(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const uy=function(e){Me(!ty(e),"Invalid JSON number");const t=1023;let n,r,i,s,a;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const o=[];for(a=52;a;a-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(a=11;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);o.push(n?1:0),o.reverse();const l=o.join("");let c="";for(a=0;a<64;a+=8){let e=parseInt(l.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const dy=new RegExp("^-?(0*)\\d{1,10}$"),hy=function(e){if(dy.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},fy=function(e){try{e()}catch(v6){setTimeout((()=>{const t=v6.stack||"";throw ey("Exception was thrown by user callback.",t),v6}),Math.floor(0))}},py=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class my{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){ey(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gy{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Xg("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ey(e)}}class yy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}yy.OWNER="owner";const vy="5",by=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xy="ac",wy="websocket",_y="long_polling";class jy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Sy(e,t,n){let r;if(Me("string"===typeof t,"typeof type must == string"),Me("object"===typeof n,"typeof params must == object"),t===wy)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==_y)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return cy(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Ey{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ht(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ze(this.counters_)}}const Ny={},ky={};function Cy(e){const t=e.toString();return Ny[t]||(Ny[t]=new Ey),Ny[t]}class Ty{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&fy((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Iy="start";class Ay{constructor(e,t,n,r,i,s,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qg(e),this.stats_=Cy(t),this.urlFn=e=>(this.appCheckToken&&(e[xy]=this.appCheckToken),Sy(t,_y,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ty(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(nt()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Oy((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,a,o,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Iy)n.id=s,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Iy]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=vy,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[xy]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&by.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ay.forceAllow_=!0}static forceDisallow(){Ay.forceDisallow_=!0}static isAvailable(){return!nt()&&(!!Ay.forceAllow_||!Ay.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ut(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Be(t),r=ly(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(nt())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ut(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Oy{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,nt())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Hg(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Oy.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(v6){Xg("frame writing exception"),v6.stack&&Xg(v6.stack),Xg(v6)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Xg("No IE domain setting required")}catch(v6){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){nt()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Xg("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(v6){}}),Math.floor(1))}}let Py=null;"undefined"!==typeof MozWebSocket?Py=MozWebSocket:"undefined"!==typeof WebSocket&&(Py=WebSocket);class My{constructor(e,t,n,r,i,s,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qg(this.connId),this.stats_=Cy(t),this.connURL=My.connectionURL_(t,s,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=vy,!nt()&&"undefined"!==typeof location&&location.hostname&&by.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[xy]=r),i&&(s.p=i),Sy(e,wy,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vg.set("previous_websocket_failure",!0);try{let e;if(nt()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${vy}/${Rg}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API:"AIzaSyDQIMqO4bJ-k4-pjjGnHGwCbCYUFUQe7Hw",REACT_APP_FIREBASE_APP_ID:"1:300630412358:web:44afc1a224507ccb764e47",REACT_APP_FIREBASE_DATABASE_URL:"https://smartecolock-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_DOMAIN:"smartecolock.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-PNBNJ39FE0",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"300630412358",REACT_APP_FIREBASE_PROJECT_ID:"smartecolock",REACT_APP_FIREBASE_STORAGE_BUCKET:"smartecolock.appspot.com",REACT_APP_GEMINI_API:"AIzaSyBYLXhvqwNsxNzMAMcxBlnAulcFOhNQhEk"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Py(this.connURL,[],e)}catch(v6){this.log_("Error instantiating WebSocket.");const t=v6.message||v6.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){My.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Py&&!My.forceDisallow_}static previouslyFailed(){return Vg.isInMemoryStorage||!0===Vg.get("previous_websocket_failure")}markConnectionHealthy(){Vg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=ct(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Me(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=ut(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=ly(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(v6){this.log_("Exception thrown from WebSocket.send():",v6.message||v6.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}My.responsesRequiredToBeHealthy=2,My.healthyTimeout=3e4;class Dy{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ay,My]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=My&&My.isAvailable();let n=t&&!My.previouslyFailed();if(e.webSocketOnly&&(t||ey("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[My];else{const e=this.transports_=[];for(const t of Dy.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Dy.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Dy.globalTransportInitialized_=!1;class Ry{constructor(e,t,n,r,i,s,a,o,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qg("c:"+this.id+":"),this.transportManager_=new Dy(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=py((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ay("t",e),n=ay("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ay("t",e),n=ay("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ay("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Zg("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zg("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),vy!==n&&ey("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),py((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):py((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ly{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Fy{constructor(e){this.allowedEvents_=e,this.listeners_={},Me(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Me(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class By extends Fy{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Je()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new By}getInitialEvent(e){return Me("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Uy{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Vy(){return new Uy("")}function zy(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function $y(e){return e.pieces_.length-e.pieceNum_}function Hy(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Uy(e.pieces_,t)}function qy(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Wy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Yy(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Uy(t,0)}function Ky(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Uy)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Uy(n,0)}function Gy(e){return e.pieceNum_>=e.pieces_.length}function Xy(e,t){const n=zy(e),r=zy(t);if(null===n)return t;if(n===r)return Xy(Hy(e),Hy(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Qy(e,t){if($y(e)!==$y(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Zy(e,t){let n=e.pieceNum_,r=t.pieceNum_;if($y(e)>$y(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Jy{constructor(e,t){this.errorPrefix_=t,this.parts_=Wy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Et(this.parts_[n]);ev(this)}}function ev(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+tv(e))}function tv(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class nv extends Fy{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new nv}getInitialEvent(e){return Me("visible"===e,"Unknown event type: "+e),[this.visible_]}}const rv=1e3;class iv extends Ly{constructor(e,t,n,r,i,s,a,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=o,this.id=iv.nextPersistentConnectionId_++,this.log_=Qg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rv,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o&&!nt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nv.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&By.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(ut(i)),Me(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Xe,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Me(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Me(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,a=i.s;iv.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&ht(e,"w")){const n=ft(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();ey(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=dt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=dt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Me(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ut(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Zg("Unrecognized action received from server: "+ut(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Me(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rv),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+iv.nextConnectionId_++,i=this.lastSessionId;let s=!1,a=null;const o=function(){a?a.close():(s=!0,n())},l=function(e){Me(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:o,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Xg("getToken() completed but was canceled"):(Xg("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=l&&l.token,a=new Ry(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{ey(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Zg){this.log_("Failed to get token: "+Zg),s||(this.repoInfo_.nodeAdmin&&ey(Zg),o())}}}interrupt(e){Xg("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xg("Resuming connection for reason: "+e),delete this.interruptReasons_[e],pt(this.interruptReasons_)&&(this.reconnectDelay_=rv,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>oy(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Uy(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Xg("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Xg("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";nt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Rg.replace(/\./g,"-")]=1,Je()?e["framework.cordova"]=1:tt()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=By.getInstance().currentlyOnline();return pt(this.interruptReasons_)&&e}}iv.nextPersistentConnectionId_=0,iv.nextConnectionId_=0;class sv{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new sv(e,t)}}class av{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new sv(ny,e),r=new sv(ny,t);return 0!==this.compare(n,r)}minPost(){return sv.MIN}}let ov;class lv extends av{static get __EMPTY_NODE(){return ov}static set __EMPTY_NODE(e){ov=e}compare(e,t){return iy(e.name,t.name)}isDefinedOn(e){throw De("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return sv.MIN}maxPost(){return new sv(ry,ov)}makePost(e,t){return Me("string"===typeof e,"KeyIndex indexValue must always be a string."),new sv(e,ov)}toString(){return".key"}}const cv=new lv;class uv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:dv.RED,this.left=null!=r?r:hv.EMPTY_NODE,this.right=null!=i?i:hv.EMPTY_NODE}copy(e,t,n,r,i){return new dv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return hv.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return hv.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dv.RED=!0,dv.BLACK=!1;class hv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hv.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new hv(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,dv.BLACK,null,null))}remove(e){return new hv(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dv.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new uv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new uv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new uv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new uv(this.root_,null,this.comparator_,!0,e)}}function fv(e,t){return iy(e.name,t.name)}function pv(e,t){return iy(e,t)}let mv;hv.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new dv(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const gv=function(e){return"number"===typeof e?"number:"+uy(e):"string:"+e},yv=function(e){if(e.isLeafNode()){const t=e.val();Me("string"===typeof t||"number"===typeof t||"object"===typeof t&&ht(t,".sv"),"Priority must be a string or number.")}else Me(e===mv||e.isEmpty(),"priority of unexpected type.");Me(e===mv||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let vv,bv,xv;class wv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wv.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Me(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),yv(this.priorityNode_)}static set __childrenNodeConstructor(e){vv=e}static get __childrenNodeConstructor(){return vv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new wv(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:wv.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Gy(e)?this:".priority"===zy(e)?this.priorityNode_:wv.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:wv.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=zy(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Me(".priority"!==n||1===$y(e),".priority must be the last token in a path"),this.updateImmediateChild(n,wv.__childrenNodeConstructor.EMPTY_NODE.updateChild(Hy(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+gv(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?uy(this.value_):this.value_,this.lazyHash_=qg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===wv.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof wv.__childrenNodeConstructor?-1:(Me(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=wv.VALUE_TYPE_ORDER.indexOf(t),i=wv.VALUE_TYPE_ORDER.indexOf(n);return Me(r>=0,"Unknown leaf type: "+t),Me(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}wv.VALUE_TYPE_ORDER=["object","boolean","number","string"];const _v=new class extends av{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?iy(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return sv.MIN}maxPost(){return new sv(ry,new wv("[PRIORITY-POST]",xv))}makePost(e,t){const n=bv(e);return new sv(t,new wv("[PRIORITY-POST]",n))}toString(){return".priority"}},jv=Math.log(2);class Sv{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/jv,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ev=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let a,o;if(0===s)return null;if(1===s)return a=e[t],o=n?n(a):a,new dv(o,a.node,dv.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return a=e[l],o=n?n(a):a,new dv(o,a.node,dv.BLACK,c,u)}},s=function(t){let r=null,s=null,a=e.length;const o=function(t,r){const s=a-t,o=a;a-=t;const c=i(s+1,o),u=e[s],d=n?n(u):u;l(new dv(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?o(r,dv.BLACK):(o(r,dv.BLACK),o(r,dv.RED))}return s}(new Sv(e.length));return new hv(r||t,s)};let Nv;const kv={};class Cv{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Me(kv&&_v,"ChildrenNode.ts has not been loaded"),Nv=Nv||new Cv({".priority":kv},{".priority":_v}),Nv}get(e){const t=ft(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof hv?t:null}hasIndex(e){return ht(this.indexSet_,e.toString())}addIndex(e,t){Me(e!==cv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(sv.Wrap);let s,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();s=r?Ev(n,e.getCompare()):kv;const o=e.toString(),l=Object.assign({},this.indexSet_);l[o]=e;const c=Object.assign({},this.indexes_);return c[o]=s,new Cv(c,l)}addToIndexes(e,t){const n=mt(this.indexes_,((n,r)=>{const i=ft(this.indexSet_,r);if(Me(i,"Missing index implementation for "+r),n===kv){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(sv.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),Ev(n,i.getCompare())}return kv}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new sv(e.name,r))),i.insert(e,e.node)}}));return new Cv(n,this.indexSet_)}removeFromIndexes(e,t){const n=mt(this.indexes_,(n=>{if(n===kv)return n;{const r=t.get(e.name);return r?n.remove(new sv(e.name,r)):n}}));return new Cv(n,this.indexSet_)}}let Tv;class Iv{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&yv(this.priorityNode_),this.children_.isEmpty()&&Me(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Tv||(Tv=new Iv(new hv(pv),null,Cv.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tv}updatePriority(e){return this.children_.isEmpty()?this:new Iv(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Tv:t}}getChild(e){const t=zy(e);return null===t?this:this.getImmediateChild(t).getChild(Hy(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Me(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new sv(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?Tv:this.priorityNode_;return new Iv(r,s,i)}}updateChild(e,t){const n=zy(e);if(null===n)return t;{Me(".priority"!==zy(e)||1===$y(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Hy(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(_v,((s,a)=>{t[s]=a.val(e),n++,i&&Iv.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+gv(this.getPriority().val())+":"),this.forEachChild(_v,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":qg(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new sv(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new sv(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new sv(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,sv.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,sv.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Av?-1:0}withIndex(e){if(e===cv||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Iv(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===cv||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(_v),n=t.getIterator(_v);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===cv?null:this.indexMap_.get(e.toString())}}Iv.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Av=new class extends Iv{constructor(){super(new hv(pv),Iv.EMPTY_NODE,Cv.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Iv.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(sv,{MIN:{value:new sv(ny,Iv.EMPTY_NODE)},MAX:{value:new sv(ry,Av)}}),lv.__EMPTY_NODE=Iv.EMPTY_NODE,wv.__childrenNodeConstructor=Iv,mv=Av,function(e){xv=e}(Av);function Ov(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Iv.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Me(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new wv(e,Ov(t))}if(e instanceof Array){let n=Iv.EMPTY_NODE;return cy(e,((t,r)=>{if(ht(e,t)&&"."!==t.substring(0,1)){const e=Ov(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Ov(t))}{const n=[];let r=!1;if(cy(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Ov(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new sv(e,i)))}})),0===n.length)return Iv.EMPTY_NODE;const i=Ev(n,fv,(e=>e.name),pv);if(r){const e=Ev(n,_v.getCompare());return new Iv(i,Ov(t),new Cv({".priority":e},{".priority":_v}))}return new Iv(i,Ov(t),Cv.Default)}}!function(e){bv=e}(Ov);class Pv extends av{constructor(e){super(),this.indexPath_=e,Me(!Gy(e)&&".priority"!==zy(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?iy(e.name,t.name):i}makePost(e,t){const n=Ov(e),r=Iv.EMPTY_NODE.updateChild(this.indexPath_,n);return new sv(t,r)}maxPost(){const e=Iv.EMPTY_NODE.updateChild(this.indexPath_,Av);return new sv(ry,e)}toString(){return Wy(this.indexPath_,0).join("/")}}const Mv=new class extends av{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?iy(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return sv.MIN}maxPost(){return sv.MAX}makePost(e,t){const n=Ov(e);return new sv(t,n)}toString(){return".value"}};function Dv(e){return{type:"value",snapshotNode:e}}function Rv(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Lv(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Fv(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Bv{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){Me(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Lv(t,a)):Me(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Rv(t,n)):s.trackChildChange(Fv(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(_v,((e,r)=>{t.hasChild(e)||n.trackChildChange(Lv(e,r))})),t.isLeafNode()||t.forEachChild(_v,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Fv(t,r,i))}else n.trackChildChange(Rv(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Iv.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Uv{constructor(e){this.indexedFilter_=new Bv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Uv.getStartPost_(e),this.endPost_=Uv.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new sv(t,n))||(n=Iv.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Iv.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Iv.EMPTY_NODE);const i=this;return t.forEachChild(_v,((e,t)=>{i.matches(new sv(e,t))||(r=r.updateImmediateChild(e,Iv.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Vv{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Uv(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new sv(t,n))||(n=Iv.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Iv.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Iv.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Iv.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Iv.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;Me(a.numChildren()===this.limit_,"");const o=new sv(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(o);if(a.hasChild(t)){const e=a.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||a.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:s(u,o);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Fv(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Lv(t,e));const n=a.updateImmediateChild(t,Iv.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Rv(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,o)>=0?(null!=i&&(i.trackChildChange(Lv(l.name,l.node)),i.trackChildChange(Rv(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,Iv.EMPTY_NODE)):e}}class zv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_v}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Me(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Me(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ny}hasEnd(){return this.endSet_}getIndexEndValue(){return Me(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Me(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ry}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Me(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_v}copy(){const e=new zv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $v(e){const t={};if(e.isDefault())return t;let n;if(e.index_===_v?n="$priority":e.index_===Mv?n="$value":e.index_===cv?n="$key":(Me(e.index_ instanceof Pv,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ut(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=ut(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+ut(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=ut(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+ut(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Hv(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==_v&&(t.i=e.index_.toString()),t}class qv extends Ly{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Qg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Me(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=qv.getListenId_(e,n),a={};this.listens_[s]=a;const o=$v(e._queryParams);this.restRequest_(i+".json",o,((e,t)=>{let o=t;if(404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(i,o,!1,n),ft(this.listens_,s)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=qv.getListenId_(e,t);delete this.listens_[n]}get(e){const t=$v(e._queryParams),n=e._path.toString(),r=new Xe;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+vt(t);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=ct(o.responseText)}catch(v6){ey("Failed to parse JSON response for "+a+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&ey("Got unsuccessful REST response for "+a+" Status: "+o.status),n(o.status);n=null}},o.open("GET",a,!0),o.send()}))}}class Wv{constructor(){this.rootNode_=Iv.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Yv(){return{value:null,children:new Map}}function Kv(e,t,n){if(Gy(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=zy(t);e.children.has(r)||e.children.set(r,Yv());Kv(e.children.get(r),t=Hy(t),n)}}function Gv(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Gv(r,new Uy(t.toString()+"/"+e),n)}))}class Xv{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&cy(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Qv{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Xv(e);const n=1e4+2e4*Math.random();py(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;cy(e,((e,r)=>{r>0&&ht(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),py(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Zv;function Jv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Zv||(Zv={}));class eb{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Zv.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Gy(this.path)){if(null!=this.affectedTree.value)return Me(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Uy(e));return new eb(Vy(),t,this.revert)}}return Me(zy(this.path)===e,"operationForChild called for unrelated child."),new eb(Hy(this.path),this.affectedTree,this.revert)}}class tb{constructor(e,t){this.source=e,this.path=t,this.type=Zv.LISTEN_COMPLETE}operationForChild(e){return Gy(this.path)?new tb(this.source,Vy()):new tb(this.source,Hy(this.path))}}class nb{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Zv.OVERWRITE}operationForChild(e){return Gy(this.path)?new nb(this.source,Vy(),this.snap.getImmediateChild(e)):new nb(this.source,Hy(this.path),this.snap)}}class rb{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Zv.MERGE}operationForChild(e){if(Gy(this.path)){const t=this.children.subtree(new Uy(e));return t.isEmpty()?null:t.value?new nb(this.source,Vy(),t.value):new rb(this.source,Vy(),t)}return Me(zy(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rb(this.source,Hy(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ib{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Gy(e))return this.isFullyInitialized()&&!this.filtered_;const t=zy(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class sb{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ab(e,t,n,r,i,s){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw De("Should only compare child_ events.");const r=new sv(t.childName,t.snapshotNode),i=new sv(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function ob(e,t){return{eventCache:e,serverCache:t}}function lb(e,t,n,r){return ob(new ib(t,n,r),e.serverCache)}function cb(e,t,n,r){return ob(e.eventCache,new ib(t,n,r))}function ub(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function db(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let hb;class fb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(hb||(hb=new hv(sy)),hb);this.value=e,this.children=t}static fromObject(e){let t=new fb(null);return cy(e,((e,n)=>{t=t.set(new Uy(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Vy(),value:this.value};if(Gy(e))return null;{const n=zy(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Hy(e),t);if(null!=i){return{path:Ky(new Uy(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Gy(e))return this;{const t=zy(e),n=this.children.get(t);return null!==n?n.subtree(Hy(e)):new fb(null)}}set(e,t){if(Gy(e))return new fb(t,this.children);{const n=zy(e),r=(this.children.get(n)||new fb(null)).set(Hy(e),t),i=this.children.insert(n,r);return new fb(this.value,i)}}remove(e){if(Gy(e))return this.children.isEmpty()?new fb(null):new fb(null,this.children);{const t=zy(e),n=this.children.get(t);if(n){const r=n.remove(Hy(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new fb(null):new fb(this.value,i)}return this}}get(e){if(Gy(e))return this.value;{const t=zy(e),n=this.children.get(t);return n?n.get(Hy(e)):null}}setTree(e,t){if(Gy(e))return t;{const n=zy(e),r=(this.children.get(n)||new fb(null)).setTree(Hy(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new fb(this.value,i)}}fold(e){return this.fold_(Vy(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Ky(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Vy(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Gy(e))return null;{const r=zy(e),i=this.children.get(r);return i?i.findOnPath_(Hy(e),Ky(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Vy(),t)}foreachOnPath_(e,t,n){if(Gy(e))return this;{this.value&&n(t,this.value);const r=zy(e),i=this.children.get(r);return i?i.foreachOnPath_(Hy(e),Ky(t,r),n):new fb(null)}}foreach(e){this.foreach_(Vy(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Ky(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class pb{constructor(e){this.writeTree_=e}static empty(){return new pb(new fb(null))}}function mb(e,t,n){if(Gy(t))return new pb(new fb(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const a=Xy(i,t);return s=s.updateChild(a,n),new pb(e.writeTree_.set(i,s))}{const r=new fb(n),i=e.writeTree_.setTree(t,r);return new pb(i)}}}function gb(e,t,n){let r=e;return cy(n,((e,n)=>{r=mb(r,Ky(t,e),n)})),r}function yb(e,t){if(Gy(t))return pb.empty();{const n=e.writeTree_.setTree(t,new fb(null));return new pb(n)}}function vb(e,t){return null!=bb(e,t)}function bb(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Xy(n.path,t)):null}function xb(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(_v,((e,n)=>{t.push(new sv(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new sv(e,n.value))})),t}function wb(e,t){if(Gy(t))return e;{const n=bb(e,t);return new pb(null!=n?new fb(n):e.writeTree_.subtree(t))}}function _b(e){return e.writeTree_.isEmpty()}function jb(e,t){return Sb(Vy(),e.writeTree_,t)}function Sb(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Me(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Sb(Ky(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ky(e,".priority"),r)),n}}function Eb(e,t){return Fb(t,e)}function Nb(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Me(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&kb(t,r.path)?i=!1:Zy(r.path,t.path)&&(s=!0)),a--}if(i){if(s)return function(e){e.visibleWrites=Tb(e.allWrites,Cb,Vy()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=yb(e.visibleWrites,r.path);else{cy(r.children,(t=>{e.visibleWrites=yb(e.visibleWrites,Ky(r.path,t))}))}return!0}return!1}function kb(e,t){if(e.snap)return Zy(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Zy(Ky(e.path,n),t))return!0;return!1}function Cb(e){return e.visible}function Tb(e,t,n){let r=pb.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Zy(n,e)?(t=Xy(n,e),r=mb(r,t,s.snap)):Zy(e,n)&&(t=Xy(e,n),r=mb(r,Vy(),s.snap.getChild(t)));else{if(!s.children)throw De("WriteRecord should have .snap or .children");if(Zy(n,e))t=Xy(n,e),r=gb(r,t,s.children);else if(Zy(e,n))if(t=Xy(e,n),Gy(t))r=gb(r,Vy(),s.children);else{const e=ft(s.children,zy(t));if(e){const n=e.getChild(Hy(t));r=mb(r,Vy(),n)}}}}}return r}function Ib(e,t,n,r,i){if(r||i){const s=wb(e.visibleWrites,t);if(!i&&_b(s))return n;if(i||null!=n||vb(s,Vy())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Zy(e.path,t)||Zy(t,e.path))};return jb(Tb(e.allWrites,s,t),n||Iv.EMPTY_NODE)}return null}{const r=bb(e.visibleWrites,t);if(null!=r)return r;{const r=wb(e.visibleWrites,t);if(_b(r))return n;if(null!=n||vb(r,Vy())){return jb(r,n||Iv.EMPTY_NODE)}return null}}}function Ab(e,t,n,r){return Ib(e.writeTree,e.treePath,t,n,r)}function Ob(e,t){return function(e,t,n){let r=Iv.EMPTY_NODE;const i=bb(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(_v,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=wb(e.visibleWrites,t);return n.forEachChild(_v,((e,t)=>{const n=jb(wb(i,new Uy(e)),t);r=r.updateImmediateChild(e,n)})),xb(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return xb(wb(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Pb(e,t,n,r){return function(e,t,n,r,i){Me(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ky(t,n);if(vb(e.visibleWrites,s))return null;{const t=wb(e.visibleWrites,s);return _b(t)?i.getChild(n):jb(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Mb(e,t){return function(e,t){return bb(e.visibleWrites,t)}(e.writeTree,Ky(e.treePath,t))}function Db(e,t,n,r,i,s){return function(e,t,n,r,i,s,a){let o;const l=wb(e.visibleWrites,t),c=bb(l,Vy());if(null!=c)o=c;else{if(null==n)return[];o=jb(l,n)}if(o=o.withIndex(a),o.isEmpty()||o.isLeafNode())return[];{const e=[],t=a.getCompare(),n=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function Rb(e,t,n){return function(e,t,n,r){const i=Ky(t,n),s=bb(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return jb(wb(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Lb(e,t){return Fb(Ky(e.treePath,t),e.writeTree)}function Fb(e,t){return{treePath:e,writeTree:t}}class Bb{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Me("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Me(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Fv(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Lv(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Rv(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw De("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Fv(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Ub=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Vb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new ib(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rb(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:db(this.viewCache_),i=Db(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function zb(e,t,n,r,i){const s=new Bb;let a,o;if(n.type===Zv.OVERWRITE){const l=n;l.source.fromUser?a=qb(e,t,l.path,l.snap,r,i,s):(Me(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered()&&!Gy(l.path),a=Hb(e,t,l.path,l.snap,r,i,o,s))}else if(n.type===Zv.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,r,i,s,a){let o=t;return r.foreach(((r,l)=>{const c=Ky(n,r);Wb(t,zy(c))&&(o=qb(e,o,c,l,i,s,a))})),r.foreach(((r,l)=>{const c=Ky(n,r);Wb(t,zy(c))||(o=qb(e,o,c,l,i,s,a))})),o}(e,t,l.path,l.children,r,i,s):(Me(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Kb(e,t,l.path,l.children,r,i,o,s))}else if(n.type===Zv.ACK_USER_WRITE){const o=n;a=o.revert?function(e,t,n,r,i,s){let a;if(null!=Mb(r,n))return t;{const o=new Vb(r,t,i),l=t.eventCache.getNode();let c;if(Gy(n)||".priority"===zy(n)){let n;if(t.serverCache.isFullyInitialized())n=Ab(r,db(t));else{const e=t.serverCache.getNode();Me(e instanceof Iv,"serverChildren would be complete if leaf node"),n=Ob(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=zy(n);let u=Rb(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Hy(n),o,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Iv.EMPTY_NODE,Hy(n),o,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Ab(r,db(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=Mb(r,Vy()),lb(t,c,a,e.filter.filtersNodes())}}(e,t,o.path,r,i,s):function(e,t,n,r,i,s,a){if(null!=Mb(i,n))return t;const o=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Gy(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Hb(e,t,n,l.getNode().getChild(n),i,s,o,a);if(Gy(n)){let r=new fb(null);return l.getNode().forEachChild(cv,((e,t)=>{r=r.set(new Uy(e),t)})),Kb(e,t,n,r,i,s,o,a)}return t}{let c=new fb(null);return r.foreach(((e,t)=>{const r=Ky(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),Kb(e,t,n,c,i,s,o,a)}}(e,t,o.path,o.affectedTree,r,i,s)}else{if(n.type!==Zv.LISTEN_COMPLETE)throw De("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const s=t.serverCache,a=cb(t,s.getNode(),s.isFullyInitialized()||Gy(n),s.isFiltered());return $b(e,a,n,r,Ub,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ub(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Dv(ub(t)))}}(t,a,l),{viewCache:a,changes:l}}function $b(e,t,n,r,i,s){const a=t.eventCache;if(null!=Mb(r,n))return t;{let o,l;if(Gy(n))if(Me(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=db(t),i=Ob(r,n instanceof Iv?n:Iv.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Ab(r,db(t));o=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=zy(n);if(".priority"===c){Me(1===$y(n),"Can't have a priority with additional path components");const i=a.getNode();l=t.serverCache.getNode();const s=Pb(r,n,i,l);o=null!=s?e.filter.updatePriority(i,s):a.getNode()}else{const u=Hy(n);let d;if(a.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Pb(r,n,a.getNode(),l);d=null!=e?a.getNode().getImmediateChild(c).updateChild(u,e):a.getNode().getImmediateChild(c)}else d=Rb(r,c,t.serverCache);o=null!=d?e.filter.updateChild(a.getNode(),c,d,u,i,s):a.getNode()}}return lb(t,o,a.isFullyInitialized()||Gy(n),e.filter.filtersNodes())}}function Hb(e,t,n,r,i,s,a,o){const l=t.serverCache;let c;const u=a?e.filter:e.filter.getIndexedFilter();if(Gy(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=zy(n);if(!l.isCompleteForPath(n)&&$y(n)>1)return t;const i=Hy(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,Ub,null)}const d=cb(t,c,l.isFullyInitialized()||Gy(n),u.filtersNodes());return $b(e,d,n,i,new Vb(i,d,s),o)}function qb(e,t,n,r,i,s,a){const o=t.eventCache;let l,c;const u=new Vb(i,t,s);if(Gy(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=lb(t,c,!0,e.filter.filtersNodes());else{const i=zy(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=lb(t,c,o.isFullyInitialized(),o.isFiltered());else{const s=Hy(n),c=o.getNode().getImmediateChild(i);let d;if(Gy(s))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===qy(s)&&e.getChild(Yy(s)).isEmpty()?e:e.updateChild(s,r):Iv.EMPTY_NODE}if(c.equals(d))l=t;else{l=lb(t,e.filter.updateChild(o.getNode(),i,d,s,u,a),o.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Wb(e,t){return e.eventCache.isCompleteForChild(t)}function Yb(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Kb(e,t,n,r,i,s,a,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Gy(n)?r:new fb(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=Yb(0,t.serverCache.getNode().getImmediateChild(n),r);c=Hb(e,c,new Uy(n),l,i,s,a,o)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Yb(0,t.serverCache.getNode().getImmediateChild(n),r);c=Hb(e,c,new Uy(n),l,i,s,a,o)}})),c}class Gb{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Bv(n.getIndex()),i=(s=n).loadsAllData()?new Bv(s.getIndex()):s.hasLimit()?new Vv(s):new Uv(s);var s;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,o=t.eventCache,l=r.updateFullNode(Iv.EMPTY_NODE,a.getNode(),null),c=i.updateFullNode(Iv.EMPTY_NODE,o.getNode(),null),u=new ib(l,a.isFullyInitialized(),r.filtersNodes()),d=new ib(c,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=ob(d,u),this.eventGenerator_=new sb(this.query_)}get query(){return this.query_}}function Xb(e,t){const n=db(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Gy(t)&&!n.getImmediateChild(zy(t)).isEmpty())?n.getChild(t):null}function Qb(e){return 0===e.eventRegistrations_.length}function Zb(e,t,n){const r=[];if(n){Me(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Jb(e,t,n,r){t.type===Zv.MERGE&&null!==t.source.queryId&&(Me(db(e.viewCache_),"We should always have a full cache before handling merges"),Me(ub(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=zb(e.processor_,i,t,n,r);var a,o;return a=e.processor_,o=s.viewCache,Me(o.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),Me(o.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),Me(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,ex(e,s.changes,s.viewCache.eventCache.getNode(),null)}function ex(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ab(e,i,"child_removed",t,r,n),ab(e,i,"child_added",t,r,n),ab(e,i,"child_moved",s,r,n),ab(e,i,"child_changed",t,r,n),ab(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let tx,nx;class rx{constructor(){this.views=new Map}}function ix(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return Me(null!=s,"SyncTree gave us an op for an invalid query."),Jb(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(Jb(s,t,n,r));return i}}function sx(e,t,n,r,i){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let e=Ab(n,i?r:null),s=!1;e?s=!0:r instanceof Iv?(e=Ob(n,r),s=!1):(e=Iv.EMPTY_NODE,s=!1);const a=ob(new ib(e,s,!1),new ib(r,i,!1));return new Gb(t,a)}return a}function ax(e,t,n,r,i,s){const a=sx(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(_v,((e,t)=>{r.push(Rv(e,t))}));return n.isFullyInitialized()&&r.push(Dv(n.getNode())),ex(e,r,n.getNode(),t)}(a,n)}function ox(e,t,n,r){const i=t._queryIdentifier,s=[];let a=[];const o=hx(e);if("default"===i)for(const[l,c]of e.views.entries())a=a.concat(Zb(c,n,r)),Qb(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(a=a.concat(Zb(t,n,r)),Qb(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return o&&!hx(e)&&s.push(new(Me(tx,"Reference.ts has not been loaded"),tx)(t._repo,t._path)),{removed:s,events:a}}function lx(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function cx(e,t){let n=null;for(const r of e.views.values())n=n||Xb(r,t);return n}function ux(e,t){if(t._queryParams.loadsAllData())return fx(e);{const n=t._queryIdentifier;return e.views.get(n)}}function dx(e,t){return null!=ux(e,t)}function hx(e){return null!=fx(e)}function fx(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let px=1;class mx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new fb(null),this.pendingWriteTree_={visibleWrites:pb.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gx(e,t,n,r,i){return function(e,t,n,r,i){Me(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=mb(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?jx(e,new nb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function yx(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Nb(e.pendingWriteTree_,t)){let t=new fb(null);return null!=r.snap?t=t.set(Vy(),!0):cy(r.children,(e=>{t=t.set(new Uy(e),!0)})),jx(e,new eb(r.path,t,n))}return[]}function vx(e,t,n){return jx(e,new nb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function bx(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,a=e.syncPointTree_.get(s);let o=[];if(a&&("default"===t._queryIdentifier||dx(a,t))){const l=ox(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(s,((e,t)=>hx(t)));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&hx(t)){return[fx(t)]}{let e=[];return t&&(e=lx(t)),cy(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=Nx(e,r);e.listenProvider_.startListening(Ox(i),kx(e,i),s.hashFn,s.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Ox(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Cx(t));e.listenProvider_.stopListening(Ox(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Cx(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return o}function xx(e,t,n,r){const i=Tx(e,r);if(null!=i){const r=Ix(i),s=r.path,a=r.queryId,o=Xy(s,t);return Ax(e,s,new nb(Jv(a),o,n))}return[]}function wx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=Xy(e,i);s=s||cx(t,n),a=a||hx(t)}));let o,l=e.syncPointTree_.get(i);if(l?(a=a||hx(l),s=s||cx(l,Vy())):(l=new rx,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=s)o=!0;else{o=!1,s=Iv.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=cx(t,Vy());n&&(s=s.updateImmediateChild(e,n))}))}const c=dx(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Cx(t);Me(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=px++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=ax(l,t,n,Eb(e.pendingWriteTree_,i),s,o);if(!c&&!a&&!r){const n=ux(l,t);u=u.concat(function(e,t,n){const r=t._path,i=kx(e,t),s=Nx(e,n),a=e.listenProvider_.startListening(Ox(t),i,s.hashFn,s.onComplete),o=e.syncPointTree_.subtree(r);if(i)Me(!hx(o.value),"If we're adding a query, it shouldn't be shadowed");else{const t=o.fold(((e,t,n)=>{if(!Gy(e)&&t&&hx(t))return[fx(t).query];{let e=[];return t&&(e=e.concat(lx(t).map((e=>e.query)))),cy(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Ox(r),kx(e,r))}}return a}(e,t,n))}return u}function _x(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=cx(n,Xy(e,t));if(r)return r}));return Ib(r,t,i,n,!0)}function jx(e,t){return Sx(t,e.syncPointTree_,null,Eb(e.pendingWriteTree_,Vy()))}function Sx(e,t,n,r){if(Gy(e.path))return Ex(e,t,n,r);{const i=t.get(Vy());null==n&&null!=i&&(n=cx(i,Vy()));let s=[];const a=zy(e.path),o=e.operationForChild(a),l=t.children.get(a);if(l&&o){const e=n?n.getImmediateChild(a):null,t=Lb(r,a);s=s.concat(Sx(o,l,e,t))}return i&&(s=s.concat(ix(i,e,r,n))),s}}function Ex(e,t,n,r){const i=t.get(Vy());null==n&&null!=i&&(n=cx(i,Vy()));let s=[];return t.children.inorderTraversal(((t,i)=>{const a=n?n.getImmediateChild(t):null,o=Lb(r,t),l=e.operationForChild(t);l&&(s=s.concat(Ex(l,i,a,o)))})),i&&(s=s.concat(ix(i,e,r,n))),s}function Nx(e,t){const n=t.query,r=kx(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Iv.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Tx(e,n);if(r){const n=Ix(r),i=n.path,s=n.queryId,a=Xy(i,t);return Ax(e,i,new tb(Jv(s),a))}return[]}(e,n._path,r):function(e,t){return jx(e,new tb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return bx(e,n,null,r)}}}}function kx(e,t){const n=Cx(t);return e.queryToTagMap.get(n)}function Cx(e){return e._path.toString()+"$"+e._queryIdentifier}function Tx(e,t){return e.tagToQueryMap.get(t)}function Ix(e){const t=e.indexOf("$");return Me(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Uy(e.substr(0,t))}}function Ax(e,t,n){const r=e.syncPointTree_.get(t);Me(r,"Missing sync point for query tag that we're tracking");return ix(r,n,Eb(e.pendingWriteTree_,t),null)}function Ox(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Me(nx,"Reference.ts has not been loaded"),nx)(e._repo,e._path):e}class Px{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Px(t)}node(){return this.node_}}class Mx{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ky(this.path_,e);return new Mx(this.syncTree_,t)}node(){return _x(this.syncTree_,this.path_)}}const Dx=function(e,t,n){return e&&"object"===typeof e?(Me(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Rx(e[".sv"],t,n):"object"===typeof e[".sv"]?Lx(e[".sv"],t):void Me(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Rx=function(e,t,n){if("timestamp"===e)return n.timestamp;Me(!1,"Unexpected server value: "+e)},Lx=function(e,t,n){e.hasOwnProperty("increment")||Me(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Me(!1,"Unexpected increment value: "+r);const i=t.node();if(Me(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},Fx=function(e,t,n,r){return Ux(t,new Mx(n,e),r)},Bx=function(e,t,n){return Ux(e,new Px(t),n)};function Ux(e,t,n){const r=e.getPriority().val(),i=Dx(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Dx(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new wv(s,Ov(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new wv(i))),r.forEachChild(_v,((e,r)=>{const i=Ux(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class Vx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function zx(e,t){let n=t instanceof Uy?t:new Uy(t),r=e,i=zy(n);for(;null!==i;){const e=ft(r.node.children,i)||{children:{},childCount:0};r=new Vx(i,r,e),n=Hy(n),i=zy(n)}return r}function $x(e){return e.node.value}function Hx(e,t){e.node.value=t,Gx(e)}function qx(e){return e.node.childCount>0}function Wx(e,t){cy(e.node.children,((n,r)=>{t(new Vx(n,e,r))}))}function Yx(e,t,n,r){n&&!r&&t(e),Wx(e,(e=>{Yx(e,t,!0,r)})),n&&r&&t(e)}function Kx(e){return new Uy(null===e.parent?e.name:Kx(e.parent)+"/"+e.name)}function Gx(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===$x(e)&&!qx(e)}(n),i=ht(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Gx(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Gx(e))}(e.parent,e.name,e)}const Xx=/[\[\].#$\/\u0000-\u001F\u007F]/,Qx=/[\[\].#$\u0000-\u001F\u007F]/,Zx=10485760,Jx=function(e){return"string"===typeof e&&0!==e.length&&!Xx.test(e)},ew=function(e){return"string"===typeof e&&0!==e.length&&!Qx.test(e)},tw=function(e,t,n,r){r&&void 0===t||nw(St(e,"value"),t,n)},nw=function(e,t,n){const r=n instanceof Uy?new Jy(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+tv(r));if("function"===typeof t)throw new Error(e+"contains a function "+tv(r)+" with contents = "+t.toString());if(ty(t))throw new Error(e+"contains "+t.toString()+" "+tv(r));if("string"===typeof t&&t.length>Zx/3&&Et(t)>Zx)throw new Error(e+"contains a string greater than "+Zx+" utf8 bytes "+tv(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(cy(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Jx(t)))throw new Error(e+" contains an invalid key ("+t+") "+tv(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Et(t),ev(e)}(r,t),nw(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=Et(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+tv(r)+" in addition to actual children.")}},rw=function(e,t,n,r){if((!r||void 0!==n)&&!ew(n))throw new Error(St(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},iw=function(e,t){if(".info"===zy(t))throw new Error(e+" failed = Can't modify data under /.info/")},sw=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Jx(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ew(e)}(n))throw new Error(St(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class aw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ow(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Qy(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function lw(e,t,n){ow(e,n),uw(e,(e=>Qy(e,t)))}function cw(e,t,n){ow(e,n),uw(e,(e=>Zy(e,t)||Zy(t,e)))}function uw(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(dw(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function dw(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Yg&&Xg("event: "+n.toString()),fy(r)}}}const hw="repo_interrupt";class fw{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yv(),this.transactionQueueTree_=new Vx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pw(e,t,n){if(e.stats_=Cy(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new qv(e.repoInfo_,((t,n,r,i)=>{yw(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>vw(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ut(n)}catch(v6){throw new Error("Invalid authOverride provided: "+v6)}}e.persistentConnection_=new iv(e.repoInfo_,t,((t,n,r,i)=>{yw(e,t,n,r,i)}),(t=>{vw(e,t)}),(t=>{!function(e,t){cy(t,((t,n)=>{bw(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return ky[n]||(ky[n]=t()),ky[n]}(e.repoInfo_,(()=>new Qv(e.stats_,e.server_))),e.infoData_=new Wv,e.infoSyncTree_=new mx({startListening:(t,n,r,i)=>{let s=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(s=vx(e.infoSyncTree_,t._path,a),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),bw(e,"connected",!1),e.serverSyncTree_=new mx({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);cw(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function mw(e){const t=e.infoData_.getNode(new Uy(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function gw(e){return(t=(t={timestamp:mw(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function yw(e,t,n,r,i){e.dataUpdateCount++;const s=new Uy(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=mt(n,(e=>Ov(e)));a=function(e,t,n,r){const i=Tx(e,r);if(i){const r=Ix(i),s=r.path,a=r.queryId,o=Xy(s,t),l=fb.fromObject(n);return Ax(e,s,new rb(Jv(a),o,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Ov(n);a=xx(e.serverSyncTree_,s,t,i)}else if(r){const t=mt(n,(e=>Ov(e)));a=function(e,t,n){const r=fb.fromObject(n);return jx(e,new rb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Ov(n);a=vx(e.serverSyncTree_,s,t)}let o=s;a.length>0&&(o=Cw(e,s)),cw(e.eventQueue_,o,a)}function vw(e,t){bw(e,"connected",t),!1===t&&function(e){Sw(e,"onDisconnectEvents");const t=gw(e),n=Yv();Gv(e.onDisconnect_,Vy(),((r,i)=>{const s=Fx(r,i,e.serverSyncTree_,t);Kv(n,r,s)}));let r=[];Gv(n,Vy(),((t,n)=>{r=r.concat(vx(e.serverSyncTree_,t,n));const i=Pw(e,t);Cw(e,i)})),e.onDisconnect_=Yv(),cw(e.eventQueue_,Vy(),r)}(e)}function bw(e,t,n){const r=new Uy("/.info/"+t),i=Ov(n);e.infoData_.updateSnapshot(r,i);const s=vx(e.infoSyncTree_,r,i);cw(e.eventQueue_,r,s)}function xw(e){return e.nextWriteId_++}function ww(e,t,n,r,i){Sw(e,"set",{path:t.toString(),value:n,priority:r});const s=gw(e),a=Ov(n,r),o=_x(e.serverSyncTree_,t),l=Bx(a,o,s),c=xw(e),u=gx(e.serverSyncTree_,t,l,c,!0);ow(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const s="ok"===n;s||ey("set at "+t+" failed: "+n);const a=yx(e.serverSyncTree_,c,!s);cw(e.eventQueue_,t,a),Ew(e,i,n,r)}));const d=Pw(e,t);Cw(e,d),cw(e.eventQueue_,d,[])}function _w(e,t,n){let r;r=".info"===zy(t._path)?bx(e.infoSyncTree_,t,n):bx(e.serverSyncTree_,t,n),lw(e.eventQueue_,t._path,r)}function jw(e){e.persistentConnection_&&e.persistentConnection_.interrupt(hw)}function Sw(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Xg(t,...r)}function Ew(e,t,n,r){t&&fy((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}}))}function Nw(e,t,n){return _x(e.serverSyncTree_,t,n)||Iv.EMPTY_NODE}function kw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ow(e,t),$x(t)){const n=Iw(e,t);Me(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Nw(e,t,r);let s=i;const a=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Me(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Xy(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const o=s.val(!0),l=t;e.server_.put(l.toString(),o,(r=>{Sw(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(yx(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Ow(e,zx(e.transactionQueueTree_,t)),kw(e,e.transactionQueueTree_),cw(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)fy(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{ey("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Cw(e,t)}}),a)}(e,Kx(t),n)}else qx(t)&&Wx(t,(t=>{kw(e,t)}))}function Cw(e,t){const n=Tw(e,t),r=Kx(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),a=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],c=Xy(n,s.path);let u,d=!1;if(Me(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)d=!0,u=s.abortReason,i=i.concat(yx(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)d=!0,u="maxretry",i=i.concat(yx(e.serverSyncTree_,s.currentWriteId,!0));else{const n=Nw(e,s.path,a);s.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){nw("transaction failed: Data returned ",r,s.path);let t=Ov(r);"object"===typeof r&&null!=r&&ht(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=s.currentWriteId,l=gw(e),c=Bx(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=xw(e),a.splice(a.indexOf(o),1),i=i.concat(gx(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(yx(e.serverSyncTree_,o,!0))}else d=!0,u="nodata",i=i.concat(yx(e.serverSyncTree_,s.currentWriteId,!0))}cw(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,o=t[l].unwatcher,setTimeout(o,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var o;Ow(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)fy(r[l]);kw(e,e.transactionQueueTree_)}(e,Iw(e,n),r),r}function Tw(e,t){let n,r=e.transactionQueueTree_;for(n=zy(t);null!==n&&void 0===$x(r);)r=zx(r,n),n=zy(t=Hy(t));return r}function Iw(e,t){const n=[];return Aw(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Aw(e,t,n){const r=$x(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Wx(t,(t=>{Aw(e,t,n)}))}function Ow(e,t){const n=$x(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Hx(t,n.length>0?n:void 0)}Wx(t,(t=>{Ow(e,t)}))}function Pw(e,t){const n=Kx(Tw(e,t)),r=zx(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Mw(e,t)})),Mw(e,r),Yx(r,(t=>{Mw(e,t)})),n}function Mw(e,t){const n=$x(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Me(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Me(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(yx(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Hx(t,void 0):n.length=s+1,cw(e.eventQueue_,Kx(t),i);for(let e=0;e<r.length;e++)fy(r[e])}}const Dw=function(e,t){const n=Rw(e),r=n.namespace;"firebase.com"===n.domain&&Jg(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Jg("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ey("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new jy(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Uy(n.pathString)}},Rw=function(e){let t="",n="",r="",i="",s="",a=!0,o="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(o=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(v6){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ey(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(a="https"===o||"wss"===o,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}},Lw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Fw{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ut(this.snapshot.exportVal())}}class Bw{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Uw{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Me(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Vw{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Gy(this._path)?null:qy(this._path)}get ref(){return new zw(this._repo,this._path)}get _queryIdentifier(){const e=Hv(this._queryParams),t=oy(e);return"{}"===t?"default":t}get _queryObject(){return Hv(this._queryParams)}isEqual(e){if(!((e=kt(e))instanceof Vw))return!1;const t=this._repo===e._repo,n=Qy(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class zw extends Vw{constructor(e,t){super(e,t,new zv,!1)}get parent(){const e=Yy(this._path);return null===e?null:new zw(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class $w{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Uy(e),n=qw(this.ref,e);return new $w(this._node.getChild(t),n,_v)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new $w(n,qw(this.ref,t),_v))))}hasChild(e){const t=new Uy(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Hw(e,t){return(e=kt(e))._checkNotDeleted("ref"),void 0!==t?qw(e._root,t):e._root}function qw(e,t){var n,r,i,s;return null===zy((e=kt(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),rw(n,r,i,s)):rw("child","path",t,!1),new zw(e._repo,Ky(e._path,t))}function Ww(e,t){e=kt(e),iw("set",e._path),tw("set",t,e._path,!1);const n=new Xe;return ww(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}class Yw{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Fw("value",this,new $w(e.snapshotNode,new zw(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Bw(this,e,t):null}matches(e){return e instanceof Yw&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Kw{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Bw(this,e,t):null}createEvent(e,t){Me(null!=e.childName,"Child events should have a childName.");const n=qw(new zw(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Fw(e.type,this,new $w(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Kw&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Gw(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{_w(e._repo,e,o),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new Uw(n,s||void 0),o="value"===t?new Yw(a):new Kw(t,a);return function(e,t,n){let r;r=".info"===zy(t._path)?wx(e.infoSyncTree_,t,n):wx(e.serverSyncTree_,t,n),lw(e.eventQueue_,t._path,r)}(e._repo,e,o),()=>_w(e._repo,e,o)}function Xw(e,t,n,r){return Gw(e,"value",t,n,r)}function Qw(e,t,n){let r=null;const i=n?new Uw(n):null;"value"===t?r=new Yw(i):t&&(r=new Kw(t,i)),_w(e._repo,e,r)}!function(e){Me(!tx,"__referenceConstructor has already been defined"),tx=e}(zw),function(e){Me(!nx,"__referenceConstructor has already been defined"),nx=e}(zw);const Zw={};let Jw=!1;function e_(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Jg("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xg("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,o,l=Dw(s,i),c=l.repoInfo;"undefined"!==typeof process&&(o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API:"AIzaSyDQIMqO4bJ-k4-pjjGnHGwCbCYUFUQe7Hw",REACT_APP_FIREBASE_APP_ID:"1:300630412358:web:44afc1a224507ccb764e47",REACT_APP_FIREBASE_DATABASE_URL:"https://smartecolock-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_DOMAIN:"smartecolock.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-PNBNJ39FE0",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"300630412358",REACT_APP_FIREBASE_PROJECT_ID:"smartecolock",REACT_APP_FIREBASE_STORAGE_BUCKET:"smartecolock.appspot.com",REACT_APP_GEMINI_API:"AIzaSyBYLXhvqwNsxNzMAMcxBlnAulcFOhNQhEk"}.FIREBASE_DATABASE_EMULATOR_HOST),o?(a=!0,s=`http://${o}?ns=${c.namespace}`,l=Dw(s,i),c=l.repoInfo):a=!l.repoInfo.secure;const u=i&&a?new yy(yy.OWNER):new gy(e.name,e.options,t);sw("Invalid Firebase Database URL",l),Gy(l.path)||Jg("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=Zw[t.name];i||(i={},Zw[t.name]=i);let s=i[e.toURLString()];s&&Jg("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new fw(e,Jw,n,r),i[e.toURLString()]=s,s}(c,e,u,new my(e.name,n));return new t_(d,e)}class t_{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zw(this._repo,Vy())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Zw[t];n&&n[e.key]===e||Jg(`Database ${t}(${e.repoInfo_}) has already been deleted.`),jw(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Jg("Cannot call "+e+" on a deleted database.")}}function n_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn(),t=arguments.length>1?arguments[1]:void 0;const n=Un(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Ye("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=kt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Jg("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Jg('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new yy(yy.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Qe(r.mockUserToken,e.app.options.projectId);s=new yy(t)}!function(e,t,n,r){e.repoInfo_=new jy(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(n,...e)}return n}iv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},iv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Lg(Hn),Bn(new Ct("database",((e,t)=>{let{instanceIdentifier:n}=t;return e_(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Yn(Mg,Dg,e),Yn(Mg,Dg,"esm2017")}();const r_=qn({apiKey:"AIzaSyDQIMqO4bJ-k4-pjjGnHGwCbCYUFUQe7Hw",authDomain:"smartecolock.firebaseapp.com",projectId:"smartecolock",storageBucket:"smartecolock.firebasestorage.app",messagingSenderId:"300630412358",appId:"1:300630412358:web:44afc1a224507ccb764e47",measurementId:"G-PNBNJ39FE0",databaseURL:"https://smartecolock-default-rtdb.asia-southeast1.firebasedatabase.app"}),i_=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();e=kt(e);const t=Un(e,uo);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Un(e,uo);if(n.isInitialized()){const e=n.getImmediate();if(gt(t,n.getOptions()))return e;throw po.create("already-initialized")}const r=n.initialize({options:t})}(e)}(r_),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();const t=Un(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Un(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(gt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ur(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:pa,persistence:[Ns,cs,ds]}),r=Ge("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>va)return;const r=null===t||void 0===t?void 0:t.token;ba!==r&&(ba=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){kt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){kt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=We("auth");return s&&Ei(n,`http://${s}`),n}(r_)),s_=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Un("object"==typeof e?e:Wn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ye("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=fm(e,gm))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=il.MOCK_USER;else{t=Qe(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new gl(ml.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new il(s)}e._authCredentials=new xl(new vl(t,n))}}(r,...e)}return r}(r_),a_=n_(r_);var o_=n(579);const l_=(0,r.createContext)(null),c_=()=>{const e=(0,r.useContext)(l_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},u_=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),o=te(),l=J(),c=async e=>{try{var t;const n=localStorage.getItem("userData"),r=localStorage.getItem("userRole");if(n&&r){const t=JSON.parse(n);return{...e,role:r,fullName:t.fullName,department:t.department,idNumber:t.idNumber}}const i=ag(xm(s_,"users"),lg("idNumber","==",null===(t=e.email)||void 0===t?void 0:t.split("@")[0]),lg("role","==","admin")),s=await Ng(i);if(!s.empty){const t=s.docs[0].data(),n={...e,role:"admin",fullName:t.fullName,department:t.department,idNumber:t.idNumber};return localStorage.setItem("userRole","admin"),localStorage.setItem("userData",JSON.stringify({fullName:t.fullName,department:t.department,idNumber:t.idNumber})),n}const a=await Sg(wm(s_,"teachers",e.uid));if(a.exists()){const t=a.data(),n={...e,role:"instructor",fullName:t.fullName,department:t.department};return localStorage.setItem("userRole","instructor"),localStorage.setItem("userData",JSON.stringify({fullName:t.fullName,department:t.department})),n}const o=await Sg(wm(s_,"students",e.uid));if(o.exists()){const t=o.data(),n={...e,role:"student",fullName:t.fullName,department:t.department};return localStorage.setItem("userRole","student"),localStorage.setItem("userData",JSON.stringify({fullName:t.fullName,department:t.department})),n}return e}catch(Zg){return console.error("Error fetching user data:",Zg),e}};(0,r.useEffect)((()=>{const e=function(e,t,n,r){return kt(e).onAuthStateChanged(t,n,r)}(i_,(async e=>{try{if(e){const t=await c(e);i(t),(e=>{if(!e||!e.role)return;const t=["/","/login","/admin/login","/register"],n=l.pathname;if(n.includes(`/${e.role}/`))return;if(!e&&t.includes(n))return;const r={admin:"/admin/dashboard",instructor:"/instructor/dashboard",student:"/student/dashboard"};(t.includes(n)||n.includes("/admin/")&&"admin"!==e.role||n.includes("/instructor/")&&"instructor"!==e.role||n.includes("/student/")&&"student"!==e.role)&&o(r[e.role],{replace:!0})})(t)}else{i(null),localStorage.removeItem("userRole"),localStorage.removeItem("userData");const e=l.pathname;(e.includes("/admin/")||e.includes("/instructor/")||e.includes("/student/"))&&o("/login",{replace:!0})}}catch(Zg){console.error("Auth state change error:",Zg)}finally{a(!1)}}));return()=>e()}),[o,l]);const u={currentUser:n,login:async(e,t)=>{try{a(!0);const n=e.includes("@")?e:`${e}@yourdomain.com`,{user:r}=await is(i_,n,t),s=await c(r);return i(s),Promise.resolve()}catch(Zg){return console.error("Login error:",Zg),Promise.reject(Zg)}finally{a(!1)}},register:async(e,t,n)=>{const{user:r}=await rs(i_,e,t);await kg(wm(s_,"users",r.uid),{...n,createdAt:(new Date).toISOString()})},logout:async()=>{try{await ss(i_),localStorage.removeItem("userRole"),localStorage.removeItem("userData"),o("/login",{replace:!0})}catch(Zg){throw console.error("Logout error:",Zg),Zg}},loading:s,setUser:async e=>{try{const t={...i_.currentUser,...e,role:"admin"};return i(t),localStorage.setItem("userRole","admin"),localStorage.setItem("userData",JSON.stringify({fullName:e.fullName,idNumber:e.idNumber,email:e.email})),o("/admin/dashboard",{replace:!0}),Promise.resolve()}catch(Zg){return console.error("Set user error:",Zg),Promise.reject(Zg)}}};return(0,o_.jsx)(l_.Provider,{value:u,children:s?(0,o_.jsx)("div",{children:"Loading..."}):t})},d_=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),h_=(0,r.createContext)({}),f_=(0,r.createContext)(null),p_="undefined"!==typeof document,m_=p_?r.useLayoutEffect:r.useEffect,g_=(0,r.createContext)({strict:!1}),y_=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),v_="data-"+y_("framerAppearId");function b_(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function x_(e){return"string"===typeof e||Array.isArray(e)}function w_(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const __=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],j_=["initial",...__];function S_(e){return w_(e.animate)||j_.some((t=>x_(e[t])))}function E_(e){return Boolean(S_(e)||e.variants)}function N_(e){const{initial:t,animate:n}=function(e,t){if(S_(e)){const{initial:t,animate:n}=e;return{initial:!1===t||x_(t)?t:void 0,animate:x_(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(h_));return(0,r.useMemo)((()=>({initial:t,animate:n})),[k_(t),k_(n)])}function k_(e){return Array.isArray(e)?e.join(" "):e}const C_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},T_={};for(const n in C_)T_[n]={isEnabled:e=>C_[n].some((t=>!!e[t]))};const I_=(0,r.createContext)({}),A_=(0,r.createContext)({}),O_=Symbol.for("motionComponentSymbol");function P_(e){let{preloadedFeatures:t,createVisualElement:n,useRender:i,useVisualState:s,Component:a}=e;t&&function(e){for(const t in e)T_[t]={...T_[t],...e[t]}}(t);const o=(0,r.forwardRef)((function(e,o){let l;const c={...(0,r.useContext)(d_),...e,layoutId:M_(e)},{isStatic:u}=c,d=N_(e),h=s(e,u);if(!u&&p_){d.visualElement=function(e,t,n,i){const{visualElement:s}=(0,r.useContext)(h_),a=(0,r.useContext)(g_),o=(0,r.useContext)(f_),l=(0,r.useContext)(d_).reducedMotion,c=(0,r.useRef)();i=i||a.renderer,!c.current&&i&&(c.current=i(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current;(0,r.useInsertionEffect)((()=>{u&&u.update(n,o)}));const d=(0,r.useRef)(Boolean(n[v_]&&!window.HandoffComplete));return m_((()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())})),(0,r.useEffect)((()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))})),u}(a,h,c,n);const e=(0,r.useContext)(A_),i=(0,r.useContext)(g_).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,i,t,e))}return r.createElement(h_.Provider,{value:d},l&&d.visualElement?r.createElement(l,{visualElement:d.visualElement,...c}):null,i(a,e,function(e,t,n){return(0,r.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):b_(n)&&(n.current=r))}),[t])}(h,d.visualElement,o),h,u,d.visualElement))}));return o[O_]=a,o}function M_(e){let{layoutId:t}=e;const n=(0,r.useContext)(I_).id;return n&&void 0!==t?n+"-"+t:t}function D_(e){function t(t){return P_(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const R_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function L_(e){return"string"===typeof e&&!e.includes("-")&&!!(R_.indexOf(e)>-1||/[A-Z]/.test(e))}const F_={};const B_=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],U_=new Set(B_);function V_(e,t){let{layout:n,layoutId:r}=t;return U_.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!F_[e]||"opacity"===e)}const z_=e=>Boolean(e&&e.getVelocity),$_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H_=B_.length;const q_=e=>t=>"string"===typeof t&&t.startsWith(e),W_=q_("--"),Y_=q_("var(--"),K_=(e,t)=>t&&"number"===typeof e?t.transform(e):e,G_=(e,t,n)=>Math.min(Math.max(n,e),t),X_={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Q_={...X_,transform:e=>G_(0,1,e)},Z_={...X_,default:1},J_=e=>Math.round(1e5*e)/1e5,ej=/(-)?([\d]*\.?[\d])+/g,tj=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nj=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function rj(e){return"string"===typeof e}const ij=e=>({test:t=>rj(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),sj=ij("deg"),aj=ij("%"),oj=ij("px"),lj=ij("vh"),cj=ij("vw"),uj={...aj,parse:e=>aj.parse(e)/100,transform:e=>aj.transform(100*e)},dj={...X_,transform:Math.round},hj={borderWidth:oj,borderTopWidth:oj,borderRightWidth:oj,borderBottomWidth:oj,borderLeftWidth:oj,borderRadius:oj,radius:oj,borderTopLeftRadius:oj,borderTopRightRadius:oj,borderBottomRightRadius:oj,borderBottomLeftRadius:oj,width:oj,maxWidth:oj,height:oj,maxHeight:oj,size:oj,top:oj,right:oj,bottom:oj,left:oj,padding:oj,paddingTop:oj,paddingRight:oj,paddingBottom:oj,paddingLeft:oj,margin:oj,marginTop:oj,marginRight:oj,marginBottom:oj,marginLeft:oj,rotate:sj,rotateX:sj,rotateY:sj,rotateZ:sj,scale:Z_,scaleX:Z_,scaleY:Z_,scaleZ:Z_,skew:sj,skewX:sj,skewY:sj,distance:oj,translateX:oj,translateY:oj,translateZ:oj,x:oj,y:oj,z:oj,perspective:oj,transformPerspective:oj,opacity:Q_,originX:uj,originY:uj,originZ:oj,zIndex:dj,fillOpacity:Q_,strokeOpacity:Q_,numOctaves:dj};function fj(e,t,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(W_(d)){s[d]=e;continue}const n=hj[d],r=K_(e,n);if(U_.has(d)){if(l=!0,a[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,o[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,a="";for(let o=0;o<H_;o++){const t=B_[o];void 0!==e[t]&&(a+=`${$_[t]||t}(${e[t]}) `)}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):s&&n&&(a="none"),a}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;i.transformOrigin=`${e} ${t} ${n}`}}const pj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mj(e,t,n){for(const r in t)z_(t[r])||V_(r,n)||(e[r]=t[r])}function gj(e,t,n){const i={};return mj(i,e.style||{},e),Object.assign(i,function(e,t,n){let{transformTemplate:i}=e;return(0,r.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return fj(e,t,{enableHardwareAcceleration:!n},i),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(i):i}function yj(e,t,n){const r={},i=gj(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const vj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bj(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vj.has(e)}let xj=e=>!bj(e);try{(wj=require("@emotion/is-prop-valid").default)&&(xj=e=>e.startsWith("on")?!bj(e):wj(e))}catch(_8){}var wj;function _j(e,t,n){return"string"===typeof e?e:oj.transform(t+n*e)}const jj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sj={offset:"strokeDashoffset",array:"strokeDasharray"};function Ej(e,t,n,r,i){let{attrX:s,attrY:a,attrScale:o,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0,...f}=t;if(fj(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){return`${_j(t,e.x,e.width)} ${_j(n,e.y,e.height)}`}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(p.x=s),void 0!==a&&(p.y=a),void 0!==o&&(p.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?jj:Sj;e[s.offset]=oj.transform(-r);const a=oj.transform(t),o=oj.transform(n);e[s.array]=`${a} ${o}`}(p,u,d,h,!1)}const Nj=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),kj=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Cj(e,t,n,i){const s=(0,r.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Ej(n,t,{enableHardwareAcceleration:!1},kj(i),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};mj(t,e.style,e),s.style={...t,...s.style}}return s}function Tj(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,i,s,a)=>{let{latestValues:o}=s;const l=(L_(t)?Cj:yj)(n,o,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(xj(i)||!0===n&&bj(i)||!t&&!bj(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u={...c,...l,ref:i},{children:d}=n,h=(0,r.useMemo)((()=>z_(d)?d.get():d),[d]);return(0,r.createElement)(t,{...u,children:h})}}function Ij(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const Aj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Oj(e,t,n,r){Ij(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Aj.has(i)?i:y_(i),t.attrs[i])}function Pj(e,t){const{style:n}=e,r={};for(const i in n)(z_(n[i])||t.style&&z_(t.style[i])||V_(i,e))&&(r[i]=n[i]);return r}function Mj(e,t){const n=Pj(e,t);for(const r in e)if(z_(e[r])||z_(t[r])){n[-1!==B_.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Dj(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function Rj(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Lj=e=>Array.isArray(e),Fj=e=>Lj(e)?e[e.length-1]||0:e;function Bj(e){const t=z_(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Uj=e=>(t,n)=>{const i=(0,r.useContext)(h_),s=(0,r.useContext)(f_),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:a}=e;const o={latestValues:Vj(t,n,r,i),renderState:s()};return a&&(o.mount=e=>a(t,e,o)),o}(e,t,i,s);return n?a():Rj(a)};function Vj(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=Bj(s[h]);let{initial:a,animate:o}=e;const l=S_(e),c=E_(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!==typeof d&&!w_(d)){(Array.isArray(d)?d:[d]).forEach((t=>{const n=Dj(e,t);if(!n)return;const{transitionEnd:r,transition:s,...a}=n;for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const zj=e=>e;class $j{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Hj=["prepare","read","update","preRender","render","postRender"];const{schedule:qj,cancel:Wj,state:Yj,steps:Kj}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Hj.reduce(((e,t)=>(e[t]=function(e){let t=new $j,n=new $j,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,o=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),o.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(o.schedule(r),e())}i=!1,s&&(s=!1,o.process(l))}}};return o}((()=>n=!0)),e)),{}),a=e=>s[e].process(i),o=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,Hj.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=Hj.reduce(((t,a)=>{const l=s[a];return t[a]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(o)),l.schedule(t,s,a)},t}),{});return{schedule:l,cancel:e=>Hj.forEach((t=>s[t].cancel(e))),state:i,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:zj,!0),Gj={useVisualState:Uj({scrapeMotionValuesFromProps:Mj,createRenderState:Nj,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;qj.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(v6){r.dimensions={x:0,y:0,width:0,height:0}}})),qj.render((()=>{Ej(r,i,{enableHardwareAcceleration:!1},kj(t.tagName),e.transformTemplate),Oj(t,r)}))}})},Xj={useVisualState:Uj({scrapeMotionValuesFromProps:Pj,createRenderState:pj})};function Qj(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Zj=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Jj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function eS(e,t,n,r){return Qj(e,t,(e=>t=>Zj(t)&&e(t,Jj(t)))(n),r)}const tS=(e,t)=>n=>t(e(n)),nS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(tS)};function rS(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const iS=rS("dragHorizontal"),sS=rS("dragVertical");function aS(e){let t=!1;if("y"===e)t=sS();else if("x"===e)t=iS();else{const e=iS(),n=sS();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function oS(){const e=aS(!0);return!e||(e(),!1)}class lS{constructor(e){this.isMounted=!1,this.node=e}update(){}}function cS(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return eS(e.current,n,((n,i)=>{if("touch"===n.pointerType||oS())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&qj.update((()=>s[r](n,i)))}),{passive:!e.getProps()[r]})}const uS=(e,t)=>!!t&&(e===t||uS(e,t.parentElement));function dS(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Jj(n))}const hS=new WeakMap,fS=new WeakMap,pS=e=>{const t=hS.get(e.target);t&&t(e)},mS=e=>{e.forEach(pS)};function gS(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;fS.has(r)||fS.set(r,{});const i=fS.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(mS,{root:t,...n})),i[s]}(t);return hS.set(e,n),r.observe(e),()=>{hS.delete(e),r.unobserve(e)}}const yS={some:0,all:1};const vS={inView:{Feature:class extends lS{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:yS[r]};return gS(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends lS{constructor(){super(...arguments),this.removeStartListeners=zj,this.removeEndListeners=zj,this.removeAccessibleListeners=zj,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=eS(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();qj.update((()=>{i||uS(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=eS(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=nS(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Qj(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Qj(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&dS("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&qj.update((()=>n(e,t)))}))})),dS("down",((e,t)=>{this.startPress(e,t)}))})),t=Qj(this.node.current,"blur",(()=>{this.isPressing&&dS("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=nS(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&qj.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!oS()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&qj.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=eS(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Qj(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=nS(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends lS{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(v6){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nS(Qj(this.node.current,"focus",(()=>this.onFocus())),Qj(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends lS{mount(){this.unmount=nS(cS(this.node,!0),cS(this.node,!1))}unmount(){}}}};function bS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function xS(e,t,n){const r=e.getProps();return Dj(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}let wS=zj,_S=zj;const jS=e=>1e3*e,SS=e=>e/1e3,ES=!1,NS=e=>Array.isArray(e)&&"number"===typeof e[0];function kS(e){return Boolean(!e||"string"===typeof e&&TS[e]||NS(e)||Array.isArray(e)&&e.every(kS))}const CS=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},TS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:CS([0,.65,.55,1]),circOut:CS([.55,0,1,.45]),backIn:CS([.31,.01,.66,-.59]),backOut:CS([.33,1.53,.69,.99])};function IS(e){if(e)return NS(e)?CS(e):Array.isArray(e)?e.map(IS):TS[e]}const AS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function OS(e,t,n,r){if(e===t&&n===r)return zj;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=AS(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:AS(i(e),t,r)}const PS=OS(.42,0,1,1),MS=OS(0,0,.58,1),DS=OS(.42,0,.58,1),RS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,LS=e=>t=>1-e(1-t),FS=e=>1-Math.sin(Math.acos(e)),BS=LS(FS),US=RS(FS),VS=OS(.33,1.53,.69,.99),zS=LS(VS),$S=RS(zS),HS={linear:zj,easeIn:PS,easeInOut:DS,easeOut:MS,circIn:FS,circInOut:US,circOut:BS,backIn:zS,backInOut:$S,backOut:VS,anticipate:e=>(e*=2)<1?.5*zS(e):.5*(2-Math.pow(2,-10*(e-1)))},qS=e=>{if(Array.isArray(e)){_S(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return OS(t,n,r,i)}return"string"===typeof e?(_S(void 0!==HS[e],`Invalid easing type '${e}'`),HS[e]):e},WS=(e,t)=>n=>Boolean(rj(n)&&nj.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),YS=(e,t,n)=>r=>{if(!rj(r))return r;const[i,s,a,o]=r.match(ej);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},KS={...X_,transform:e=>Math.round((e=>G_(0,255,e))(e))},GS={test:WS("rgb","red"),parse:YS("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+KS.transform(t)+", "+KS.transform(n)+", "+KS.transform(r)+", "+J_(Q_.transform(i))+")"}};const XS={test:WS("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:GS.transform},QS={test:WS("hsl","hue"),parse:YS("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+aj.transform(J_(n))+", "+aj.transform(J_(r))+", "+J_(Q_.transform(i))+")"}},ZS={test:e=>GS.test(e)||XS.test(e)||QS.test(e),parse:e=>GS.test(e)?GS.parse(e):QS.test(e)?QS.parse(e):XS.parse(e),transform:e=>rj(e)?e:e.hasOwnProperty("red")?GS.transform(e):QS.transform(e)},JS=(e,t,n)=>-n*e+n*t+e;function eE(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const tE=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},nE=[XS,GS,QS];function rE(e){const t=(e=>nE.find((t=>t.test(e))))(e);_S(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`);let n=t.parse(e);return t===QS&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=eE(i,e,t+1/3),a=eE(i,e,t),o=eE(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(n)),n}const iE=(e,t)=>{const n=rE(e),r=rE(t),i={...n};return e=>(i.red=tE(n.red,r.red,e),i.green=tE(n.green,r.green,e),i.blue=tE(n.blue,r.blue,e),i.alpha=JS(n.alpha,r.alpha,e),GS.transform(i))};const sE={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:zj},aE={regex:tj,countKey:"Colors",token:"${c}",parse:ZS.parse},oE={regex:ej,countKey:"Numbers",token:"${n}",parse:X_.parse};function lE(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(s)))}function cE(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&lE(n,sE),lE(n,aE),lE(n,oE),n}function uE(e){return cE(e).values}function dE(e){const{values:t,numColors:n,numVars:r,tokenised:i}=cE(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(sE.token,e[i]):i<r+n?t.replace(aE.token,ZS.transform(e[i])):t.replace(oE.token,J_(e[i]));return t}}const hE=e=>"number"===typeof e?0:e;const fE={test:function(e){var t,n;return isNaN(e)&&rj(e)&&((null===(t=e.match(ej))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(tj))||void 0===n?void 0:n.length)||0)>0},parse:uE,createTransformer:dE,getAnimatableNone:function(e){const t=uE(e);return dE(e)(t.map(hE))}},pE=(e,t)=>n=>`${n>0?t:e}`;function mE(e,t){return"number"===typeof e?n=>JS(e,t,n):ZS.test(e)?iE(e,t):e.startsWith("var(")?pE(e,t):vE(e,t)}const gE=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>mE(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},yE=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=mE(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},vE=(e,t)=>{const n=fE.createTransformer(t),r=cE(e),i=cE(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?nS(gE(r.values,i.values),n):(wS(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),pE(e,t))},bE=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},xE=(e,t)=>n=>JS(e,t,n);function wE(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?xE:"string"===typeof e?ZS.test(e)?iE:vE:Array.isArray(e)?gE:"object"===typeof e?yE:xE}(e[0]),s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||zj:t;n=nS(e,n)}r.push(n)}return r}function _E(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(_S(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=wE(t,r,i),o=a.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=bE(e[n],e[n+1],t);return a[n](r)};return n?t=>l(G_(e[0],e[s-1],t)):l}function jE(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=bE(0,t,r);e.push(JS(n,1,i))}}(t,e.length-1),t}function SE(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(qS):qS(i),a={done:!1,value:n[0]},o=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:jE(n),t),l=_E(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map((()=>u||DS)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function EE(e,t){return t?e*(1e3/t):0}function NE(e,t,n){const r=Math.max(t-5,0);return EE(n-e(r),t-r)}const kE=.001;function CE(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:a=1}=e;wS(r<=jS(10),"Spring duration must be 10 seconds or less");let o=1-i;o=G_(.05,1,o),r=G_(.01,10,SS(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=IE(e,o),l=Math.exp(-n);return kE-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=IE(Math.pow(e,2),o);return(-t(e)+kE>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<TE;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=jS(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const TE=12;function IE(e,t){return e*Math.sqrt(1-t*t)}const AE=["duration","bounce"],OE=["stiffness","damping","mass"];function PE(e,t){return t.some((t=>void 0!==e[t]))}function ME(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const s=t[0],a=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!PE(e,OE)&&PE(e,AE)){const n=CE(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-SS(i.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-s,y=SS(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=IE(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)o.done=e>=d;else{let i=p;0!==e&&(i=m<1?NE(b,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(a-t)<=n;o.done=s&&l}return o.value=o.done?a:t,o}}}function DE(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===o?g:o(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let w,_;const j=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(w=e,_=ME({keyframes:[f.value,p(f.value)],velocity:NE(b,e,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return _||void 0!==w||(t=!0,x(e),j(e)),void 0!==w&&e>w?_.next(e-w):(!t&&x(e),f)}}}const RE=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>qj.update(t,!0),stop:()=>Wj(t),now:()=>Yj.isProcessing?Yj.timestamp:performance.now()}};function LE(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const FE={decay:DE,inertia:DE,tween:SE,keyframes:SE,spring:ME};function BE(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=RE,keyframes:a,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:f,onUpdate:p,...m}=e,g=1,y=!1;const v=()=>{n=new Promise((e=>{t=e}))};let b;v();const x=FE[o]||SE;let w;x!==SE&&"number"!==typeof a[0]&&(w=_E([0,100],a,{clamp:!1}),a=[0,100]);const _=x({...m,keyframes:a});let j;"mirror"===u&&(j=x({...m,keyframes:[...a].reverse(),velocity:-(m.velocity||0)}));let S="idle",E=null,N=null,k=null;null===_.calculatedDuration&&l&&(_.calculatedDuration=LE(_));const{calculatedDuration:C}=_;let T=1/0,I=1/0;null!==C&&(T=C+c,I=T*(l+1)-c);let A=0;const O=e=>{if(null===N)return;g>0&&(N=Math.min(N,e)),g<0&&(N=Math.min(e-I/g,N)),A=null!==E?E:Math.round(e-N)*g;const t=A-i*(g>=0?1:-1),n=g>=0?t<0:t>I;A=Math.max(t,0),"finished"===S&&null===E&&(A=I);let r=A,s=_;if(l){const e=Math.min(A,I)/T;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/T)):"mirror"===u&&(s=j)),r=G_(0,1,n)*T}const o=n?{done:!1,value:a[0]}:s.next(r);w&&(o.value=w(o.value));let{done:d}=o;n||null===C||(d=g>=0?A>=I:A<=0);const h=null===E&&("finished"===S||"running"===S&&d);return p&&p(o.value),h&&D(),o},P=()=>{b&&b.stop(),b=void 0},M=()=>{S="idle",P(),t(),v(),N=k=null},D=()=>{S="finished",f&&f(),P(),t()},R=()=>{if(y)return;b||(b=s(O));const e=b.now();d&&d(),null!==E?N=e-E:N&&"finished"!==S||(N=e),"finished"===S&&v(),k=N,E=null,S="running",b.start()};r&&R();const L={then:(e,t)=>n.then(e,t),get time(){return SS(A)},set time(e){e=jS(e),A=e,null===E&&b&&0!==g?N=b.now()-e/g:E=e},get duration(){const e=null===_.calculatedDuration?LE(_):_.calculatedDuration;return SS(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,L.time=SS(A))},get state(){return S},play:R,pause:()=>{S="paused",E=A},stop:()=>{y=!0,"idle"!==S&&(S="idle",h&&h(),M())},cancel:()=>{null!==k&&O(k),M()},complete:()=>{S="finished"},sample:e=>(N=0,O(e))};return L}const UE=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),VE=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function zE(e,t,n){let{onUpdate:r,onComplete:i,...s}=n;if(!(UE()&&VE.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let a,o,l=!1,c=!1;const u=()=>{o=new Promise((e=>{a=e}))};u();let{keyframes:d,duration:h=300,ease:f,times:p}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!kS(t.ease))(t,s)){const e=BE({...s,repeat:0,delay:0});let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,d=n,h=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=IS(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,d,{...s,duration:h,ease:f,times:p}),g=()=>{c=!1,m.cancel()},y=()=>{c=!0,qj.update(g),a(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,s)),i&&i(),y())};const v={then:(e,t)=>o.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,zj),get time(){return SS(m.currentTime||0)},set time(e){m.currentTime=jS(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return SS(h)},play:()=>{l||(m.play(),Wj(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=BE({...s,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{c||m.finish()},cancel:y};return v}const $E={type:"spring",stiffness:500,damping:25,restSpeed:10},HE={type:"keyframes",duration:.8},qE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WE=(e,t)=>{let{keyframes:n}=t;return n.length>2?HE:U_.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:$E:qE},YE=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!fE.test(t)&&"0"!==t||t.startsWith("url("))),KE=new Set(["brightness","contrast","saturate","opacity"]);function GE(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(ej)||[];if(!r)return e;const i=n.replace(r,"");let s=KE.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const XE=/([a-z-]*)\(.*?\)/g,QE={...fE,getAnimatableNone:e=>{const t=e.match(XE);return t?t.map(GE).join(" "):e}},ZE={...hj,color:ZS,backgroundColor:ZS,outlineColor:ZS,fill:ZS,stroke:ZS,borderColor:ZS,borderTopColor:ZS,borderRightColor:ZS,borderBottomColor:ZS,borderLeftColor:ZS,filter:QE,WebkitFilter:QE},JE=e=>ZE[e];function eN(e,t){let n=JE(e);return n!==QE&&(n=fE),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tN=e=>/^0[^.\s]+$/.test(e);function nN(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||tN(e):void 0}function rN(e,t){return e[t]||e.default||e}const iN=!1,sN=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=rN(r,e)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o-=jS(a);const l=function(e,t,n,r){const i=YE(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let o;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?a:s[c-1]),nN(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++)s[l[c]]=eN(t,o);return s}(t,e,n,s),c=l[0],u=l[l.length-1],d=YE(e,c),h=YE(e,u);wS(d===h,`You are trying to animate ${e} from "${c}" to "${u}". ${c} is not an animatable value - to enable this animation set ${c} to a value animatable to ${u} via the \`style\` property.`);let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length}(s)||(f={...f,...WE(e,f)}),f.duration&&(f.duration=jS(f.duration)),f.repeatDelay&&(f.repeatDelay=jS(f.repeatDelay)),!d||!h||ES||!1===s.type||iN)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:zj,pause:zj,stop:zj,then:e=>(e(),Promise.resolve()),cancel:zj,complete:zj});return n?BE({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(ES?{...f,delay:0}:f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=zE(t,e,f);if(n)return n}return BE(f)}};function aN(e){return Boolean(z_(e)&&e.add)}const oN=e=>/^\-?\d*\.?\d+$/.test(e);function lN(e,t){-1===e.indexOf(t)&&e.push(t)}function cN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class uN{constructor(){this.subscriptions=[]}add(e){return lN(this.subscriptions,e),()=>cN(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dN={current:void 0};class hN{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=Yj;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,qj.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>qj.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new uN);const n=this.events[e].add(t);return"change"===e?()=>{n(),qj.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return dN.current&&dN.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?EE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fN(e,t){return new hN(e,t)}const pN=e=>t=>t.test(e),mN=[X_,oj,aj,sj,cj,lj,{test:e=>"auto"===e,parse:e=>e}],gN=e=>mN.find(pN(e)),yN=[...mN,ZS,fE],vN=e=>yN.find(pN(e));function bN(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fN(n))}function xN(e,t){const n=xS(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s){bN(e,a,Fj(s[a]))}}function wN(e,t){if(!t)return;return(t[e]||t.default||t).from}function _N(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function jN(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function SN(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:a,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in o){const t=e.getValue(d),r=o[d];if(!t||void 0===r||u&&_N(u,d))continue;const i={delay:n,elapsed:0,...rN(s||{},d)};if(window.HandoffAppearAnimations){const n=e.getProps()[v_];if(n){const e=window.HandoffAppearAnimations(n,d,t,qj);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let a=!i.isHandoff&&!jN(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(a=!1),t.animation&&(a=!1),a)continue;t.start(sN(d,t,r,e.shouldReduceMotion&&U_.has(d)?{type:!1}:i));const h=t.animation;aN(l)&&(l.add(d),h.then((()=>l.remove(d)))),c.push(h)}return a&&Promise.all(c).then((()=>{a&&xN(e,a)})),c}function EN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=xS(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(SN(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(NN).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(EN(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,s+r,a,o,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[e,t]="beforeChildren"===o?[s,a]:[a,s];return e().then((()=>t()))}return Promise.all([s(),a(n.delay)])}function NN(e,t){return e.sortNodePosition(t)}const kN=[...__].reverse(),CN=__.length;function TN(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>EN(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=EN(e,t,r);else{const i="function"===typeof t?xS(e,t,r.custom):t;n=Promise.all(SN(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function IN(e){let t=TN(e);const n={animate:ON(!0),whileInView:ON(),whileHover:ON(),whileTap:ON(),whileDrag:ON(),whileFocus:ON(),exit:ON()};let r=!0;const i=(t,n)=>{const r=xS(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,a){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<CN;t++){const f=kN[t],p=n[f],m=void 0!==o[f]?o[f]:l[f],g=x_(m),y=f===a?p.isActive:null;!1===y&&(h=t);let v=m===l[f]&&m!==o[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys={...d},!p.isActive&&null===y||!m&&!p.prevProp||w_(m)||"boolean"===typeof m)continue;let b=AN(p.prevProp,m)||f===a&&p.isActive&&!v&&g||t>h&&g,x=!1;const w=Array.isArray(m)?m:[m];let _=w.reduce(i,{});!1===y&&(_={});const{prevResolvedValues:j={}}=p,S={...j,..._},E=e=>{b=!0,u.has(e)&&(x=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in S){const t=_[e],n=j[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Lj(t)&&Lj(n)?!bS(t,n):t!==n,r?void 0!==t?E(e):u.add(e):void 0!==t&&u.has(e)?E(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=_,p.isActive&&(d={...d,..._}),r&&e.blockInitialAnimation&&(b=!1),!b||v&&!x||c.push(...w.map((e=>({animation:e,options:{type:f,...s}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const o=s(i,t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function AN(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!bS(t,e)}function ON(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let PN=0;const MN={animation:{Feature:class extends lS{constructor(e){super(e),e.animationState||(e.animationState=IN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),w_(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends lS{constructor(){super(...arguments),this.id=PN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},DN=(e,t)=>Math.abs(e-t);class RN{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=BN(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=DN(e.x,t.x),r=DN(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Yj;this.history.push({...r,timestamp:i});const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=LN(t,this.transformPagePoint),qj.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=BN("pointercancel"===e.type?this.lastMoveEventInfo:LN(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!Zj(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=LN(Jj(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=Yj;this.history=[{...a,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,BN(s,this.history)),this.removeListeners=nS(eS(this.contextWindow,"pointermove",this.handlePointerMove),eS(this.contextWindow,"pointerup",this.handlePointerUp),eS(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wj(this.updatePoint)}}function LN(e,t){return t?{point:t(e.point)}:e}function FN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function BN(e,t){let{point:n}=e;return{point:n,delta:FN(n,VN(t)),offset:FN(n,UN(t)),velocity:zN(t,.1)}}function UN(e){return e[0]}function VN(e){return e[e.length-1]}function zN(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=VN(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>jS(t)));)n--;if(!r)return{x:0,y:0};const s=SS(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function $N(e){return e.max-e.min}function HN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function qN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=JS(t.min,t.max,e.origin),e.scale=$N(n)/$N(t),(HN(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=JS(n.min,n.max,e.origin)-e.originPoint,(HN(e.translate)||isNaN(e.translate))&&(e.translate=0)}function WN(e,t,n,r){qN(e.x,t.x,n.x,r?r.originX:void 0),qN(e.y,t.y,n.y,r?r.originY:void 0)}function YN(e,t,n){e.min=n.min+t.min,e.max=e.min+$N(t)}function KN(e,t,n){e.min=t.min-n.min,e.max=e.min+$N(t)}function GN(e,t,n){KN(e.x,t.x,n.x),KN(e.y,t.y,n.y)}function XN(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function QN(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const ZN=.35;function JN(e,t,n){return{min:ek(e,t),max:ek(e,n)}}function ek(e,t){return"number"===typeof e?e:e[t]||0}function tk(e){return[e("x"),e("y")]}function nk(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function rk(e){return void 0===e||1===e}function ik(e){let{scale:t,scaleX:n,scaleY:r}=e;return!rk(t)||!rk(n)||!rk(r)}function sk(e){return ik(e)||ak(e)||e.z||e.rotate||e.rotateX||e.rotateY}function ak(e){return ok(e.x)||ok(e.y)}function ok(e){return e&&"0%"!==e}function lk(e,t,n){return n+t*(e-n)}function ck(e,t,n,r,i){return void 0!==i&&(e=lk(e,i,r)),lk(e,n,r)+t}function uk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=ck(e.min,t,n,r,i),e.max=ck(e.max,t,n,r,i)}function dk(e,t){let{x:n,y:r}=t;uk(e.x,n.translate,n.scale,n.originPoint),uk(e.y,r.translate,r.scale,r.originPoint)}function hk(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function fk(e,t){e.min=e.min+t,e.max=e.max+t}function pk(e,t,n){let[r,i,s]=n;const a=void 0!==t[s]?t[s]:.5,o=JS(e.min,e.max,a);uk(e,t[r],t[i],o,t.scale)}const mk=["x","scaleX","originX"],gk=["y","scaleY","originY"];function yk(e,t){pk(e.x,t,mk),pk(e.y,t,gk)}function vk(e,t){return nk(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const bk=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},xk=new WeakMap;class wk{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new RN(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Jj(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=aS(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tk((e=>{let t=this.getAxisMotionValue(e).get()||0;if(aj.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=$N(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&qj.update((()=>i(e,t)),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>tk((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:bk(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&qj.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!_k(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?JS(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?JS(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&b_(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:XN(e.x,r,s),y:XN(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZN;return!1===e?e=0:!0===e&&(e=ZN),{x:JN(e,"left","right"),y:JN(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&tk((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!b_(e))return!1;const n=e.current;_S(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=vk(e,n),{scroll:i}=t;return i&&(fk(r.x,i.offset.x),fk(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:QN(e.x,t.x),y:QN(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=nk(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=tk((a=>{if(!_k(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,d)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(sN(e,n,0,t))}stopAnimation(){tk((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){tk((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){tk((t=>{const{drag:n}=this.getProps();if(!_k(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-JS(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!b_(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};tk((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=$N(e),i=$N(t);return i>r?n=bE(t.min,t.max-r,e.min):r>i&&(n=bE(e.min,e.max-i,t.min)),G_(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),tk((t=>{if(!_k(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(JS(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;xk.set(this.visualElement,this);const e=eS(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();b_(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Qj(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(tk((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=ZN,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function _k(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const jk=e=>(t,n)=>{e&&qj.update((()=>e(t,n)))};const Sk={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ek(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Nk={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!oj.test(e))return e;e=parseFloat(e)}return`${Ek(e,t.target.x)}% ${Ek(e,t.target.y)}%`}},kk={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=fE.parse(e);if(s.length>5)return i;const a=fE.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=JS(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}};class Ck extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=Ik,Object.assign(F_,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Sk.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||qj.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Tk(e){const[t,n]=function(){const e=(0,r.useContext)(f_);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,s=(0,r.useId)();return(0,r.useEffect)((()=>i(s)),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),i=(0,r.useContext)(I_);return r.createElement(Ck,{...e,layoutGroup:i,switchLayoutGroup:(0,r.useContext)(A_),isPresent:t,safeToRemove:n})}const Ik={borderRadius:{...Nk,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nk,borderTopRightRadius:Nk,borderBottomLeftRadius:Nk,borderBottomRightRadius:Nk,boxShadow:kk},Ak=["TopLeft","TopRight","BottomLeft","BottomRight"],Ok=Ak.length,Pk=e=>"string"===typeof e?parseFloat(e):e,Mk=e=>"number"===typeof e||oj.test(e);function Dk(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Rk=Fk(0,.5,BS),Lk=Fk(.5,.95,zj);function Fk(e,t,n){return r=>r<e?0:r>t?1:n(bE(e,t,r))}function Bk(e,t){e.min=t.min,e.max=t.max}function Uk(e,t){Bk(e.x,t.x),Bk(e.y,t.y)}function Vk(e,t,n,r,i){return e=lk(e-=t,1/n,r),void 0!==i&&(e=lk(e,1/i,r)),e}function zk(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;aj.test(t)&&(t=parseFloat(t),t=JS(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=JS(s.min,s.max,r);e===s&&(o-=t),e.min=Vk(e.min,t,n,o,i),e.max=Vk(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const $k=["x","scaleX","originX"],Hk=["y","scaleY","originY"];function qk(e,t,n,r){zk(e.x,t,$k,n?n.x:void 0,r?r.x:void 0),zk(e.y,t,Hk,n?n.y:void 0,r?r.y:void 0)}function Wk(e){return 0===e.translate&&1===e.scale}function Yk(e){return Wk(e.x)&&Wk(e.y)}function Kk(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Gk(e){return $N(e.x)/$N(e.y)}class Xk{constructor(){this.members=[]}add(e){lN(this.members,e),e.scheduleRender()}remove(e){if(cN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qk(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}const a=e.x.scale*t.x,o=e.y.scale*t.y;return 1===a&&1===o||(r+=`scale(${a}, ${o})`),r||"none"}const Zk=(e,t)=>e.depth-t.depth;class Jk{constructor(){this.children=[],this.isDirty=!1}add(e){lN(this.children,e),this.isDirty=!0}remove(e){cN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zk),this.isDirty=!1,this.children.forEach(e)}}const eC=["","X","Y","Z"],tC={visibility:"hidden"};let nC=0;const rC={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function iC(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=nC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,rC.totalNodes=rC.resolvedTargetDeltas=rC.recalculatedProjection=0,this.nodes.forEach(oC),this.nodes.forEach(pC),this.nodes.forEach(mC),this.nodes.forEach(lC),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(rC)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jk)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new uN),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(Wj(r),e(a-t))};return qj.read(r,!0),()=>Wj(r)}(r,250),Sk.hasAnimatedSinceResize&&(Sk.hasAnimatedSinceResize=!1,this.nodes.forEach(fC))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||wC,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!Kk(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...rN(s,"layout"),onPlay:o,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||fC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wj(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gC),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(uC);this.isUpdating||this.nodes.forEach(dC),this.isUpdating=!1,this.nodes.forEach(hC),this.nodes.forEach(sC),this.nodes.forEach(aC),this.clearAllSnapshots();const e=performance.now();Yj.delta=G_(0,1e3/60,e-Yj.timestamp),Yj.timestamp=e,Yj.isProcessing=!0,Kj.update.process(Yj),Kj.preRender.process(Yj),Kj.render.process(Yj),Yj.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(cC),this.sharedNodes.forEach(yC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qj.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qj.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Yk(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||sk(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),SC((r=n).x),SC(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(fk(t.x,n.offset.x),fk(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Uk(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){Uk(t,e);const{scroll:n}=this.root;n&&(fk(t.x,-n.offset.x),fk(t.y,-n.offset.y))}fk(t.x,i.offset.x),fk(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Uk(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&yk(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),sk(e.latestValues)&&yk(n,e.latestValues)}return sk(this.latestValues)&&yk(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Uk(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!sk(e.latestValues))continue;ik(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Uk(r,e.measurePageBox()),qk(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return sk(this.latestValues)&&qk(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yj.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=Yj.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},GN(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Uk(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,YN(a.x,o.x,l.x),YN(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Uk(this.target,this.layout.layoutBox),dk(this.target,this.targetDelta)):Uk(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},GN(this.relativeTargetOrigin,this.target,e.target),Uk(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rC.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ik(this.parent.latestValues)&&!ak(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Yj.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;Uk(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&yk(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,dk(e,a)),r&&sk(s.latestValues)&&yk(e,s.latestValues))}t.x=hk(t.x),t.y=hk(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;WN(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Qk(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),rC.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(xC));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;vC(s.x,e.x,n),vC(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(GN(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){bC(e.x,t.x,n.x,r),bC(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Uk(d,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=JS(0,void 0!==n.opacity?n.opacity:1,Rk(r)),e.opacityExit=JS(void 0!==t.opacity?t.opacity:1,0,Lk(r))):s&&(e.opacity=JS(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<Ok;a++){const i=`border${Ak[a]}Radius`;let s=Dk(t,i),o=Dk(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||Mk(s)===Mk(o)?(e[i]=Math.max(JS(Pk(s),Pk(o),r),0),(aj.test(o)||aj.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=JS(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wj(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qj.update((()=>{Sk.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=z_(e)?e:fN(e);return r.start(sN("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&EC(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=$N(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=$N(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Uk(t,n),yk(t,i),WN(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Xk);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<eC.length;i++){const t="rotate"+eC[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tC;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Bj(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Bj(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!sk(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Qk(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in F_){if(void 0===a[c])continue;const{correct:e,applyTo:t}=F_[c],n="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?Bj(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(uC),this.root.sharedNodes.clear()}}}function sC(e){e.updateLayout()}function aC(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?tk((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=$N(r);r.min=t[e].min,r.max=r.min+i})):EC(i,n.layoutBox,t)&&tk((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=$N(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};WN(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?WN(o,e.applyTransform(r,!0),n.measuredBox):WN(o,t,n.layoutBox);const l=!Yk(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};GN(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};GN(o,t,s.layoutBox),Kk(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function oC(e){rC.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function lC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function cC(e){e.clearSnapshot()}function uC(e){e.clearMeasurements()}function dC(e){e.isLayoutDirty=!1}function hC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pC(e){e.resolveTargetDelta()}function mC(e){e.calcProjection()}function gC(e){e.resetRotation()}function yC(e){e.removeLeadSnapshot()}function vC(e,t,n){e.translate=JS(t.translate,0,n),e.scale=JS(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function bC(e,t,n,r){e.min=JS(t.min,n.min,r),e.max=JS(t.max,n.max,r)}function xC(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const wC={duration:.45,ease:[.4,0,.1,1]},_C=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),jC=_C("applewebkit/")&&!_C("chrome/")?Math.round:zj;function SC(e){e.min=jC(e.min),e.max=jC(e.max)}function EC(e,t,n){return"position"===e||"preserve-aspect"===e&&!HN(Gk(t),Gk(n),.2)}const NC=iC({attachResizeListener:(e,t)=>Qj(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kC={current:void 0},CC=iC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kC.current){const e=new NC({});e.mount(window),e.setOptions({layoutScroll:!0}),kC.current=e}return kC.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),TC={pan:{Feature:class extends lS{constructor(){super(...arguments),this.removePointerDownListener=zj}onPointerDown(e){this.session=new RN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:jk(e),onStart:jk(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&qj.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=eS(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends lS{constructor(e){super(e),this.removeGroupControls=zj,this.removeListeners=zj,this.controls=new wk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zj}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:CC,MeasureLayout:Tk}},IC=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function AC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;_S(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=IC.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return oN(e)?parseFloat(e):e}return Y_(i)?AC(i,t,n+1):i}const OC=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),PC=e=>OC.has(e),MC=e=>e===X_||e===oj,DC=(e,t)=>parseFloat(e.split(", ")[t]),RC=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return DC(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?DC(t[1],e):0}},LC=new Set(["x","y","z"]),FC=B_.filter((e=>!LC.has(e)));const BC={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:RC(4,13),y:RC(5,14)};BC.translateX=BC.x,BC.translateY=BC.y;const UC=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(PC);let s=[],a=!1;const o=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=gN(c);const d=t[i];let h;if(Lj(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=gN(c);for(let n=t;n<e&&null!==d[n];n++)h?_S(gN(d[n])===h,"All keyframes must be of the same type"):(h=gN(d[n]),_S(h===u||MC(u)&&MC(h),"Keyframes must be of the same dimension as the current value"))}else h=gN(d);if(u!==h)if(MC(u)&&MC(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===oj&&(t[i]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[i]=u.transform(d):(a||(s=function(e){const t=[];return FC.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),a=!0),o.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))})),o.length){const n=o.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:a}=s,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{o[e]=BC[e](r,s)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(o[n]),e[n]=BC[n](l,s)})),e})(t,e,o);return s.length&&s.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),p_&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function VC(e,t,n,r){return(e=>Object.keys(e).some(PC))(t)?UC(e,t,n,r):{target:t,transitionEnd:r}}const zC=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!Y_(t))return;const n=AC(t,i);n&&e.set(n)}));for(const s in r){const e=r[s];if(!Y_(e))continue;const t=AC(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}(e,t,r);return VC(e,t=i.target,n,r=i.transitionEnd)},$C={current:null},HC={current:!1};const qC=new WeakMap,WC=Object.keys(T_),YC=WC.length,KC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],GC=j_.length;class XC{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>qj.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=S_(n),this.isVariantNode=E_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const e=u[d];void 0!==o[d]&&z_(e)&&(e.set(o[d],!1),aN(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,qC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),HC.current||function(){if(HC.current=!0,p_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$C.current=e.matches;e.addListener(t),t()}else $C.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||$C.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qC.delete(this.current),this.projection&&this.projection.unmount(),Wj(this.notifyUpdate),Wj(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=U_.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&qj.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:a,...o}=e;for(let l=0;l<YC;l++){const e=WC[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=T_[e];r&&(i=r),t(o)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(s=a))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:a,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&b_(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<KC.length;n++){const t=KC[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],a=n[i];if(z_(s))e.addValue(i,s),aN(r)&&r.add(i);else if(z_(a))e.addValue(i,fN(s,{owner:e})),aN(r)&&r.remove(i);else if(a!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,fN(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<GC;t++){const n=j_[t],r=this.props[n];(x_(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=fN(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=Dj(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||z_(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new uN),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class QC extends XC{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...s}=e,{transformValues:a}=t,o=function(e,t,n){const r={};for(const i in e){const e=wN(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(a&&(i&&(i=a(i)),s&&(s=a(s)),o&&(o=a(o))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter((t=>!e.hasValue(t))),a=s.length;if(a)for(let o=0;o<a;o++){const a=s[o],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(oN(c)||tN(c))?c=parseFloat(c):!vN(c)&&fE.test(l)&&(c=eN(a,l)),e.addValue(a,fN(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,s,o);const e=zC(this,s,o,i);i=e.transitionEnd,s=e.target}return{transition:r,transitionEnd:i,...s}}}class ZC extends QC{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(U_.has(t)){const e=JE(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(W_(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return vk(e,n)}build(e,t,n,r){fj(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Pj(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;z_(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}renderInstance(e,t,n,r){Ij(e,t,n,r)}}class JC extends QC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(U_.has(t)){const e=JE(t);return e&&e.default||0}return t=Aj.has(t)?t:y_(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Mj(e,t)}build(e,t,n,r){Ej(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Oj(e,t,0,r)}mount(e){this.isSVGTag=kj(e.tagName),super.mount(e)}}const eT=(e,t)=>L_(e)?new JC(t,{enableHardwareAcceleration:!1}):new ZC(t,{enableHardwareAcceleration:!0}),tT={...MN,...vS,...TC,...{layout:{ProjectionNode:CC,MeasureLayout:Tk}}},nT=D_(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...L_(e)?Gj:Xj,preloadedFeatures:n,useRender:Tj(i),createVisualElement:r,Component:e}}(e,t,tT,eT)));function rT(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))}const iT=r.forwardRef(rT);function sT(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const aT=r.forwardRef(sT);function oT(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const lT=r.forwardRef(oT);function cT(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M15.75 1.5a6.75 6.75 0 0 0-6.651 7.906c.067.39-.032.717-.221.906l-6.5 6.499a3 3 0 0 0-.878 2.121v2.818c0 .414.336.75.75.75H6a.75.75 0 0 0 .75-.75v-1.5h1.5A.75.75 0 0 0 9 19.5V18h1.5a.75.75 0 0 0 .53-.22l2.658-2.658c.19-.189.517-.288.906-.22A6.75 6.75 0 1 0 15.75 1.5Zm0 3a.75.75 0 0 0 0 1.5A2.25 2.25 0 0 1 18 8.25a.75.75 0 0 0 1.5 0 3.75 3.75 0 0 0-3.75-3.75Z",clipRule:"evenodd"}))}const uT=r.forwardRef(cT);function dT(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M3.53 2.47a.75.75 0 0 0-1.06 1.06l18 18a.75.75 0 1 0 1.06-1.06l-18-18ZM22.676 12.553a11.249 11.249 0 0 1-2.631 4.31l-3.099-3.099a5.25 5.25 0 0 0-6.71-6.71L7.759 4.577a11.217 11.217 0 0 1 4.242-.827c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113Z"}),r.createElement("path",{d:"M15.75 12c0 .18-.013.357-.037.53l-4.244-4.243A3.75 3.75 0 0 1 15.75 12ZM12.53 15.713l-4.243-4.244a3.75 3.75 0 0 0 4.244 4.243Z"}),r.createElement("path",{d:"M6.75 12c0-.619.107-1.213.304-1.764l-3.1-3.1a11.25 11.25 0 0 0-2.63 4.31c-.12.362-.12.752 0 1.114 1.489 4.467 5.704 7.69 10.675 7.69 1.5 0 2.933-.294 4.242-.827l-2.477-2.477A5.25 5.25 0 0 1 6.75 12Z"}))}const hT=r.forwardRef(dT);function fT(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),r.createElement("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z",clipRule:"evenodd"}))}const pT=r.forwardRef(fT);function mT(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const gT=r.forwardRef(mT);var yT=n(64),vT=n.n(yT);const bT=()=>{const e=Array.from({length:30},(()=>({x:100*Math.random(),y:100*Math.random(),speedX:.3*(Math.random()-.5),speedY:.3*(Math.random()-.5)})));return(0,o_.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(((e,t)=>(0,o_.jsx)(nT.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:`${e.x}vw`,y:`${e.y}vh`,opacity:.6},animate:{x:`${e.x+50*e.speedX}vw`,y:`${e.y+50*e.speedY}vh`,opacity:[.6,.8,.6]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}},t)))})},xT=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)({id:!1,password:!1}),{login:d,setUser:h}=c_(),f=te();let p="";return(0,o_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 text-white font-mono relative overflow-hidden flex items-center justify-center",children:[(0,o_.jsx)(bT,{}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)(nT.div,{className:"max-w-lg mx-auto bg-gray-800 rounded-xl shadow-2xl p-8 relative overflow-hidden border border-cyan-800",initial:{opacity:0,scale:.9,rotate:-5},animate:{opacity:1,scale:1,rotate:0},transition:{duration:.8,type:"spring",stiffness:80},children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"flex flex-col items-center mb-6 relative z-10",children:[(0,o_.jsx)(nT.div,{initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:100,delay:.2},children:(0,o_.jsx)(iT,{className:"w-16 h-16 text-cyan-400 mb-4 animate-pulse"})}),(0,o_.jsx)(nT.h1,{className:"text-3xl font-bold text-cyan-100 mb-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:"Login"}),(0,o_.jsx)("p",{className:"text-cyan-300 text-center",children:"Access your SmartEcoLock account"})]}),(0,o_.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),a(!0);try{let t="",r=null;const i=ag(xm(s_,"users"),lg("idNumber","==",e)),s=await Ng(i);if(s.empty){const n=ag(xm(s_,"teachers"),lg("idNumber","==",e)),i=await Ng(n);if(i.empty){const n=ag(xm(s_,"students"),lg("idNumber","==",e)),i=await Ng(n);if(!i.empty){const e=i.docs[0];r={id:e.id,...e.data()},t=r.email,p="student"}}else{const e=i.docs[0];r={id:e.id,...e.data()},t=r.email,p="instructor"}}else{const e=s.docs[0];r={id:e.id,...e.data()},t=r.email,p="admin"}if(!r)throw new Error("No user found with this ID number");await is(i_,t,n),localStorage.setItem("userRole",p),localStorage.setItem("userData",JSON.stringify(r)),"instructor"===p&&localStorage.setItem("teacherData",JSON.stringify({idNumber:r.idNumber,fullName:r.fullName,department:r.department,email:r.email})),vT().fire({icon:"success",title:"Login Successful",text:`Welcome back, ${r.fullName}!`,showConfirmButton:!1,timer:1500,background:"#F9FAFB",iconColor:"#22d3ee"});f({admin:"/admin/dashboard",instructor:"/instructor/dashboard",student:"/student/dashboard"}[p],{replace:!0})}catch(Zg){console.error("Login error:",Zg),vT().fire({icon:"error",title:"Login Failed",text:Zg instanceof Error?Zg.message:"Invalid credentials",confirmButtonColor:"#22d3ee",background:"#F9FAFB"})}finally{a(!1)}},className:"space-y-6 relative z-10",children:[(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"ID Number"}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,o_.jsx)(aT,{className:"w-5 h-5 text-cyan-500"})}),(0,o_.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),onFocus:()=>u({...c,id:!0}),onBlur:()=>u({...c,id:!1}),className:"w-full pl-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white placeholder-gray-400",placeholder:"Enter your ID number",required:!0}),e&&(0,o_.jsx)(lT,{className:"w-5 h-5 text-cyan-500 absolute right-3 top-1/2 transform -translate-y-1/2"})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.5,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"Password"}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,o_.jsx)(uT,{className:"w-5 h-5 text-cyan-500"})}),(0,o_.jsx)("input",{type:o?"text":"password",value:n,onChange:e=>i(e.target.value),onFocus:()=>u({...c,password:!0}),onBlur:()=>u({...c,password:!1}),className:"w-full pl-10 pr-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white placeholder-gray-400",placeholder:"Enter your password",required:!0}),(0,o_.jsx)("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-cyan-500 hover:text-cyan-300 transition-colors",children:o?(0,o_.jsx)(hT,{className:"w-5 h-5"}):(0,o_.jsx)(pT,{className:"w-5 h-5"})})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.6,type:"tween"},className:"flex items-center justify-between text-sm text-gray-400",children:[(0,o_.jsxs)("label",{className:"flex items-center",children:[(0,o_.jsx)("input",{type:"checkbox",className:"rounded border-gray-700 bg-gray-800 text-cyan-500 focus:ring-cyan-500"}),(0,o_.jsx)("span",{className:"ml-2",children:"Remember me"})]}),(0,o_.jsx)(Ce,{to:"/reset-password",className:"text-cyan-400 hover:text-cyan-300 transition-all duration-300",children:"Forgot password?"})]}),(0,o_.jsx)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,type:"spring",stiffness:100},children:(0,o_.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold p-3 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 shadow-lg hover:shadow-cyan-500/50",children:s?(0,o_.jsx)("span",{className:"animate-spin",children:(0,o_.jsx)(gT,{className:"w-5 h-5"})}):(0,o_.jsxs)(o_.Fragment,{children:["Sign In",(0,o_.jsx)(iT,{className:"w-5 h-5"})]})})}),(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.5},className:"text-center mt-4",children:(0,o_.jsxs)("p",{className:"text-gray-400",children:["Don't have an account?"," ",(0,o_.jsx)(Ce,{to:"/rfid-registration",className:"text-cyan-400 hover:text-cyan-300 font-semibold hover:underline transition-all duration-300",children:"Sign up"})]})})]})]}),(0,o_.jsxs)("footer",{className:"mt-8 text-center text-gray-400",children:[(0,o_.jsx)("p",{children:"\xa9 2025 SmartEcoLock Tech System. All rights reserved."}),(0,o_.jsx)("div",{className:"flex justify-center space-x-4 mt-2"})]})]})]})};var wT,_T,jT;!function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"}(wT||(wT={})),function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"}(_T||(_T={})),function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(jT||(jT={}));const ST=["user","model","function","system"];var ET,NT,kT,CT,TT,IT,AT,OT;!function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(ET||(ET={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(NT||(NT={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(kT||(kT={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"}(CT||(CT={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"}(TT||(TT={})),function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"}(IT||(IT={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(AT||(AT={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(OT||(OT={}));class PT extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class MT extends PT{constructor(e,t){super(e),this.response=t}}class DT extends PT{constructor(e,t,n,r){super(e),this.status=t,this.statusText=n,this.errorDetails=r}}class RT extends PT{}class LT extends PT{}var FT;!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(FT||(FT={}));class BT{constructor(e,t,n,r,i){this.model=e,this.task=t,this.apiKey=n,this.stream=r,this.requestOptions=i}toString(){var e,t;const n=(null===(e=this.requestOptions)||void 0===e?void 0:e.apiVersion)||"v1beta";let r=`${(null===(t=this.requestOptions)||void 0===t?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com"}/${n}/${this.model}:${this.task}`;return this.stream&&(r+="?alt=sse"),r}}async function UT(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",function(e){const t=[];return(null===e||void 0===e?void 0:e.apiClient)&&t.push(e.apiClient),t.push("genai-js/0.23.0"),t.join(" ")}(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=null===(t=e.requestOptions)||void 0===t?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(v6){throw new RT(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${v6.message}`)}for(const[e,t]of r.entries()){if("x-goog-api-key"===e)throw new RT(`Cannot set reserved header name ${e}`);if("x-goog-api-client"===e)throw new RT(`Header name ${e} can only be set using the apiClient field`);n.append(e,t)}}return n}async function VT(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fetch;const{url:o,fetchOptions:l}=await async function(e,t,n,r,i,s){const a=new BT(e,t,n,r,s);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},zT(s)),{method:"POST",headers:await UT(a),body:i})}}(e,t,n,r,i,s);return async function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fetch;try{n=await r(e,t)}catch(v6){!function(e,t){let n=e;"AbortError"===n.name?(n=new LT(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof DT||e instanceof RT||(n=new PT(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack);throw n}(v6,e)}n.ok||await async function(e,t){let n,r="";try{const t=await e.json();r=t.error.message,t.error.details&&(r+=` ${JSON.stringify(t.error.details)}`,n=t.error.details)}catch(v6){}throw new DT(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}(n,e);return n}(o,l,a)}function zT(e){const t={};if(void 0!==(null===e||void 0===e?void 0:e.signal)||(null===e||void 0===e?void 0:e.timeout)>=0){const n=new AbortController;(null===e||void 0===e?void 0:e.timeout)>=0&&setTimeout((()=>n.abort()),e.timeout),(null===e||void 0===e?void 0:e.signal)&&e.signal.addEventListener("abort",(()=>{n.abort()})),t.signal=n.signal}return t}function $T(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),WT(e.candidates[0]))throw new MT(`${YT(e)}`,e);return function(e){var t,n,r,i;const s=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const a of null===(i=null===(r=e.candidates)||void 0===r?void 0:r[0].content)||void 0===i?void 0:i.parts)a.text&&s.push(a.text),a.executableCode&&s.push("\n```"+a.executableCode.language+"\n"+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&s.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}(e)}if(e.promptFeedback)throw new MT(`Text not available. ${YT(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),WT(e.candidates[0]))throw new MT(`${YT(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),HT(e)[0]}if(e.promptFeedback)throw new MT(`Function call not available. ${YT(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),WT(e.candidates[0]))throw new MT(`${YT(e)}`,e);return HT(e)}if(e.promptFeedback)throw new MT(`Function call not available. ${YT(e)}`,e)},e}function HT(e){var t,n,r,i;const s=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const a of null===(i=null===(r=e.candidates)||void 0===r?void 0:r[0].content)||void 0===i?void 0:i.parts)a.functionCall&&s.push(a.functionCall);return s.length>0?s:void 0}const qT=[TT.RECITATION,TT.SAFETY,TT.LANGUAGE];function WT(e){return!!e.finishReason&&qT.includes(e.finishReason)}function YT(e){var t,n,r;let i="";if(e.candidates&&0!==e.candidates.length||!e.promptFeedback){if(null===(r=e.candidates)||void 0===r?void 0:r[0]){const t=e.candidates[0];WT(t)&&(i+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(i+=`: ${t.finishMessage}`))}}else i+="Response was blocked",(null===(t=e.promptFeedback)||void 0===t?void 0:t.blockReason)&&(i+=` due to ${e.promptFeedback.blockReason}`),(null===(n=e.promptFeedback)||void 0===n?void 0:n.blockReasonMessage)&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);return i}function KT(e){return this instanceof KT?(this.v=e,this):new KT(e)}function GT(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||o(e,t)}))})}function o(e,t){try{!function(e){e.value instanceof KT?Promise.resolve(e.value.v).then(l,c):u(s[0][2],e)}(i[e](t))}catch(v6){u(s[0][3],v6)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}"function"===typeof SuppressedError&&SuppressedError;const XT=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function QT(e){const t=function(e){const t=e.getReader(),n=new ReadableStream({start(e){let n="";return r();function r(){return t.read().then((t=>{let{value:i,done:s}=t;if(s)return n.trim()?void e.error(new PT("Failed to parse stream")):void e.close();n+=i;let a,o=n.match(XT);for(;o;){try{a=JSON.parse(o[1])}catch(v6){return void e.error(new PT(`Error parsing JSON response: "${o[1]}"`))}e.enqueue(a),n=n.substring(o[0].length),o=n.match(XT)}return r()})).catch((e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new LT("Request aborted when reading from the stream"):new PT("Error reading from the stream"),t}))}}});return n}(e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))),[n,r]=t.tee();return{stream:JT(n),response:ZT(r)}}async function ZT(e){const t=[],n=e.getReader();for(;;){const{done:e,value:r}=await n.read();if(e)return $T(eI(t));t.push(r)}}function JT(e){return GT(this,arguments,(function*(){const t=e.getReader();for(;;){const{value:e,done:n}=yield KT(t.read());if(n)break;yield yield KT($T(e))}}))}function eI(e){const t=e[e.length-1],n={promptFeedback:null===t||void 0===t?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let e=0;for(const t of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[e]||(n.candidates[e]={index:e}),n.candidates[e].citationMetadata=t.citationMetadata,n.candidates[e].groundingMetadata=t.groundingMetadata,n.candidates[e].finishReason=t.finishReason,n.candidates[e].finishMessage=t.finishMessage,n.candidates[e].safetyRatings=t.safetyRatings,t.content&&t.content.parts){n.candidates[e].content||(n.candidates[e].content={role:t.content.role||"user",parts:[]});const r={};for(const i of t.content.parts)i.text&&(r.text=i.text),i.functionCall&&(r.functionCall=i.functionCall),i.executableCode&&(r.executableCode=i.executableCode),i.codeExecutionResult&&(r.codeExecutionResult=i.codeExecutionResult),0===Object.keys(r).length&&(r.text=""),n.candidates[e].content.parts.push(r)}e++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function tI(e,t,n,r){return QT(await VT(t,FT.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r))}async function nI(e,t,n,r){const i=await VT(t,FT.GENERATE_CONTENT,e,!1,JSON.stringify(n),r);return{response:$T(await i.json())}}function rI(e){if(null!=e)return"string"===typeof e?{role:"system",parts:[{text:e}]}:e.text?{role:"system",parts:[e]}:e.parts?e.role?e:{role:"system",parts:e.parts}:void 0}function iI(e){let t=[];if("string"===typeof e)t=[{text:e}];else for(const n of e)"string"===typeof n?t.push({text:n}):t.push(n);return function(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of e)"functionResponse"in s?(n.parts.push(s),i=!0):(t.parts.push(s),r=!0);if(r&&i)throw new PT("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new PT("No content is provided for sending chat message.");if(r)return t;return n}(t)}function sI(e){let t;if(e.contents)t=e;else{t={contents:[iI(e)]}}return e.systemInstruction&&(t.systemInstruction=rI(e.systemInstruction)),t}const aI=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],oI={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function lI(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;if(void 0===n)return!1;if(void 0===n.parts||0===n.parts.length)return!1;for(const r of n.parts){if(void 0===r||0===Object.keys(r).length)return!1;if(void 0!==r.text&&""===r.text)return!1}return!0}const cI="SILENT_ERROR";class uI{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.model=t,this.params=n,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null===n||void 0===n?void 0:n.history)&&(!function(e){let t=!1;for(const n of e){const{role:e,parts:r}=n;if(!t&&"user"!==e)throw new PT(`First content should be with role 'user', got ${e}`);if(!ST.includes(e))throw new PT(`Each item should include role field. Got ${e} but valid roles are: ${JSON.stringify(ST)}`);if(!Array.isArray(r))throw new PT("Content should have 'parts' property with an array of Parts");if(0===r.length)throw new PT("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const t of r)for(const e of aI)e in t&&(i[e]+=1);const s=oI[e];for(const t of aI)if(!s.includes(t)&&i[t]>0)throw new PT(`Content with role '${e}' can't contain '${t}' part`);t=!0}}(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r,i,s,a,o;await this._sendPromise;const l=iI(e),c={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(r=this.params)||void 0===r?void 0:r.generationConfig,tools:null===(i=this.params)||void 0===i?void 0:i.tools,toolConfig:null===(s=this.params)||void 0===s?void 0:s.toolConfig,systemInstruction:null===(a=this.params)||void 0===a?void 0:a.systemInstruction,cachedContent:null===(o=this.params)||void 0===o?void 0:o.cachedContent,contents:[...this._history,l]},u=Object.assign(Object.assign({},this._requestOptions),t);let d;return this._sendPromise=this._sendPromise.then((()=>nI(this._apiKey,this.model,c,u))).then((e=>{var t;if(lI(e.response)){this._history.push(l);const n=Object.assign({parts:[],role:"model"},null===(t=e.response.candidates)||void 0===t?void 0:t[0].content);this._history.push(n)}else{const t=YT(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}d=e})),await this._sendPromise,d}async sendMessageStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r,i,s,a,o;await this._sendPromise;const l=iI(e),c={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(r=this.params)||void 0===r?void 0:r.generationConfig,tools:null===(i=this.params)||void 0===i?void 0:i.tools,toolConfig:null===(s=this.params)||void 0===s?void 0:s.toolConfig,systemInstruction:null===(a=this.params)||void 0===a?void 0:a.systemInstruction,cachedContent:null===(o=this.params)||void 0===o?void 0:o.cachedContent,contents:[...this._history,l]},u=Object.assign(Object.assign({},this._requestOptions),t),d=tI(this._apiKey,this.model,c,u);return this._sendPromise=this._sendPromise.then((()=>d)).catch((e=>{throw new Error(cI)})).then((e=>e.response)).then((e=>{if(lI(e)){this._history.push(l);const t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{const t=YT(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}})).catch((e=>{e.message!==cI&&console.error(e)})),d}}class dI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.apiKey=e,this._requestOptions=n,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=rI(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=sI(e),i=Object.assign(Object.assign({},this._requestOptions),t);return nI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},r),i)}async generateContentStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=sI(e),i=Object.assign(Object.assign({},this._requestOptions),t);return tI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},r),i)}startChat(e){var t;return new uI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(t=this.cachedContent)||void 0===t?void 0:t.name},e),this._requestOptions)}async countTokens(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e,t){var n;let r={model:null===t||void 0===t?void 0:t.model,generationConfig:null===t||void 0===t?void 0:t.generationConfig,safetySettings:null===t||void 0===t?void 0:t.safetySettings,tools:null===t||void 0===t?void 0:t.tools,toolConfig:null===t||void 0===t?void 0:t.toolConfig,systemInstruction:null===t||void 0===t?void 0:t.systemInstruction,cachedContent:null===(n=null===t||void 0===t?void 0:t.cachedContent)||void 0===n?void 0:n.name,contents:[]};const i=null!=e.generateContentRequest;if(e.contents){if(i)throw new RT("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const t=iI(e);r.contents=[t]}return{generateContentRequest:r}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){return(await VT(t,FT.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}(this.apiKey,this.model,n,r)}async embedContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e){if("string"===typeof e||Array.isArray(e))return{content:iI(e)};return e}(e),r=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){return(await VT(t,FT.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}(this.apiKey,this.model,n,r)}async batchEmbedContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){const i=n.requests.map((e=>Object.assign(Object.assign({},e),{model:t})));return(await VT(t,FT.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}(this.apiKey,this.model,e,n)}}class hI{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new PT("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new dI(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,n){if(!e.name)throw new RT("Cached content must contain a `name` field.");if(!e.model)throw new RT("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const s of r)if((null===t||void 0===t?void 0:t[s])&&e[s]&&(null===t||void 0===t?void 0:t[s])!==e[s]){if("model"===s){if((t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue}throw new RT(`Different value for "${s}" specified in modelParams (${t[s]}) and cachedContent (${e[s]})`)}const i=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new dI(this.apiKey,i,n)}}function fI(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const pI=r.forwardRef(fI);function mI(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const gI=r.forwardRef(mI);function yI(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const vI=r.forwardRef(yI);function bI(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const xI=r.forwardRef(bI);function wI(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),r.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const _I=r.forwardRef(wI);!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var jI=e=>"number"==typeof e&&!isNaN(e),SI=e=>"string"==typeof e,EI=e=>"function"==typeof e,NI=e=>(0,r.isValidElement)(e)||SI(e)||EI(e)||jI(e);function kI(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:s=!0,collapseDuration:a=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=e,p=i?`${t}--${l}`:t,m=i?`${n}--${l}`:n,g=(0,r.useRef)(0);return(0,r.useLayoutEffect)((()=>{let e=d.current,t=p.split(" "),n=r=>{r.target===d.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,r.useEffect)((()=>{let e=d.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,a):u()};h||(c?t():(g.current=1,e.className+=` ${m}`,e.addEventListener("animationend",t)))}),[h]),r.createElement(r.Fragment,null,o)}}var CI=1,TI=()=>""+CI++;var II=new Map,AI=[],OI=new Set,PI=()=>II.size>0;function MI(e,t){var n;if(t)return!(null==(n=II.get(t))||!n.isToastActive(e));let r=!1;return II.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function DI(e){if(PI()){if(null==e||(e=>SI(e)||jI(e))(e))II.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=II.get(e.containerId);t?t.removeToast(e.id):II.forEach((t=>{t.removeToast(e.id)}))}}else AI=AI.filter((t=>null!=e&&t.options.toastId!==e))}function RI(e,t){NI(e)&&(PI()||AI.push({content:e,options:t}),II.forEach((n=>{n.buildToast(e,t)})))}function LI(e,t){II.forEach((n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)}))}function FI(e){return e&&(SI(e.toastId)||jI(e.toastId))?e.toastId:TI()}function BI(e,t){return RI(e,t),t.toastId}function UI(e,t){return{...t,type:t&&t.type||e,toastId:FI(t)}}function VI(e){return(t,n)=>BI(t,UI(e,n))}function zI(e,t){return BI(e,UI("default",t))}zI.loading=(e,t)=>BI(e,UI("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),zI.promise=function(e,t,n){let r,{pending:i,error:s,success:a}=t;i&&(r=SI(i)?zI.loading(i,n):zI.loading(i.render,{...n,...i}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void zI.dismiss(r);let s={type:e,...o,...n,data:i},a=SI(t)?{render:t}:t;return r?zI.update(r,{...s,...a}):zI(a.render,{...s,...a}),i},c=EI(e)?e():e;return c.then((e=>l("success",a,e))).catch((e=>l("error",s,e))),c},zI.success=VI("success"),zI.info=VI("info"),zI.error=VI("error"),zI.warning=VI("warning"),zI.warn=zI.warning,zI.dark=(e,t)=>BI(e,UI("default",{theme:"dark",...t})),zI.dismiss=function(e){DI(e)},zI.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};II.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},zI.isActive=MI,zI.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=II.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:TI()};s.toastId!==e&&(s.staleId=e);let a=s.render||i;delete s.render,BI(a,s)}},zI.done=e=>{zI.update(e,{progress:1})},zI.onChange=function(e){return OI.add(e),()=>{OI.delete(e)}},zI.play=e=>LI(!0,e),zI.pause=e=>LI(!1,e);"undefined"!=typeof window?r.useLayoutEffect:r.useEffect;var $I=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}};kI($I("bounce",!0)),kI($I("slide",!0)),kI($I("zoom")),kI($I("flip"));function HI(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const qI=r.forwardRef(HI);function WI(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const YI=r.forwardRef(WI),KI=()=>{const e=Array.from({length:10},(()=>({x:100*Math.random(),y:100*Math.random(),speedX:.2*(Math.random()-.5),speedY:.2*(Math.random()-.5)})));return(0,o_.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(((e,t)=>(0,o_.jsx)(nT.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:`${e.x}vw`,y:`${e.y}vh`,opacity:.6},animate:{x:`${e.x+50*e.speedX}vw`,y:`${e.y+50*e.speedY}vh`,opacity:[.6,.8,.6]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}},t)))})},GI=e=>{let{currentTime:t=new Date,user:n,classStatus:i}=e;const{currentUser:s}=c_(),a=te(),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(n.fullName);(0,r.useEffect)((()=>{(async()=>{if(s&&s.uid&&!n.fullName)try{const e=ag(xm(s_,"teachers"),lg("uid","==",s.uid)),t=await Ng(e);if(t.empty)console.warn("No teacher found for UID:",s.uid),u("Unknown Instructor");else{const e=t.docs[0].data();u(e.fullName||"Unknown Instructor")}}catch(Zg){console.error("Error fetching teacher details:",Zg),vT().fire({icon:"error",title:"Error",text:"Failed to fetch teacher details.",confirmButtonColor:"#00b4d8",background:"#1e293b",customClass:{popup:"rounded-xl border border-cyan-800",title:"text-cyan-100",htmlContainer:"text-cyan-300",confirmButton:"bg-cyan-600 hover:bg-cyan-700"}})}})()}),[s,n.fullName]);return(0,o_.jsxs)("nav",{className:"fixed top-0 left-0 right-0 bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 text-white shadow-lg z-50 font-mono",children:[(0,o_.jsx)(KI,{}),(0,o_.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o_.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)("div",{className:"flex-shrink-0",children:(0,o_.jsx)(qI,{className:"h-8 w-8 text-cyan-400"})}),(0,o_.jsxs)("div",{className:"ml-4",children:[(0,o_.jsx)("h1",{className:"text-xl font-semibold text-cyan-100",children:"Smart EcoLock"}),(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:n.department})]})]}),(0,o_.jsx)("div",{className:"flex-1 flex items-center justify-center px-4",children:(0,o_.jsx)(nT.div,{className:`\n                px-6 py-2 rounded-xl backdrop-blur-lg bg-gray-800/80 border border-cyan-800 shadow-xl\n                ${"Class In Session"===i.status?"border-l-green-500":"Starting Soon"===i.status?"border-l-cyan-500":"Classes Ended"===i.status?"border-l-amber-500":"border-l-gray-500"}\n              `,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:(0,o_.jsxs)("div",{className:"flex items-center space-x-3",children:["Class In Session"===i.status?(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-green-400 animate-pulse mr-2"}),(0,o_.jsx)("span",{className:"font-medium text-green-300",children:"Active"})]}):"Starting Soon"===i.status?(0,o_.jsx)(pI,{className:"h-5 w-5 text-cyan-400"}):(0,o_.jsx)(gI,{className:"h-5 w-5 text-amber-400"}),(0,o_.jsxs)("div",{className:"flex flex-col",children:[(0,o_.jsx)("span",{className:"text-sm font-medium text-cyan-100",children:i.status}),(0,o_.jsx)("span",{className:"text-xs text-cyan-300",children:i.details})]})]})})}),(0,o_.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,o_.jsxs)("div",{className:"hidden md:flex flex-col items-end",children:[(0,o_.jsx)("span",{className:"text-sm font-medium text-cyan-100",children:t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}),(0,o_.jsx)("span",{className:"text-xs text-cyan-300",children:"Class Time"})]}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsxs)("button",{onClick:()=>l(!o),className:"flex items-center space-x-3 focus:outline-none hover:opacity-80 transition-opacity",children:[(0,o_.jsxs)("div",{className:"flex flex-col items-end",children:[(0,o_.jsx)("span",{className:"text-sm font-medium text-cyan-100",children:c}),(0,o_.jsx)("span",{className:"text-xs text-cyan-300",children:n.role.charAt(0).toUpperCase()+n.role.slice(1)})]}),(0,o_.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-700/50 flex items-center justify-center border border-cyan-800",children:(0,o_.jsx)(YI,{className:"h-6 w-6 text-cyan-400"})})]}),o&&(0,o_.jsx)(nT.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-48 rounded-xl shadow-xl py-1 bg-gray-800/80 backdrop-blur-lg border border-cyan-800 z-50",children:(0,o_.jsxs)("button",{onClick:async()=>{try{await ss(i_),a("/login"),vT().fire({icon:"success",title:"Logged Out Successfully",text:"You have been logged out of your account.",showConfirmButton:!1,timer:1500,background:"#1e293b",customClass:{popup:"rounded-xl border border-cyan-800",title:"text-cyan-100",htmlContainer:"text-cyan-300"}})}catch(Zg){console.error("Error logging out:",Zg),vT().fire({icon:"error",title:"Logout Failed",text:"There was an error logging out. Please try again.",confirmButtonColor:"#00b4d8",background:"#1e293b",customClass:{popup:"rounded-xl border border-cyan-800",title:"text-cyan-100",htmlContainer:"text-cyan-300",confirmButton:"bg-cyan-600 hover:bg-cyan-700"}})}},className:"flex items-center w-full px-4 py-2 text-sm text-cyan-100 hover:bg-gray-700 transition-colors",children:[(0,o_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]})]})]})})]})};function XI(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const QI=r.forwardRef(XI);function ZI(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const JI=r.forwardRef(ZI);function eA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"}))}const tA=r.forwardRef(eA);function nA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z",clipRule:"evenodd"}),r.createElement("path",{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375Zm9.586 4.594a.75.75 0 0 0-1.172-.938l-2.476 3.096-.908-.907a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.116-.062l3-3.75Z",clipRule:"evenodd"}))}const rA=r.forwardRef(nA);function iA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm5.03 4.72a.75.75 0 0 1 0 1.06l-1.72 1.72h10.94a.75.75 0 0 1 0 1.5H10.81l1.72 1.72a.75.75 0 1 1-1.06 1.06l-3-3a.75.75 0 0 1 0-1.06l3-3a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const sA=r.forwardRef(iA);function aA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const oA=r.forwardRef(aA);function lA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const cA=r.forwardRef(lA);function uA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 0 0-1.032-.211 50.89 50.89 0 0 0-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 0 0 2.433 3.984L7.28 21.53A.75.75 0 0 1 6 21v-4.03a48.527 48.527 0 0 1-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979Z"}),r.createElement("path",{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 0 0 1.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0 0 15.75 7.5Z"}))}const dA=r.forwardRef(uA);function hA(e){let{isOpen:t,onClose:n,title:r,children:i}=e;return t?(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:n,children:(0,o_.jsxs)(nT.div,{initial:{y:20},animate:{y:0},className:"bg-white rounded-lg p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o_.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:r}),(0,o_.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 transition-colors",children:"\u2715"})]}),i]})}):null}const fA=()=>{const e=Array.from({length:30},(()=>({x:100*Math.random(),y:100*Math.random(),speedX:.3*(Math.random()-.5),speedY:.3*(Math.random()-.5)})));return(0,o_.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(((e,t)=>(0,o_.jsx)(nT.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:`${e.x}vw`,y:`${e.y}vh`,opacity:.6},animate:{x:`${e.x+50*e.speedX}vw`,y:`${e.y+50*e.speedY}vh`,opacity:[.6,.8,.6]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}},t)))})},pA=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(""),[s,a]=(0,r.useState)(!1),o=(0,r.useRef)(null),{currentUser:l}=c_(),c=new hI("AIzaSyBYLXhvqwNsxNzMAMcxBlnAulcFOhNQhEk");(0,r.useEffect)((()=>{(()=>{var e;null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()}),[e]);const u=()=>Math.random().toString(36).substr(2,9),d=async()=>{if(!n.trim())return;const e={id:u(),content:n,sender:"user",timestamp:new Date};t((t=>[...t,e])),i("");try{const e=await(async e=>{try{const t=c.getGenerativeModel({model:"gemini-1.5-flash"}),n=`You are a helpful AI assistant that can answer any questions accurately, including about Mark Lloyd Cuizon, Clarence Emmanuel Jamora, and Jean Ricka Rosalita - Creators of Smart EcoLock.\n\nThey are 4th-year BS Computer Engineering students from Cebu Institute of Technology - University (CIT-U). Their project, Smart EcoLock, addresses energy management, attendance control, and security for CIT-U's rooms and offices.\n\nSmart EcoLock utilizes an ESP32 microcontroller for efficient sensor handling and low power consumption, leveraging its dual-core architecture and built-in Wi-Fi capabilities. With occupancy recognition, it detects room usage through a combination of PZEM for power monitoring and weight sensors, automatically turning off lights and electronics in unoccupied rooms to reduce energy waste. LDR (Light-Dependent Resistor) sensors measure ambient light levels, adjusting classroom lighting dynamically to optimize energy use based on natural daylight availability.\n\nAttendance tracking is achieved through a multi-layered approach. Access control data from RFID (Radio-Frequency Identification) tags ensures only authorized individuals enter, logging entry times into a unified database. Additionally, weight sensors embedded in chairs provide precise occupancy detection by measuring the presence of individuals (e.g., detecting weights above a threshold like 20 kg to confirm a person is seated). This data cross-references RFID logs to validate attendance, reducing errors from manual tracking or proxy entries. The system uploads real-time updates to a Firebase Realtime Database, enabling administrators to monitor occupancy and attendance seamlessly.\n\nSecurity is enhanced via RFID authentication, restricting access to authorized personnel and students, while weight sensors add an extra layer of verification by confirming physical presence. The system features a React.js website with a Firebase backend, offering an intuitive interface for monitoring room status, controlling devices, and generating attendance reports.\n\nThis system boosts sustainability by minimizing energy consumption, improves management efficiency with automated tracking, and enhances security at CIT-U through integrated technology.\n\nProvide complete answers, ensuring clarity and professionalism. Always include full code implementations when relevant and internet sources for additional information, even if the question is unrelated to Smart EcoLock. Format responses to facilitate prompt chatbot replies. As an AI assistant helping ${(null===l||void 0===l?void 0:l.fullName)||"a user"} who is an ${(null===l||void 0===l?void 0:l.role)||"user"} at the institution, respond professionally and concisely to the following query: ${e}.`,r=await t.generateContent(n);return(await r.response).text()}catch(Zg){return console.error("Error generating response:",Zg),"Sorry, I encountered an error. Please try again."}})(n),r={id:u(),content:e,sender:"ai",timestamp:new Date};t((e=>[...e,r]))}catch(Zg){console.error("Gemini API Error:",Zg);const n={id:u(),content:"\ud83d\udea8 **Error:** I encountered an issue while processing your request. Please check your input or try again later.",sender:"ai",timestamp:new Date};t((e=>[...e,n]))}},h=()=>a(!s);return(0,o_.jsxs)("div",{className:"fixed bottom-6 right-6 z-50",children:[(0,o_.jsx)("div",{children:s&&(0,o_.jsxs)("div",{className:"w-96 h-[500px] bg-gray-800 rounded-xl shadow-2xl border border-cyan-800 flex flex-col overflow-hidden",children:[(0,o_.jsxs)("div",{className:"bg-gray-900 text-cyan-100 p-4 flex justify-between items-center",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(oA,{className:"w-6 h-6 text-cyan-400"}),(0,o_.jsx)("h2",{className:"text-lg font-semibold",children:"Smart EcoLock Assistant"})]}),(0,o_.jsx)("button",{onClick:h,className:"hover:bg-gray-700 rounded-full p-1 transition-colors",children:(0,o_.jsx)(cA,{className:"w-5 h-5 text-cyan-400"})})]}),(0,o_.jsxs)("div",{className:"flex-grow overflow-y-auto p-4 space-y-3 bg-gray-800",children:[e.map((e=>(0,o_.jsx)("div",{className:"flex "+("user"===e.sender?"justify-end":"justify-start"),children:(0,o_.jsx)("div",{className:"max-w-[80%] px-4 py-2 rounded-xl "+("user"===e.sender?"bg-cyan-700 text-cyan-100":"bg-gray-700 text-white"),children:e.content})},e.id))),(0,o_.jsx)("div",{ref:o})]}),(0,o_.jsxs)("div",{className:"p-4 border-t border-gray-700 flex space-x-2",children:[(0,o_.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&d(),placeholder:"Ask me anything...",className:"flex-grow px-3 py-2 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 bg-gray-700 text-white"}),(0,o_.jsx)("button",{onClick:d,className:"bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700 transition-colors disabled:opacity-50",children:"Send"})]})]})}),(0,o_.jsx)("button",{onClick:h,className:"bg-cyan-600 text-white p-4 rounded-full shadow-2xl hover:bg-cyan-700 transition-colors",children:(0,o_.jsx)(dA,{className:"w-6 h-6"})})]})},mA=()=>{var e,t,n,i,s;const{currentUser:a}=c_(),o=te(),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(new Date),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)([]),[x,w]=(0,r.useState)(!0),[_,j]=(0,r.useState)([]),[S,E]=(0,r.useState)([]),[N,k]=(0,r.useState)(null),[C,T]=(0,r.useState)([]),[I,A]=(0,r.useState)(!0),[O,P]=(0,r.useState)(""),[M,D]=(0,r.useState)({totalStudents:0,totalClasses:0,attendanceRate:0,onTimeRate:0}),[R,L]=(0,r.useState)({}),[F,B]=(0,r.useState)(!1),[U,V]=(0,r.useState)({name:"",code:"",subject:""});(0,r.useEffect)((()=>{if(!a)return void o("/login");const e=setInterval((()=>m(new Date)),1e3);(async()=>{if(a)try{wm(s_,"teachers",a.uid);const t=await Ng(ag(xm(s_,"teachers"),lg("uid","==",a.uid)));let n={};if(t.empty){const e=(await Ng(xm(s_,"teachers"))).docs.find((e=>e.id===a.uid||e.data().uid===a.uid));e&&(n=e.data())}else n=t.docs[0].data();const r=(n.schedules||[]).map((e=>({id:`${a.uid}_${e.subject}_${e.day}`,day:e.day,subject:e.subject,classes:[{time:`${e.startTime} - ${e.endTime}`,subject:e.subject}],room:e.room})));if(c((e=>({...e||{},id:a.uid,fullName:n.fullName||"Instructor",email:n.email||"",department:n.department||"Department",schedules:r,subjects:n.subjects||[],sections:(null===e||void 0===e?void 0:e.sections)||[],teacherData:{assignedStudents:n.assignedStudents||[]}}))),r.length>0&&!h){var e;const t=null===(e=r.find((e=>e.subject)))||void 0===e?void 0:e.subject;t?f(t):r[0].subject&&f(r[0].subject)}}catch(Zg){console.error("Error fetching instructor details:",Zg)}})();const t=Ag(ag(xm(s_,"students"),lg("section","==",h)),(e=>{const t=e.docs.map((e=>{var t;return{id:e.id,fullName:e.data().fullName||e.data().name||"",idNumber:e.data().idNumber||"",email:e.data().email||"",department:e.data().department||"",section:e.data().section||"",major:e.data().major||"",yearLevel:e.data().yearLevel||"",grades:e.data().grades||[],createdAt:e.data().createdAt||new Date,attendance:e.data().attendance||!1,timeIn:e.data().timeIn||null,lastAttendance:(null===(t=e.data().attendanceHistory)||void 0===t?void 0:t[0])||null,year:e.data().yearLevel||"",...e.data()}}));d(t)})),n=Ag(ag(xm(s_,"attendance"),dg("timestamp","desc"),fg(5)),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));b(t)}));return(async()=>{const e=ag(xm(s_,"users"),lg("role","==","student")),t=ag(xm(s_,"schedules")),n=ag(xm(s_,"attendance")),r=Ag(e,(e=>{const r=e.size;Ag(t,(e=>{const t=e.size;Ag(n,(e=>{const n=e.docs.map((e=>e.data())),i=n.length,s=n.filter((e=>"present"===e.status)).length,a=n.filter((e=>"late"!==e.status)).length;D({totalStudents:r,totalClasses:t,attendanceRate:i>0?s/i*100:0,onTimeRate:i>0?a/i*100:0}),w(!1)}))}))}))})(),()=>{clearInterval(e),t(),n()}}),[a,o,h]),(0,r.useEffect)((()=>{if(!a)return;const e=Ag(ag(xm(s_,"students"),lg("teacherId","==",a.uid)),(e=>{const t=e.docs.map((e=>{var t;return{id:e.id,fullName:e.data().name||"",idNumber:e.data().idNumber||"",email:e.data().email||"",department:e.data().department||"",section:e.data().section||"",major:e.data().major||"",yearLevel:e.data().yearLevel||"",grades:e.data().grades||[],createdAt:e.data().createdAt||new Date,attendance:e.data().attendance||!1,timeIn:e.data().timeIn,lastAttendance:(null===(t=e.data().attendanceHistory)||void 0===t?void 0:t[0])||null,year:e.data().yearLevel||"",...e.data()}}));d(t)})),t=Ag(ag(xm(s_,"sections"),lg("teacherId","==",a.uid)),(e=>{const t=e.docs.map((e=>{var t;return{id:e.id,name:e.data().name||"",code:e.data().code||"",studentCount:(null===(t=e.data().students)||void 0===t?void 0:t.length)||0,...e.data()}}));c((e=>({...e,sections:t})))}));return()=>{e(),t()}}),[a]);const z=e=>{const t=e-(new Date).getTime();if(t<=0)return"";const n=Math.floor(t/6e4);if(n<60)return`in ${n} min`;return`in ${Math.floor(n/60)}h ${n%60}m`},$=(e,t)=>!!Array.isArray(e)&&e.includes(t),H=((0,r.useMemo)((()=>{if(null===l||void 0===l||!l.schedules||0===l.schedules.length)return"No upcoming classes";const e=new Date,t=e.getDay(),n=e.toLocaleTimeString("en-US",{hour12:!1}),[r,i]=n.split(":").map(Number),s=60*r+i,a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=[...l.schedules].sort(((e,t)=>{const n=a.indexOf(e.day.substring(0,3)),r=a.indexOf(t.day.substring(0,3));if(n===r){const n=e.classes[0].time.split(" - ")[0],r=t.classes[0].time.split(" - ")[0];return n.localeCompare(r)}return n-r})),c=o.filter((e=>e.day.substring(0,3)===a[t]));for(const l of c){const[e]=l.classes[0].time.split(" - "),[t,n]=e.split(":").map(Number);if(s<60*t+n)return`Today at ${e}`}for(let l=1;l<=7;l++){const e=(t+l)%7,n=o.filter((t=>t.day.substring(0,3)===a[e]));if(n.length>0){const e=n[0],t=e.classes[0].time.split(" - ")[0];return`${1===l?"Tomorrow":e.day} at ${t}`}}return"No upcoming classes"}),[null===l||void 0===l?void 0:l.schedules,p]),(0,r.useMemo)((()=>{if(!_||!Array.isArray(_))return[];const e=(new Date).toLocaleString("en-US",{weekday:"short"});return _.filter((t=>t&&t.day===e&&t.classes&&Array.isArray(t.classes))).sort(((e,t)=>{var n,r,i,s;const a=(null===(n=e.classes)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.time)||"",o=(null===(i=t.classes)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.time)||"";return a.localeCompare(o)}))}),[_])),q=((0,r.useMemo)((()=>_&&Array.isArray(_)?_.filter((e=>e&&e.classes&&Array.isArray(e.classes)&&e.classes.some((e=>e&&e.time)))).slice(0,3):[]),[_]),(0,r.useMemo)((()=>((e,t)=>{if(!e||!e.schedules)return{status:"Loading...",color:"bg-gray-700 text-cyan-200",details:"Fetching schedule information",fullName:"Instructor"};const n=(new Date).toLocaleTimeString("en-US",{hour12:!1}),[r,i]=n.split(":").map(Number),s=60*r+i,a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=[...e.schedules].sort(((e,t)=>{const n=a.indexOf(e.day.substring(0,3)),r=a.indexOf(t.day.substring(0,3));if(n===r){const n=e.classes[0].time.split(" - ")[0],r=t.classes[0].time.split(" - ")[0];return n.localeCompare(r)}return n-r})),l=o.filter((e=>e.day.substring(0,3)===t));if(0===l.length){const n=o.find((e=>a.indexOf(e.day.substring(0,3))>a.indexOf(t)));return{status:"No Classes Today",color:"bg-gray-700 text-cyan-200",details:n?`Next: ${n.day} ${n.classes[0].time}`:"No upcoming classes",fullName:(null===e||void 0===e?void 0:e.fullName)||"Instructor"}}for(const c of l){const[t,n]=c.classes[0].time.split(" - "),[r,i]=t.split(":").map(Number),[a,o]=n.split(":").map(Number),l=60*r+i;if(s>=l&&s<=60*a+o)return{status:"In Class",color:"bg-green-700 text-green-100",details:`${c.subject} until ${n}`,fullName:(null===e||void 0===e?void 0:e.fullName)||"Instructor"};if(s<l){const t=l-s,n=Math.floor(t/60),r=t%60,i=n>0?`${n}h ${r}m`:`${r}m`;return{status:"Next Class",color:"bg-cyan-700 text-cyan-100",details:`${c.subject} in ${i}`,fullName:(null===e||void 0===e?void 0:e.fullName)||"Instructor"}}}return{status:"Classes Finished",color:"bg-gray-700 text-cyan-200",details:"All classes completed for today",fullName:(null===e||void 0===e?void 0:e.fullName)||"Instructor"}})(l,p.toLocaleString("en-US",{weekday:"short"}))),[l,p])),W=(0,r.useMemo)((()=>h?v.filter((e=>e.sectionId===h)):v),[v,h]),Y=(0,r.useMemo)((()=>{var e;const t=W.length,n=(null===l||void 0===l||null===(e=l.sections)||void 0===e?void 0:e.length)||0,r=v.filter((e=>"present"===e.status&&$(W,e.studentId))),i=v.filter((e=>"late"!==e.status&&$(W,e.studentId)));return{totalStudents:t,totalClasses:n,attendanceRate:t>0?(r.length/t*100).toFixed(1):"0.0",onTimeRate:t>0?i.length/t*100:0}}),[W,null===l||void 0===l?void 0:l.sections,v]);(0,r.useEffect)((()=>{if(null===a||void 0===a||!a.uid)return;(async()=>{try{wm(s_,"teachers",a.uid),await Ng(xm(s_,"teachers"));const e=await Ng(ag(xm(s_,"teachers"),lg("uid","==",a.uid)));let t={};e.empty||(t=e.docs[0].data());const[n,r,i]=await Promise.all([Ng(ag(xm(s_,"schedules"),lg("teacherId","==",a.uid),dg("day"))),Ng(ag(xm(s_,"sections"),lg("teacherId","==",a.uid))),Ng(ag(xm(s_,"students"),lg("teacherId","==",a.uid)))]),s=Ag(ag(xm(s_,"subjects"),lg("teacherId","==",a.uid)),(e=>{const s=e.docs.map((e=>({id:e.id,code:e.data().code||"",name:e.data().name||"",...e.data()}))),o=n.docs.map((e=>{var t;return{id:e.id,day:e.data().day||"",subject:e.data().subject||"",classes:(null===(t=e.data().classes)||void 0===t?void 0:t.map((e=>({time:e.time||"",subject:e.subject||""}))))||[],room:e.data().room,...e.data()}})),l=r.docs.map((e=>({id:e.id,name:e.data().name||"",code:e.data().code||"",studentCount:i.docs.filter((t=>t.data().section===e.id)).length,...e.data()})));c({id:a.uid,fullName:t.fullName||"Instructor",email:t.email||"",department:t.department||"",schedules:o,sections:l,subjects:s,teacherData:{assignedStudents:i.docs.map((e=>e.id))}}),w(!1)}));return()=>{s()}}catch(Zg){console.error("Error fetching teacher data:",Zg),zI.error("Failed to load teacher data"),w(!1)}})()}),[a]),(0,r.useEffect)((()=>{if(null===a||void 0===a||!a.uid)return;const e=Ag(ag(xm(s_,"schedules"),lg("teacherId","==",a.uid),dg("timestamp","desc")),(e=>{const t=e.docChanges();t.length>0&&c((e=>{if(!e)return e;const n=[...e.schedules];return t.forEach((e=>{if("modified"===e.type){const t=n.findIndex((t=>t.id===e.doc.id));-1!==t&&(n[t]={id:e.doc.id,...e.doc.data()})}})),{...e,schedules:n}}))}));return()=>e()}),[a]);(0,r.useEffect)((()=>{if(null===a||void 0===a||!a.uid)return;const e=Xw(Hw(a_,"rooms"),(e=>{e.exists()&&L(e.val())}));return()=>{e()}}),[a]);return l?(0,o_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 text-white font-mono relative overflow-hidden",children:[(0,o_.jsx)(fA,{}),(0,o_.jsx)(GI,{currentTime:p,classStatus:{status:q.status,color:q.color,details:q.details,fullName:(null===l||void 0===l?void 0:l.fullName)||"Instructor"},user:{role:(null===a||void 0===a?void 0:a.role)||"instructor",fullName:(null===a||void 0===a?void 0:a.fullName)||"Instructor",department:(null===a||void 0===a?void 0:a.department)||"Department"}}),(0,o_.jsx)("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-16",children:(0,o_.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,o_.jsx)("div",{className:"lg:col-span-8 space-y-6",children:(0,o_.jsxs)(nT.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-8 border border-cyan-800 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsxs)("h1",{className:"text-3xl font-bold text-cyan-100",children:["Welcome, ",((null===l||void 0===l?void 0:l.fullName)||"Instructor").split(" ")[0],"! \ud83d\udcda"]}),(0,o_.jsx)("p",{className:"text-cyan-300 mt-2 text-lg",children:"Your virtual classroom dashboard"})]}),(0,o_.jsx)(nT.div,{initial:{scale:.95},animate:{scale:1},className:`px-6 py-3 rounded-xl text-sm font-medium shadow-lg ${q.color}`,children:(0,o_.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o_.jsx)("span",{className:"font-bold text-lg",children:q.status}),(0,o_.jsx)("span",{className:"text-sm opacity-90",children:q.details})]})})]}),(0,o_.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[{title:"Total Students",value:(null===l||void 0===l||null===(e=l.teacherData)||void 0===e||null===(t=e.assignedStudents)||void 0===t?void 0:t.length)||0,icon:(0,o_.jsx)(tA,{className:"w-6 h-6 text-cyan-400"}),change:"+12% from last month"},{title:"Attendance Rate",value:`${Y.attendanceRate}%`,icon:(0,o_.jsx)(QI,{className:"w-6 h-6 text-cyan-400"}),change:"Average this week"},{title:"Active Classes",value:C.filter((e=>"ongoing"===e.status)).length,icon:(0,o_.jsx)(gI,{className:"w-6 h-6 text-cyan-400"}),change:"Currently ongoing"},{title:"Room Usage",value:"85%",icon:(0,o_.jsx)(vI,{className:"w-6 h-6 text-cyan-400"}),change:"Efficiency rate"}].map(((e,t)=>(0,o_.jsx)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-gray-700 rounded-xl p-6 shadow-sm hover:shadow-md transition-all",children:(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-cyan-200 text-sm",children:e.title}),(0,o_.jsx)("h3",{className:"text-2xl font-bold text-white mt-1",children:e.value}),(0,o_.jsx)("p",{className:"text-cyan-300 text-xs mt-2",children:e.change})]}),(0,o_.jsx)("div",{className:"p-3 rounded-xl bg-gray-600",children:e.icon})]})},e.title)))}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 rounded-xl shadow-lg p-6 mb-8",children:[(0,o_.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o_.jsx)("h2",{className:"text-xl font-semibold text-cyan-100",children:"Performance Analytics"}),(0,o_.jsxs)("select",{className:"text-sm border border-gray-700 rounded-lg px-3 py-2 bg-gray-700 text-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",children:[(0,o_.jsx)("option",{value:"week",children:"This Week"}),(0,o_.jsx)("option",{value:"month",children:"This Month"}),(0,o_.jsx)("option",{value:"semester",children:"This Semester"})]})]}),(0,o_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o_.jsxs)("div",{className:"bg-gray-700 rounded-xl p-4",children:[(0,o_.jsx)("h3",{className:"text-cyan-200 font-medium mb-4",children:"Attendance Trends"}),(0,o_.jsx)("div",{className:"h-48 flex items-end justify-between",children:["Mon","Tue","Wed","Thu","Fri"].map(((e,t)=>(0,o_.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o_.jsx)("div",{className:"w-8 bg-cyan-500 rounded-t-lg",style:{height:100*Math.random()+"%"}}),(0,o_.jsx)("span",{className:"text-xs text-cyan-300 mt-2",children:e})]},e)))})]}),(0,o_.jsxs)("div",{className:"bg-gray-700 rounded-xl p-4",children:[(0,o_.jsx)("h3",{className:"text-cyan-200 font-medium mb-4",children:"Subject Performance"}),(0,o_.jsx)("div",{className:"space-y-4",children:null===l||void 0===l||null===(n=l.subjects)||void 0===n?void 0:n.slice(0,3).map((e=>(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)("div",{className:"w-32 truncate text-cyan-200",children:e.name}),(0,o_.jsx)("div",{className:"flex-1 ml-4",children:(0,o_.jsx)("div",{className:"h-2 bg-gray-600 rounded-full",children:(0,o_.jsx)("div",{className:"h-2 bg-cyan-500 rounded-full",style:{width:100*Math.random()+"%"}})})}),(0,o_.jsxs)("span",{className:"ml-4 text-sm text-cyan-300",children:[Math.floor(100*Math.random()),"%"]})]},e.id)))})]})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-8 border border-cyan-800 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox \\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o_.jsx)("h2",{className:"text-2xl font-bold text-cyan-100",children:"Weekly Schedule"}),(0,o_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o_.jsx)(xI,{className:"h-5 w-5 text-cyan-400"}),(0,o_.jsx)("span",{className:"text-cyan-300 font-medium",children:(new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]}),(0,o_.jsx)("div",{className:"grid grid-cols-5 gap-4",children:["Mon","Tue","Wed","Thu","Fri"].map((e=>{var t;const n=(null===l||void 0===l||null===(t=l.schedules)||void 0===t?void 0:t.filter((t=>t.day.startsWith(e))))||[];return(0,o_.jsxs)("div",{className:"bg-gray-700 rounded-xl shadow-sm p-4",children:[(0,o_.jsx)("h3",{className:"font-semibold text-cyan-100 mb-3",children:e}),(0,o_.jsx)("div",{className:"space-y-2",children:n.length>0?n.map(((e,t)=>{var n;return(0,o_.jsxs)("div",{className:"p-2 bg-gray-600 rounded-lg text-sm",children:[(0,o_.jsx)("p",{className:"font-medium text-cyan-200",children:e.subject}),(0,o_.jsxs)("div",{className:"flex items-center text-cyan-300 mt-1 text-xs",children:[(0,o_.jsx)(pI,{className:"h-3 w-3 mr-1"}),null===(n=e.classes[0])||void 0===n?void 0:n.time,e.room&&(0,o_.jsxs)(o_.Fragment,{children:[(0,o_.jsx)(vI,{className:"h-3 w-3 ml-2 mr-1"}),"Room ",e.room]})]})]},t)})):(0,o_.jsx)("p",{className:"text-sm text-gray-400 text-center",children:"No classes"})})]},e)}))})]})]}),(0,o_.jsx)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,o_.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:null===l||void 0===l||null===(i=l.subjects)||void 0===i?void 0:i.map((e=>(0,o_.jsxs)("div",{className:"bg-gray-700 rounded-xl shadow-sm p-6 hover:shadow-md transition-all",children:[(0,o_.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h3",{className:"font-semibold text-cyan-100",children:e.name}),(0,o_.jsxs)("p",{className:"text-sm text-cyan-300",children:["Code: ",e.code]})]}),(0,o_.jsx)("div",{className:"p-2 bg-gray-600 rounded-lg",children:(0,o_.jsx)(gI,{className:"h-5 w-5 text-cyan-400"})})]}),(0,o_.jsx)("div",{className:"space-y-2",children:l.sections.filter((t=>t.code===e.code)).map((e=>(0,o_.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-600 rounded-lg",children:[(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)(_I,{className:"h-4 w-4 text-cyan-400 mr-2"}),(0,o_.jsx)("span",{className:"text-sm text-cyan-200",children:e.name})]}),(0,o_.jsxs)("span",{className:"text-xs bg-cyan-700 text-cyan-100 px-2 py-1 rounded-full",children:[e.studentCount," students"]})]},e.id)))})]},e.id)))})}),(0,o_.jsx)("div",{className:"grid grid-cols-1 gap-4",children:null===H||void 0===H?void 0:H.map(((e,t)=>(0,o_.jsx)(nT.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"p-6 rounded-xl shadow-lg border-l-4 "+("ongoing"===e.status?"border-l-green-500 bg-gray-700":"upcoming"===e.status?"border-l-cyan-500 bg-gray-700":"border-l-gray-500 bg-gray-700"),children:(0,o_.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o_.jsx)("div",{className:"p-2 rounded-lg "+("ongoing"===e.status?"bg-green-700":"upcoming"===e.status?"bg-cyan-700":"bg-gray-600"),children:(0,o_.jsx)(gI,{className:"h-5 w-5 "+("ongoing"===e.status?"text-green-100":"upcoming"===e.status?"text-cyan-100":"text-gray-100")})}),(0,o_.jsxs)("div",{className:"flex-1",children:[(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsx)("h3",{className:"font-semibold "+("ongoing"===e.status?"text-green-100":"upcoming"===e.status?"text-cyan-100":"text-gray-100"),children:e.subject}),(0,o_.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+("ongoing"===e.status?"bg-green-700 text-green-100":"upcoming"===e.status?"bg-cyan-700 text-cyan-100":"bg-gray-700 text-gray-100"),children:"ongoing"===e.status?"In Progress":"upcoming"===e.status&&e.timestamp?z(e.timestamp):"Completed"})]}),(0,o_.jsxs)("div",{className:"flex items-center mt-1",children:[(0,o_.jsx)(pI,{className:"h-4 w-4 mr-1 "+("ongoing"===e.status?"text-green-400":"upcoming"===e.status?"text-cyan-400":"text-gray-400")}),(0,o_.jsx)("p",{className:"text-sm "+("ongoing"===e.status?"text-green-300":"upcoming"===e.status?"text-cyan-300":"text-gray-300"),children:e.classes&&e.classes.length>0?e.classes[0].time:"No time available"}),e.room&&(0,o_.jsxs)(o_.Fragment,{children:[(0,o_.jsx)(vI,{className:"h-4 w-4 ml-3 mr-1 "+("ongoing"===e.status?"text-green-400":"upcoming"===e.status?"text-cyan-400":"text-gray-400")}),(0,o_.jsxs)("p",{className:"text-sm "+("ongoing"===e.status?"text-green-300":"upcoming"===e.status?"text-cyan-300":"text-gray-300"),children:["Room ",e.room]})]})]})]})]})},e.id)))}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-8 border border-cyan-800 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox \\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,o_.jsx)("h2",{className:"text-2xl font-bold text-cyan-100",children:"Attendance Actions"})}),(0,o_.jsxs)("div",{className:"bg-gray-700 rounded-xl p-6 text-center",children:[(0,o_.jsx)(rA,{className:"h-12 w-12 text-cyan-400 mx-auto mb-4"}),(0,o_.jsx)("h3",{className:"text-lg font-semibold text-cyan-100 mb-2",children:"Take Attendance Now"}),(0,o_.jsx)("p",{className:"text-cyan-300 mb-4",children:"Redirect to the attendance taking interface"}),(0,o_.jsxs)(Ce,{to:"/instructor/take-attendance",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-cyan-600 hover:bg-cyan-700 transition-colors",children:[(0,o_.jsx)(rA,{className:"h-5 w-5 mr-2"}),"Go to Attendance Page"]})]})]})]})]})]})}),(0,o_.jsx)("div",{className:"lg:col-span-4 space-y-6",children:(0,o_.jsxs)(nT.section,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-6 border border-cyan-800 mt-6 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox \\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsx)("h3",{className:"text-lg font-semibold text-cyan-100 mb-4",children:"Room Occupancy"}),(0,o_.jsx)("div",{className:"space-y-3",children:S.slice(0,5).map(((e,t)=>(0,o_.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,o_.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o_.jsx)("div",{className:"p-2 rounded-full "+("entry"===e.status?"bg-green-700":"bg-red-700"),children:"entry"===e.status?(0,o_.jsx)(_I,{className:"h-4 w-4 text-green-100"}):(0,o_.jsx)(sA,{className:"h-4 w-4 text-red-100"})}),(0,o_.jsxs)("div",{children:[(0,o_.jsxs)("p",{className:"text-sm font-medium text-cyan-100",children:["Room ",e.room]}),(0,o_.jsx)("p",{className:"text-xs text-cyan-300",children:new Date(e.timestamp).toLocaleTimeString()})]})]}),(0,o_.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+("entry"===e.status?"bg-green-700 text-green-100":"bg-red-700 text-red-100"),children:"entry"===e.status?"Entry":"Exit"})]},t)))})]})]})})]})}),(0,o_.jsx)(hA,{isOpen:F,onClose:()=>B(!1),title:"Create New Section",children:(0,o_.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),U.name&&U.code&&U.subject)try{await Ig(xm(s_,"sections"),{name:U.name,code:U.code,subject:U.subject,teacherId:null===a||void 0===a?void 0:a.uid,createdAt:new Date}),B(!1),V({name:"",code:"",subject:""}),vT().fire("Success","Section created successfully!","success")}catch(Zg){console.error("Error creating section:",Zg),vT().fire("Error","Failed to create section","error")}},className:"space-y-4 p-6 bg-gray-800 rounded-xl",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"Section Name"}),(0,o_.jsx)("input",{type:"text",value:U.name,onChange:e=>V({...U,name:e.target.value}),className:"w-full p-2 border border-gray-700 rounded-lg bg-gray-700 text-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"e.g., Section A",required:!0})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"Section Code"}),(0,o_.jsx)("input",{type:"text",value:U.code,onChange:e=>V({...U,code:e.target.value}),className:"w-full p-2 border border-gray-700 rounded-lg bg-gray-700 text-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"e.g., SEC-A",required:!0})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"Subject"}),(0,o_.jsxs)("select",{value:U.subject,onChange:e=>V({...U,subject:e.target.value}),className:"w-full p-2 border border-gray-700 rounded-lg bg-gray-700 text-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0,children:[(0,o_.jsx)("option",{value:"",children:"Select Subject"}),null===l||void 0===l||null===(s=l.subjects)||void 0===s?void 0:s.map((e=>(0,o_.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,o_.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,o_.jsx)("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 text-cyan-200 hover:bg-gray-700 rounded-lg",children:"Cancel"}),(0,o_.jsx)("button",{type:"submit",className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700",children:"Create Section"})]})]})}),(0,o_.jsx)(pA,{})]}):(0,o_.jsx)("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800",children:(0,o_.jsx)("div",{className:"w-12 h-12 border-t-2 border-b-2 border-cyan-500 rounded-full animate-spin"})})};function gA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),r.createElement("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"}))}const yA=r.forwardRef(gA),vA=()=>{const e=Array.from({length:30},(()=>({x:100*Math.random(),y:100*Math.random(),speedX:.3*(Math.random()-.5),speedY:.3*(Math.random()-.5)})));return(0,o_.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(((e,t)=>(0,o_.jsx)(nT.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:`${e.x}vw`,y:`${e.y}vh`,opacity:.6},animate:{x:`${e.x+50*e.speedX}vw`,y:`${e.y+50*e.speedY}vh`,opacity:[.6,.8,.6]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}},t)))})},bA=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(!1),s=te();return(0,o_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 text-white font-mono relative overflow-hidden flex items-center justify-center",children:[(0,o_.jsx)(vA,{}),(0,o_.jsxs)(nT.div,{className:"max-w-lg w-full mx-auto bg-gray-800 rounded-xl shadow-2xl p-6 relative overflow-hidden border border-cyan-800",initial:{opacity:0,scale:.9,rotate:-5},animate:{opacity:1,scale:1,rotate:0},transition:{duration:.8,type:"spring",stiffness:80},children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"flex flex-col items-center mb-4 relative z-10",children:[(0,o_.jsx)(nT.div,{initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:100,delay:.2},children:(0,o_.jsx)(iT,{className:"w-16 h-16 text-cyan-400 mb-2 animate-pulse"})}),(0,o_.jsx)(nT.h1,{className:"text-3xl font-bold text-cyan-100 mb-1",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:"Reset Password"}),(0,o_.jsx)("p",{className:"text-cyan-300 text-center text-sm",children:"Enter your email to reset your password"})]}),(0,o_.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0);try{await async function(e,t,n){const r=yi(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ts(r,i,n),await Si(r,i,"getOobCode",Oi)}(i_,e),vT().fire({icon:"success",title:"Email Sent",text:"Check your inbox for a password reset link.",showConfirmButton:!1,timer:1500,background:"#F9FAFB",iconColor:"#22d3ee"}),s("/login")}catch(Zg){console.error("Error sending password reset email:",Zg),vT().fire({icon:"error",title:"Error",text:Zg instanceof Error?Zg.message:"Failed to send reset email",confirmButtonColor:"#22d3ee",background:"#F9FAFB"})}finally{i(!1)}},className:"space-y-4 relative z-10",children:[(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"Email"}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,o_.jsx)(yA,{className:"w-5 h-5 text-cyan-500"})}),(0,o_.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white placeholder-gray-400",placeholder:"Enter your email",required:!0}),e&&(0,o_.jsx)(lT,{className:"w-5 h-5 text-cyan-500 absolute right-3 top-1/2 transform -translate-y-1/2"})]})]}),(0,o_.jsx)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,type:"spring",stiffness:100},children:(0,o_.jsx)("button",{type:"submit",disabled:n,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold p-3 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 shadow-lg hover:shadow-cyan-500/50",children:n?(0,o_.jsx)("span",{className:"animate-spin",children:(0,o_.jsx)(gT,{className:"w-5 h-5"})}):(0,o_.jsxs)(o_.Fragment,{children:["Reset Password",(0,o_.jsx)(lT,{className:"w-5 h-5"})]})})}),(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.5},className:"text-center mt-4",children:(0,o_.jsxs)("p",{className:"text-gray-400 text-sm",children:["Remembered your password?"," ",(0,o_.jsx)(Ce,{to:"/login",className:"text-cyan-400 hover:text-cyan-300 font-semibold hover:underline transition-all duration-300",children:"Sign in"})]})})]})]})]})};function xA(){const e=(0,r.useRef)(!1);return m_((()=>(e.current=!0,()=>{e.current=!1})),[]),e}class wA extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _A(e){let{children:t,isPresent:n}=e;const i=(0,r.useId)(),s=(0,r.useRef)(null),a=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)((()=>{const{width:e,height:t,top:r,left:o}=a.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=i;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${i}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${r}px !important;\n            left: ${o}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[n]),r.createElement(wA,{isPresent:n,childRef:s,sizeRef:a},r.cloneElement(t,{ref:s}))}const jA=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l}=e;const c=Rj(SA),u=(0,r.useId)(),d=(0,r.useMemo)((()=>({id:u,initial:n,isPresent:i,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()},register:e=>(c.set(e,!1),()=>c.delete(e))})),o?void 0:[i]);return(0,r.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[i]),r.useEffect((()=>{!i&&!c.size&&s&&s()}),[i]),"popLayout"===l&&(t=r.createElement(_A,{isPresent:i},t)),r.createElement(f_.Provider,{value:d},t)};function SA(){return new Map}const EA=e=>e.key||"";const NA=e=>{let{children:t,custom:n,initial:i=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:l="sync"}=e;_S(!a,"Replace exitBeforeEnter with mode='wait'");const c=(0,r.useContext)(I_).forceRender||function(){const e=xA(),[t,n]=(0,r.useState)(0),i=(0,r.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,r.useCallback)((()=>qj.postRender(i)),[i]),t]}()[0],u=xA(),d=function(e){const t=[];return r.Children.forEach(e,(e=>{(0,r.isValidElement)(e)&&t.push(e)})),t}(t);let h=d;const f=(0,r.useRef)(new Map).current,p=(0,r.useRef)(h),m=(0,r.useRef)(new Map).current,g=(0,r.useRef)(!0);if(m_((()=>{g.current=!1,function(e,t){e.forEach((e=>{const n=EA(e);t.set(n,e)}))}(d,m),p.current=h})),function(e){(0,r.useEffect)((()=>()=>e()),[])}((()=>{g.current=!0,m.clear(),f.clear()})),g.current)return r.createElement(r.Fragment,null,h.map((e=>r.createElement(jA,{key:EA(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:o,mode:l},e))));h=[...h];const y=p.current.map(EA),v=d.map(EA),b=y.length;for(let r=0;r<b;r++){const e=y[r];-1!==v.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(h=[]),f.forEach(((e,t)=>{if(-1!==v.indexOf(t))return;const i=m.get(t);if(!i)return;const a=y.indexOf(t);let g=e;if(!g){const e=()=>{f.delete(t);const e=Array.from(m.keys()).filter((e=>!v.includes(e)));if(e.forEach((e=>m.delete(e))),p.current=d.filter((n=>{const r=EA(n);return r===t||e.includes(r)})),!f.size){if(!1===u.current)return;c(),s&&s()}};g=r.createElement(jA,{key:EA(i),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:o,mode:l},i),f.set(t,g)}h.splice(a,0,g)})),h=h.map((e=>{const t=e.key;return f.has(t)?e:r.createElement(jA,{key:EA(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)})),r.createElement(r.Fragment,null,f.size?h:h.map((e=>(0,r.cloneElement)(e))))};function kA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const CA=r.forwardRef(kA);function TA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const IA=r.forwardRef(TA);function AA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 2.994v2.25m10.5-2.25v2.25m-14.252 13.5V7.491a2.25 2.25 0 0 1 2.25-2.25h13.5a2.25 2.25 0 0 1 2.25 2.25v11.251m-18 0a2.25 2.25 0 0 0 2.25 2.25h13.5a2.25 2.25 0 0 0 2.25-2.25m-18 0v-7.5a2.25 2.25 0 0 1 2.25-2.25h13.5a2.25 2.25 0 0 1 2.25 2.25v7.5m-6.75-6h2.25m-9 2.25h4.5m.002-2.25h.005v.006H12v-.006Zm-.001 4.5h.006v.006h-.006v-.005Zm-2.25.001h.005v.006H9.75v-.006Zm-2.25 0h.005v.005h-.006v-.005Zm6.75-2.247h.005v.005h-.005v-.005Zm0 2.247h.006v.006h-.006v-.006Zm2.25-2.248h.006V15H16.5v-.005Z"}))}const OA=r.forwardRef(AA);function PA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const MA=r.forwardRef(PA);function DA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const RA=r.forwardRef(DA);function LA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 14.25v2.25m3-4.5v4.5m3-6.75v6.75m3-9v9M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"}))}const FA=r.forwardRef(LA);function BA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const UA=r.forwardRef(BA);function VA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const zA=r.forwardRef(VA);function $A(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"}))}const HA=r.forwardRef($A);function qA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5"}))}const WA=r.forwardRef(qA);function YA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const KA=r.forwardRef(YA),GA=()=>{const[e,t]=(0,r.useState)(!1),n=J(),{logout:i}=c_(),s=[{name:"Dashboard",icon:CA,path:"/admin/dashboard"},{name:"Users",icon:IA,path:"/admin/users"},{name:"Schedules",icon:OA,path:"/admin/schedules"},{name:"Subjects",icon:gI,path:"/admin/subjects-management"},{name:"Sections",icon:MA,path:"/admin/sections"},{name:"Instructors",icon:qI,path:"/admin/teachers"},{name:"Students",icon:qI,path:"/admin/students"},{name:"Rooms",icon:RA,path:"/admin/rooms"},{name:"Insights",icon:FA,path:"/admin/insights"},{name:"Energy Usage",icon:UA,path:"/admin/energyusage"},{name:"Settings",icon:zA,path:"/admin/settings"}];return(0,o_.jsx)("div",{className:"fixed inset-y-0 left-0 bg-white border-r border-gray-200 transition-all duration-300 "+(e?"w-20":"w-64"),children:(0,o_.jsxs)("div",{className:"flex flex-col h-full",children:[(0,o_.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-200",children:[!e&&(0,o_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o_.jsx)(qI,{className:"w-8 h-8 text-indigo-600"}),(0,o_.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"Admin"})]}),e&&(0,o_.jsx)(qI,{className:"w-8 h-8 text-indigo-600 mx-auto"}),(0,o_.jsx)("button",{onClick:()=>t(!e),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e?(0,o_.jsx)(HA,{className:"w-5 h-5 text-gray-500"}):(0,o_.jsx)(WA,{className:"w-5 h-5 text-gray-500"})})]}),(0,o_.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:s.map((t=>{const r=n.pathname===t.path;return(0,o_.jsxs)(Ce,{to:t.path,className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-colors "+(r?"bg-indigo-50 text-indigo-600":"text-gray-700 hover:bg-gray-50"),title:e?t.name:"",children:[(0,o_.jsx)(t.icon,{className:"w-5 h-5 flex-shrink-0"}),!e&&(0,o_.jsx)("span",{className:"text-sm font-medium truncate",children:t.name})]},t.name)}))}),(0,o_.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,o_.jsxs)("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors "+(e?"justify-center":"w-full"),title:e?"Logout":"",children:[(0,o_.jsx)(KA,{className:"w-5 h-5"}),!e&&(0,o_.jsx)("span",{children:"Logout"})]})})]})})};function XA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const QA=r.forwardRef(XA);function ZA(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M11.7 2.805a.75.75 0 0 1 .6 0A60.65 60.65 0 0 1 22.83 8.72a.75.75 0 0 1-.231 1.337 49.948 49.948 0 0 0-9.902 3.912l-.003.002c-.114.06-.227.119-.34.18a.75.75 0 0 1-.707 0A50.88 50.88 0 0 0 7.5 12.173v-.224c0-.131.067-.248.172-.311a54.615 54.615 0 0 1 4.653-2.52.75.75 0 0 0-.65-1.352 56.123 56.123 0 0 0-4.78 2.589 1.858 1.858 0 0 0-.859 1.228 49.803 49.803 0 0 0-4.634-1.527.75.75 0 0 1-.231-1.337A60.653 60.653 0 0 1 11.7 2.805Z"}),r.createElement("path",{d:"M13.06 15.473a48.45 48.45 0 0 1 7.666-3.282c.134 1.414.22 2.843.255 4.284a.75.75 0 0 1-.46.711 47.87 47.87 0 0 0-8.105 4.342.75.75 0 0 1-.832 0 47.87 47.87 0 0 0-8.104-4.342.75.75 0 0 1-.461-.71c.035-1.442.121-2.87.255-4.286.921.304 1.83.634 2.726.99v1.27a1.5 1.5 0 0 0-.14 2.508c-.09.38-.222.753-.397 1.11.452.213.901.434 1.346.66a6.727 6.727 0 0 0 .551-1.607 1.5 1.5 0 0 0 .14-2.67v-.645a48.549 48.549 0 0 1 3.44 1.667 2.25 2.25 0 0 0 2.12 0Z"}),r.createElement("path",{d:"M4.462 19.462c.42-.419.753-.89 1-1.395.453.214.902.435 1.347.662a6.742 6.742 0 0 1-1.286 1.794.75.75 0 0 1-1.06-1.06Z"}))}const JA=r.forwardRef(ZA);function eO(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z"}))}const tO=r.forwardRef(eO);function nO(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const rO=r.forwardRef(nO);function iO(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const sO=r.forwardRef(iO);function aO(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const oO=r.forwardRef(aO);function lO(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const cO=r.forwardRef(lO);function uO(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M15 3.75H9v16.5h6V3.75ZM16.5 20.25h3.375c1.035 0 1.875-.84 1.875-1.875V5.625c0-1.036-.84-1.875-1.875-1.875H16.5v16.5ZM4.125 3.75H7.5v16.5H4.125a1.875 1.875 0 0 1-1.875-1.875V5.625c0-1.036.84-1.875 1.875-1.875Z"}))}const dO=r.forwardRef(uO);function hO(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),r.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const fO=r.forwardRef(hO),pO=(Math.pow(10,8),6048e5),mO=6e4,gO=36e5,yO=43200,vO=Symbol.for("constructDateFrom");function bO(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&vO in e?e[vO](t):e instanceof Date?new e.constructor(t):new Date(t)}function xO(e){return bO(e,Date.now())}const wO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function _O(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const jO={date:_O({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:_O({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:_O({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},SO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function EO(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const NO={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:EO({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:EO({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:EO({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:EO({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:EO({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function kO(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,(e=>e.test(a)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}const CO={ordinalNumber:(TO={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(TO.matchPattern);if(!n)return null;const r=n[0],i=e.match(TO.parsePattern);if(!i)return null;let s=TO.valueCallback?TO.valueCallback(i[0]):i[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:kO({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:kO({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:kO({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:kO({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:kO({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var TO;const IO={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=wO[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:jO,formatRelative:(e,t,n,r)=>SO[e],localize:NO,match:CO,options:{weekStartsOn:0,firstWeekContainsDate:1}};let AO={};function OO(){return AO}function PO(e,t){return bO(t||e,e)}function MO(e){const t=PO(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function DO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=bO.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(i)}function RO(e,t){const n=+PO(e)-+PO(t);return n<0?-1:n>0?1:n}function LO(e,t,n){const[r,i]=DO(n?.in,e,t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}function FO(e,t){const n=PO(e,t?.in);return n.setHours(23,59,59,999),n}function BO(e,t){const n=PO(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function UO(e,t){const n=PO(e,t?.in);return+FO(n,t)===+BO(n,t)}function VO(e,t,n){const[r,i,s]=DO(n?.in,e,e,t),a=RO(i,s),o=Math.abs(LO(i,s));if(o<1)return 0;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let l=RO(i,s)===-a;UO(r)&&1===o&&1===RO(r,s)&&(l=!1);const c=a*(o-+l);return 0===c?0:c}function zO(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return 0===n?0:n}}function $O(e,t){return+PO(e)-+PO(t)}function HO(e,t,n){const r=$O(e,t)/1e3;return zO(n?.roundingMethod)(r)}function qO(e,t,n){const r=OO(),i=n?.locale??r.locale??IO,s=RO(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:s}),[o,l]=DO(n?.in,...s>0?[t,e]:[e,t]),c=HO(l,o),u=(MO(l)-MO(o))/1e3,d=Math.round((c-u)/60);let h;if(d<2)return n?.includeSeconds?c<5?i.formatDistance("lessThanXSeconds",5,a):c<10?i.formatDistance("lessThanXSeconds",10,a):c<20?i.formatDistance("lessThanXSeconds",20,a):c<40?i.formatDistance("halfAMinute",0,a):c<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):0===d?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",d,a);if(d<45)return i.formatDistance("xMinutes",d,a);if(d<90)return i.formatDistance("aboutXHours",1,a);if(d<1440){const e=Math.round(d/60);return i.formatDistance("aboutXHours",e,a)}if(d<2520)return i.formatDistance("xDays",1,a);if(d<yO){const e=Math.round(d/1440);return i.formatDistance("xDays",e,a)}if(d<86400)return h=Math.round(d/yO),i.formatDistance("aboutXMonths",h,a);if(h=VO(l,o),h<12){const e=Math.round(d/yO);return i.formatDistance("xMonths",e,a)}{const e=h%12,t=Math.trunc(h/12);return e<3?i.formatDistance("aboutXYears",t,a):e<9?i.formatDistance("overXYears",t,a):i.formatDistance("almostXYears",t+1,a)}}function WO(e,t){return qO(e,xO(e),t)}const YO=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(null),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)({totalUsers:0,totalStudents:0,totalTeachers:0,totalSubjects:0,activeClasses:0}),[f,p]=(0,r.useState)([]),[m,g]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"teachers"),n=((await Ng(e)).docs.map((e=>({id:e.id,...e.data()}))),xm(s_,"teachers")),r=await Ng(n),i=await Promise.all(r.docs.map((async e=>{const t=e.data(),n=t.subjects?await Promise.all(t.subjects.map((async e=>{const t=await Sg(wm(s_,"teachers",e));return t.exists()?{id:t.id,...t.data()}:null}))):[],r=t.schedules?t.schedules.map((e=>{var n;return{...e,subject:(null===(n=t.subjects.find((t=>t.id===e.subject)))||void 0===n?void 0:n.name)||e.subject}})):[];return{id:e.id,...t,fullName:t.fullName||t.name||"Unknown Teacher",name:t.name||t.fullName||"Unknown Teacher",subjects:n.filter(Boolean),schedules:r}})));t(i)}catch(Zg){console.error("Error fetching teachers data:",Zg),vT().fire({icon:"error",title:"Error",text:"Failed to fetch teachers data"})}})()}),[]),(0,r.useEffect)((()=>{(async()=>{try{const t=xm(s_,"users"),n=xm(s_,"students"),r=xm(s_,"teachers"),i=xm(s_,"subjects"),s=xm(s_,"classes"),[a,o,l,c,u]=await Promise.all([Ng(t),Ng(n),Ng(r),Ng(i),ag(s,lg("status","==","active"))]),d=ag(s,lg("status","==","active")),f=await Ng(d);h({totalUsers:a.size,totalStudents:o.size,totalTeachers:l.size,totalSubjects:c.size,activeClasses:f.size});const m=ag(xm(s_,"recentactivities"),dg("timestamp","desc"),fg(10)),g=(await Ng(m)).docs.map((e=>{const t=e.data();return{id:e.id,type:t.type,title:t.title,description:t.description,timestamp:t.timestamp.toDate(),icon:void 0}})).map((e=>({...e,icon:b(e.type)})));p(g),e.length>0&&await y(e[0])}catch(Zg){console.error("Error fetching dashboard data:",Zg),vT().fire({icon:"error",title:"Fetch Error",text:"Unable to load dashboard data. Please try again later."})}})()}),[]),(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"teachers"),t=await Ng(e),n=await Promise.all(t.docs.map((async e=>{const t={id:e.id,...e.data()},n=ag(xm(s_,"users"),lg("id","==",e.id)),r=await Ng(n);if(!r.empty){const e=r.docs[0].data();return{...t,...e}}return t})));g(n.filter((e=>"instructor"===e.role)))}catch(Zg){console.error("Error fetching instructors:",Zg),vT().fire({icon:"error",title:"Fetch Error",text:"Failed to fetch instructor details"})}})()}),[]),(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"teachers"),t=await Ng(e),n=[],r=[],i=new Map;for(const a of t.docs){const e=a.data();e.subjects&&Array.isArray(e.subjects)&&n.push(...e.subjects)}const s=n.map((async e=>{try{const t=wm(s_,"teachers",e),n=await Sg(t);if(n.exists()){const{id:t,...r}=n.data();i.set(e,{id:n.id,...r})}}catch(Zg){console.error(`Error fetching subject ${e}:`,Zg)}}));await Promise.all(s);for(const a of t.docs){const e=a.data();if(e.schedules&&Array.isArray(e.schedules)){const t=e.schedules.map((t=>{const n=t.subject?i.get(t.subject):void 0;return{day:t.day||"N/A",startTime:t.startTime||"N/A",endTime:t.endTime||"N/A",section:t.section||"N/A",room:t.room||"",teacherName:e.name||"Unknown Teacher",subject:n||t.subject||"N/A"}}));r.push(...t)}}const o=[...new Set(n)],c=r.reduce(((e,t)=>e.find((e=>e.day===t.day&&e.startTime===t.startTime&&e.endTime===t.endTime))?e:e.concat([t])),[]);a(o),l(c)}catch(Zg){console.error("Error fetching teacher details:",Zg),vT().fire({icon:"error",title:"Fetch Error",text:"Failed to fetch teacher subjects and schedules"})}})()}),[]);const y=async e=>{try{var t;const n=wm(s_,"teachers",e.id),r=(await Sg(n)).data();if(!r)throw new Error("Teacher data not found");const s=(null===(t=r.subjects)||void 0===t?void 0:t.length)>0?Promise.all(r.subjects.map((async e=>{try{const t=await Sg(wm(s_,"subjects",e));return t.exists()?{id:t.id,...t.data()}:null}catch(t){return console.error(`Error fetching subject ${e}:`,t),null}}))).then((e=>e.filter((e=>null!==e)))):Promise.resolve([]),o=r.schedules?r.schedules.map((e=>{var t,n;return{...e,subject:(null===(t=r.subjects)||void 0===t||null===(n=t.find((t=>t.id===e.subject)))||void 0===n?void 0:n.name)||e.subject}})):[],[c,u]=await Promise.all([s,o]),d={id:e.id,fullName:r.fullName||r.name||"Unknown Teacher",name:r.name||r.fullName||"Unknown Teacher",email:r.email,department:r.department||"Unassigned",role:"instructor",subjects:c,schedules:u,uid:r.uid};i(d),a(c.map((e=>e.id))),l(u)}catch(Zg){console.error("Error fetching teacher details:",Zg),vT().fire({icon:"error",title:"Error",text:"Failed to load teacher details"})}},v=(e,t,n,r)=>(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"\n        p-6 rounded-2xl shadow-lg \n        bg-white text-gray-800\n        flex items-center space-x-4\n        transform transition-all hover:scale-105\n      ",children:[(0,o_.jsx)("div",{className:`p-4 rounded-full ${r} bg-opacity-20 text-opacity-80`,children:n}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:e}),(0,o_.jsx)("p",{className:"text-2xl font-bold",children:t})]})]}),b=e=>{switch(e){case"user_added":return(0,o_.jsx)(QA,{className:"w-5 h-5 text-blue-500"});case"class_created":return(0,o_.jsx)(JA,{className:"w-5 h-5 text-green-500"});case"subject_updated":return(0,o_.jsx)(tO,{className:"w-5 h-5 text-purple-500"});case"teacher_assigned":return(0,o_.jsx)(_I,{className:"w-5 h-5 text-indigo-500"});default:return(0,o_.jsx)(rO,{className:"w-5 h-5 text-gray-500"})}};return(0,o_.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-100 transition-colors duration-300",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("div",{className:`flex-1 transition-all duration-300 ease-in-out ${c?"ml-20":"ml-64"} overflow-y-auto`,children:(0,o_.jsxs)("div",{className:"overflow-y-auto max-h-screen p-8 space-y-8",children:[(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,o_.jsx)("h1",{className:"text-4xl font-extrabold mb-4  bg-clip-text text-transparent  bg-gradient-to-r  from-blue-600 via-indigo-500 to-purple-600 ",children:"Admin Dashboard"}),(0,o_.jsx)("p",{className:"text-lg text-gray-600",children:"Comprehensive overview of your institution's performance"})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-4 gap-6 mb-8",children:[v("Total Users",d.totalUsers,(0,o_.jsx)(_I,{className:"w-8 h-8 text-blue-500"}),"bg-blue-100"),v("Total Students",d.totalStudents,(0,o_.jsx)(JA,{className:"w-8 h-8 text-green-500"}),"bg-green-100"),v("Total Teachers",d.totalTeachers,(0,o_.jsx)(tO,{className:"w-8 h-8 text-purple-500"}),"bg-purple-100"),v("Active Classes",d.activeClasses,(0,o_.jsx)(sO,{className:"w-8 h-8 text-red-500"}),"bg-red-100")]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},className:"\n        bg-white \n        rounded-xl \n        shadow-md \n        p-6 \n        mb-6\n      ",children:[(0,o_.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activities"}),f.length>0?(0,o_.jsx)("div",{className:"space-y-4",children:(0,o_.jsx)(NA,{children:f.map((e=>(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},whileHover:{scale:1.02},className:"\n                  bg-gray-50 \n                  p-4 \n                  rounded-lg \n                  flex \n                  items-center \n                  justify-between\n                  hover:bg-gray-100\n                  transition\n                ",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-4",children:[e.icon,(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h3",{className:"font-medium",children:e.title}),(0,o_.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]}),(0,o_.jsx)("div",{className:"text-xs font-light text-gray-500",children:WO(e.timestamp,{addSuffix:!0})})]},e.id)))})}):(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,o_.jsx)("p",{className:"text-center text-gray-500",children:"No recent activities"})},"no-activities")]}),(0,o_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"\n                  rounded-2xl p-6 \n                  bg-white border border-gray-200\n                  shadow-lg\n                ",children:[(0,o_.jsxs)("h2",{className:"text-2xl font-semibold mb-6 flex items-center justify-center",children:[(0,o_.jsx)(_I,{className:"w-8 h-8 mr-3 text-indigo-600"}),"Teachers"]}),(0,o_.jsx)("div",{className:"space-y-4 max-h-[500px] overflow-y-auto",children:e.map((e=>(0,o_.jsx)(nT.div,{whileHover:{scale:1.03},className:"\n                        p-4 rounded-lg cursor-pointer transition-all \n                        bg-gray-100 hover:bg-gray-200\n                        border\n                        border-gray-200\n                      ",onClick:()=>y(e),children:(0,o_.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o_.jsx)("div",{className:"w-12 h-12 rounded-full bg-indigo-500 flex items-center justify-center text-white font-bold shadow-md",children:e.name.charAt(0)}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h4",{className:"font-semibold",children:e.name}),(0,o_.jsx)("p",{className:"text-sm text-gray-600",children:e.department})]})]})},e.id)))})]}),(0,o_.jsx)(nT.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"\n                  rounded-2xl p-6 \n                  bg-white border border-gray-200\n                  shadow-lg\n                  min-h-[600px]\n                ",children:n?(0,o_.jsxs)("div",{className:"space-y-6",children:[(0,o_.jsxs)("div",{className:"flex flex-col items-center text-center border-b pb-6  border-gray-200",children:[(0,o_.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br  from-indigo-500 to-purple-600 flex items-center  justify-center text-white font-bold text-4xl  shadow-2xl mb-4",children:n.name.charAt(0)}),(0,o_.jsx)("h2",{className:"text-2xl font-bold  bg-clip-text text-transparent  bg-gradient-to-r  from-blue-600 via-indigo-500 to-purple-600",children:n.name}),(0,o_.jsx)("p",{className:"text-sm mt-2 text-gray-600",children:n.department})]}),(0,o_.jsxs)("div",{className:"space-y-4",children:[(0,o_.jsxs)("h3",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,o_.jsx)(oO,{className:"w-6 h-6 mr-3 text-indigo-600"}),"Schedules"]}),o.length>0?(0,o_.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(((e,t)=>(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-all",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(cO,{className:"w-5 h-5 text-indigo-500"}),(0,o_.jsx)("span",{className:"font-semibold text-gray-700",children:e.day})]}),(0,o_.jsx)("span",{className:"text-sm text-gray-500",children:e.teacherName})]}),(0,o_.jsxs)("div",{className:"space-y-2",children:[(0,o_.jsxs)("div",{className:"flex justify-between",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(oO,{className:"w-4 h-4 text-gray-500"}),(0,o_.jsxs)("span",{className:"text-sm",children:["Start: ",e.startTime]})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(oO,{className:"w-4 h-4 text-gray-500"}),(0,o_.jsxs)("span",{className:"text-sm",children:["End: ",e.endTime]})]})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(dO,{className:"w-4 h-4 text-gray-500"}),(0,o_.jsxs)("span",{className:"text-sm",children:["Section: ",e.section]})]}),e.room&&(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(fO,{className:"w-4 h-4 text-gray-500"}),(0,o_.jsxs)("span",{className:"text-sm",children:["Room: ",e.room]})]}),e.subject&&(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(tO,{className:"w-4 h-4 text-gray-500"}),(0,o_.jsxs)("span",{className:"text-sm",children:["Subject: ","object"===typeof e.subject?e.subject.name:e.subject]})]})]})]},t)))}):(0,o_.jsx)("div",{className:"text-center text-gray-500 py-8",children:(0,o_.jsx)("p",{children:"No schedules found"})})]})]}):(0,o_.jsx)("div",{className:"flex items-center justify-center h-full text-center",children:(0,o_.jsx)("p",{className:"text-gray-500 italic",children:"Select a teacher to view details"})})})]})]})})]})},KO=e=>{let{children:t,roles:n}=e;const{currentUser:r}=c_();if(!r)return(0,o_.jsx)(ge,{to:"/login",replace:!0});if(n&&!n.includes(r.role)){const e={admin:"/admin/dashboard",instructor:"/instructor/dashboard",student:"/students/dashboard"};return(0,o_.jsx)(ge,{to:e[r.role]||"/login",replace:!0})}return t};function GO(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const XO=r.forwardRef(GO);function QO(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M3.75 4.5a.75.75 0 0 1 .75-.75h.75c8.284 0 15 6.716 15 15v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75C18 11.708 12.292 6 5.25 6H4.5a.75.75 0 0 1-.75-.75V4.5Zm0 6.75a.75.75 0 0 1 .75-.75h.75a8.25 8.25 0 0 1 8.25 8.25v.75a.75.75 0 0 1-.75.75H12a.75.75 0 0 1-.75-.75v-.75a6 6 0 0 0-6-6H4.5a.75.75 0 0 1-.75-.75v-.75Zm0 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"}))}const ZO=r.forwardRef(QO),JO=()=>{const e=Array.from({length:30},(()=>({x:100*Math.random(),y:100*Math.random(),speedX:.3*(Math.random()-.5),speedY:.3*(Math.random()-.5)})));return(0,o_.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(((e,t)=>(0,o_.jsx)(nT.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:`${e.x}vw`,y:`${e.y}vh`,opacity:.6},animate:{x:`${e.x+50*e.speedX}vw`,y:`${e.y+50*e.speedY}vh`,opacity:[.6,.8,.6]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}},t)))})},eP=()=>{const[e,t]=(0,r.useState)({fullName:"",idNumber:"",email:"",password:"",confirmPassword:"",rfidUid:""}),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)([]),o=te();(0,r.useEffect)((()=>{const e=Hw(a_,"/UnregisteredUIDs"),t=e=>{const t=e.val();if(t)if("object"===typeof t&&null!==t){const e=Object.entries(t).map((e=>{let[t,n]=e;return"string"===typeof n?n:t}));a(e)}else a([]);else a([])};return Xw(e,t),()=>{Qw(e,"value",t)}}),[]);const l=(e,n)=>{t((t=>({...t,[e]:n})))};return(0,o_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 text-white font-mono relative overflow-hidden",children:[(0,o_.jsx)(JO,{}),(0,o_.jsx)("div",{className:"flex-1 p-6 md:p-10 relative z-10",children:(0,o_.jsxs)(nT.div,{className:"max-w-lg mx-auto bg-gray-800 rounded-xl shadow-2xl p-8 relative overflow-hidden border border-cyan-800",initial:{opacity:0,scale:.9,rotate:-5},animate:{opacity:1,scale:1,rotate:0},transition:{duration:.8,type:"spring",stiffness:80},children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"flex flex-col items-center mb-6 relative z-10",children:[(0,o_.jsx)(nT.div,{initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:100,delay:.2},children:(0,o_.jsx)(iT,{className:"w-16 h-16 text-cyan-400 mb-4 animate-pulse"})}),(0,o_.jsx)(nT.h1,{className:"text-3xl font-bold text-cyan-100 mb-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:"Admin Registration"}),(0,o_.jsx)("p",{className:"text-cyan-300 text-center",children:"Secure your access to SmartEcoLock"})]}),(0,o_.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0);try{if(e.password!==e.confirmPassword)throw new Error("Passwords do not match");if(!e.rfidUid&&s.length>0)throw new Error("Please select an RFID UID");const t=await rs(i_,e.email,e.password);if(await kg(wm(s_,"users",t.user.uid),{uid:t.user.uid,fullName:e.fullName,idNumber:e.idNumber,email:e.email,role:"admin",rfidUid:e.rfidUid,createdAt:(new Date).toISOString()}),e.rfidUid){const t=Hw(a_,`/UnregisteredUIDs/${e.rfidUid}`);await Ww(t,null)}vT().fire({icon:"success",title:"Admin Registration Successful!",text:"Welcome to SmartEcoLock System",showConfirmButton:!1,timer:2e3,background:"#1e293b",iconColor:"#22d3ee"}),o("/login")}catch(Zg){console.error("Admin Registration error:",Zg),vT().fire({icon:"error",title:"Admin Registration Failed",text:Zg instanceof Error?Zg.message:"An error occurred",confirmButtonColor:"#22d3ee",background:"#1e293b"})}finally{i(!1)}},className:"space-y-6 relative z-10",children:[(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"Full Name"}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,o_.jsx)(aT,{className:"w-5 h-5 text-cyan-500"})}),(0,o_.jsx)("input",{type:"text",className:"w-full pl-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white placeholder-gray-400",value:e.fullName,onChange:e=>l("fullName",e.target.value),required:!0,placeholder:"Enter your full name"}),e.fullName&&(0,o_.jsx)(lT,{className:"w-5 h-5 text-cyan-500 absolute right-3 top-1/2 transform -translate-y-1/2"})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.5,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"ID Number"}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,o_.jsx)(XO,{className:"w-5 h-5 text-cyan-500"})}),(0,o_.jsx)("input",{type:"text",className:"w-full pl-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white placeholder-gray-400",value:e.idNumber,onChange:e=>l("idNumber",e.target.value),required:!0,placeholder:"Enter your ID number"}),e.idNumber&&(0,o_.jsx)(lT,{className:"w-5 h-5 text-cyan-500 absolute right-3 top-1/2 transform -translate-y-1/2"})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.6,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"Email"}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,o_.jsx)(yA,{className:"w-5 h-5 text-cyan-500"})}),(0,o_.jsx)("input",{type:"email",className:"w-full pl-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white placeholder-gray-400",value:e.email,onChange:e=>l("email",e.target.value),required:!0,placeholder:"Enter your email"}),e.email.includes("@")&&(0,o_.jsx)(lT,{className:"w-5 h-5 text-cyan-500 absolute right-3 top-1/2 transform -translate-y-1/2"})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.7,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"RFID UID"}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,o_.jsx)(ZO,{className:"w-5 h-5 text-cyan-500"})}),(0,o_.jsxs)("select",{className:"w-full pl-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white",value:e.rfidUid,onChange:e=>l("rfidUid",e.target.value),required:s.length>0,children:[(0,o_.jsx)("option",{value:"",className:"text-gray-500",children:"Select RFID UID"}),s.map(((e,t)=>(0,o_.jsx)("option",{value:e,className:"text-white",children:e},t)))]}),e.rfidUid&&(0,o_.jsx)(lT,{className:"w-5 h-5 text-cyan-500 absolute right-3 top-1/2 transform -translate-y-1/2"})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.8,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"Password"}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,o_.jsx)(uT,{className:"w-5 h-5 text-cyan-500"})}),(0,o_.jsx)("input",{type:"password",className:"w-full pl-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white placeholder-gray-400",value:e.password,onChange:e=>l("password",e.target.value),required:!0,placeholder:"Enter your password"})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.9,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"Confirm Password"}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,o_.jsx)(uT,{className:"w-5 h-5 text-cyan-500"})}),(0,o_.jsx)("input",{type:"password",className:"w-full pl-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white placeholder-gray-400",value:e.confirmPassword,onChange:e=>l("confirmPassword",e.target.value),required:!0,placeholder:"Confirm your password"}),e.confirmPassword===e.password&&e.confirmPassword&&(0,o_.jsx)(lT,{className:"w-5 h-5 text-cyan-500 absolute right-3 top-1/2 transform -translate-y-1/2"})]})]}),(0,o_.jsx)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,type:"spring",stiffness:100},children:(0,o_.jsxs)("button",{type:"submit",disabled:n,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold p-3 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 shadow-lg hover:shadow-cyan-500/50",children:[n?(0,o_.jsx)("span",{className:"animate-spin",children:(0,o_.jsx)(iT,{className:"w-5 h-5"})}):(0,o_.jsx)(iT,{className:"w-5 h-5"}),"Register as Admin"]})}),(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1,duration:.5},className:"text-center mt-4",children:(0,o_.jsxs)("p",{className:"text-gray-400",children:["Already have an account?"," ",(0,o_.jsx)(Ce,{to:"/login",className:"text-cyan-400 hover:text-cyan-300 font-semibold hover:underline transition-all duration-300",children:"Login Here"})]})})]})]})})]})};function tP(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"}))}const nP=r.forwardRef(tP),rP=e=>{var t,n,i,s;let{instructorfullName:a}=e;const{currentUser:o}=c_(),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[g,y]=(0,r.useState)(null),[v,b]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const e=ag(xm(s_,"teachers"),lg("fullName","==",a)),t=await Ng(e);if(t.docs.length>0){const e=t.docs[0].data(),n={id:t.docs[0].id,name:e.fullName,email:e.email,department:e.department,subjects:e.subjects||[],schedules:e.schedules||[],sections:e.sections||[]};c(n);const r=ag(xm(s_,"teachers"),lg("instructor","==",a)),i=await Ng(r),s=await Promise.all(i.docs.map((async e=>{const t={id:e.id,...e.data()},n=ag(xm(s_,"students"),lg("section","==",t.name),lg("course","==",t.course),lg("subject","==",t.subjectCode)),r=await Ng(n);return t.students=r.docs.map((e=>({id:e.id,...e.data()}))),t})));d(s)}else vT().fire("Error","Instructor not found.","error")}catch(Zg){vT().fire("Error",Zg instanceof Error?Zg.message:"Failed to load data","error")}})()}),[a]);const x=async(e,t)=>{try{await Cg(wm(s_,"students",e),{attendance:t,timeIn:t?(new Date).toISOString():null}),d((n=>n.map((n=>({...n,students:n.students.map((n=>n.id===e?{...n,attendance:t}:n))}))))),vT().fire({icon:"success",title:"Updated!",showConfirmButton:!1,timer:1500})}catch(Zg){vT().fire("Error",Zg instanceof Error?Zg.message:"Update failed","error")}};return(0,o_.jsx)("div",{className:"flex min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,o_.jsx)("div",{className:"ml-64 flex-1",children:(0,o_.jsxs)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[(0,o_.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,o_.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-3",children:[(0,o_.jsx)(rA,{className:"w-8 h-8 text-indigo-600"}),p?(0,o_.jsxs)(o_.Fragment,{children:[(null===l||void 0===l||null===(t=l.subjects)||void 0===t||null===(n=t.find((e=>e.code===p)))||void 0===n?void 0:n.name)||"Subject"," - Attendance"]}):"Select a Subject"]})}),p&&g?(0,o_.jsxs)(o_.Fragment,{children:[(0,o_.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:u.filter((e=>e.subjectCode===p)).map((e=>(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-sm cursor-pointer transition-all "+(h===e.id?"ring-2 ring-indigo-500":"hover:shadow-md"),onClick:()=>f((t=>t===e.id?"":e.id)),children:[(0,o_.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,o_.jsx)(nP,{className:"w-6 h-6 text-indigo-500"}),(0,o_.jsx)("h3",{className:"text-xl font-semibold",children:e.name})]}),(0,o_.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,o_.jsxs)("p",{children:[(0,o_.jsx)("span",{className:"font-medium",children:"Course:"})," ",e.course]}),(0,o_.jsxs)("p",{children:[(0,o_.jsx)("span",{className:"font-medium",children:"Subject:"})," ",e.subjectCode]}),(0,o_.jsxs)("p",{children:[(0,o_.jsx)("span",{className:"font-medium",children:"Students:"})," ",e.students.length,"/",e.maxStudents]}),(0,o_.jsxs)("p",{children:[(0,o_.jsx)("span",{className:"font-medium",children:"Schedule:"})," ",g.days.join(", ")," ",g.startTime," -"," ",g.endTime]})]})]},e.id)))}),h&&(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white p-6 rounded-xl shadow-sm",children:[(0,o_.jsxs)("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-3",children:[(0,o_.jsx)(tA,{className:"w-6 h-6 text-gray-500"}),"Students in ",null===(i=u.find((e=>e.id===h)))||void 0===i?void 0:i.name]}),(0,o_.jsx)("div",{className:"grid gap-4",children:null===(s=u.find((e=>e.id===h)))||void 0===s?void 0:s.students.map((e=>(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,o_.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"font-medium",children:e.name}),(0,o_.jsxs)("p",{className:"text-sm text-gray-500",children:["ID: ",e.studentId]}),(0,o_.jsxs)("p",{className:"text-sm text-gray-500",children:["Section: ",e.section]})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsxs)("p",{className:"text-sm text-gray-500",children:["Course: ",e.course]}),(0,o_.jsxs)("p",{className:"text-sm text-gray-500",children:["Year: ",e.year]}),e.timeIn&&(0,o_.jsxs)("p",{className:"text-sm text-gray-500",children:["Last attended:"," ",new Date(e.timeIn).toLocaleString()]})]})]}),(0,o_.jsxs)("div",{className:"flex gap-2",children:[(0,o_.jsx)("button",{onClick:()=>x(e.id,!0),className:`p-2 rounded-lg ${e.attendance?"bg-green-500":"bg-gray-200"} hover:bg-green-600`,children:(0,o_.jsx)(lT,{className:"w-5 h-5 text-white"})}),(0,o_.jsx)("button",{onClick:()=>x(e.id,!1),className:`p-2 rounded-lg ${e.attendance?"bg-gray-200":"bg-red-500"} hover:bg-red-600`,children:(0,o_.jsx)(cA,{className:"w-5 h-5 text-white"})})]})]},e.id)))})]})]}):(0,o_.jsxs)("div",{className:"text-center text-gray-500 py-12",children:[(0,o_.jsx)(tO,{className:"w-16 h-16 mx-auto mb-4"}),(0,o_.jsx)("h2",{className:"text-xl font-semibold",children:"Select a Subject and Schedule to View Sections"})]})]})})})};function iP(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M11.484 2.17a.75.75 0 0 1 1.032 0 11.209 11.209 0 0 0 7.877 3.08.75.75 0 0 1 .722.515 12.74 12.74 0 0 1 .635 3.985c0 5.942-4.064 10.933-9.563 12.348a.749.749 0 0 1-.374 0C6.314 20.683 2.25 15.692 2.25 9.75c0-1.39.223-2.73.635-3.985a.75.75 0 0 1 .722-.516l.143.001c2.996 0 5.718-1.17 7.734-3.08ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75ZM12 15a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75v-.008a.75.75 0 0 0-.75-.75H12Z",clipRule:"evenodd"}))}const sP=r.forwardRef(iP);function aP(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z",clipRule:"evenodd"}))}const oP=r.forwardRef(aP),lP=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[s,a]=(0,r.useState)("all"),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=Ag(ag(xm(s_,"securityLogs"),dg("timestamp","desc")),(e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));t(n),i(!1)}),(e=>{console.error("Error fetching security logs:",e),vT().fire({icon:"error",title:"Error",text:"Failed to fetch security logs. Please try again later."}),i(!1)}));return()=>e()}),[]);const f=e.filter((e=>{const t="all"===s||e.status===s,n=e.event.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase())||e.user.toLowerCase().includes(o.toLowerCase())||e.deviceId&&e.deviceId.toLowerCase().includes(o.toLowerCase());return t&&n})),p=e=>{switch(e){case"success":return"bg-green-100 text-green-800 border-green-300";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"error":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},m=e=>{switch(e){case"success":return(0,o_.jsx)(iT,{className:"h-5 w-5 text-green-600"});case"warning":return(0,o_.jsx)(sP,{className:"h-5 w-5 text-yellow-600"});case"error":return(0,o_.jsx)(cA,{className:"h-5 w-5 text-red-600"});default:return(0,o_.jsx)(sP,{className:"h-5 w-5 text-gray-600"})}},g=e=>{const t=e.toDate();return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t)};return(0,o_.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,o_.jsxs)("div",{className:"p-8 h-full flex flex-col",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o_.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Security Logs"}),(0,o_.jsxs)("div",{className:"flex space-x-4",children:[(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsxs)("button",{onClick:()=>u(!c),className:"flex items-center px-4 py-2 bg-white rounded-lg shadow-sm hover:bg-gray-50 border border-gray-200",children:[(0,o_.jsx)(oP,{className:"h-5 w-5 text-gray-500 mr-2"}),(0,o_.jsx)("span",{className:"capitalize",children:s})]}),c&&(0,o_.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg z-10 border border-gray-200",children:["all","success","warning","error"].map((e=>(0,o_.jsx)("button",{onClick:()=>{a(e),u(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg capitalize "+(s===e?"bg-indigo-50 text-indigo-700":""),children:e},e)))})]}),(0,o_.jsx)("div",{className:"relative",children:(0,o_.jsx)("input",{type:"text",placeholder:"Search logs...",value:o,onChange:e=>l(e.target.value),className:"w-64 px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})})]})]}),(0,o_.jsx)("div",{className:"flex-1 bg-white rounded-lg shadow overflow-hidden border border-gray-200",children:(0,o_.jsx)("div",{className:"overflow-x-auto",children:(0,o_.jsx)("div",{className:"inline-block min-w-full align-middle",children:(0,o_.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 240px)"},children:n?(0,o_.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o_.jsx)(gT,{className:"h-8 w-8 text-gray-400 animate-spin"})}):0===f.length?(0,o_.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,o_.jsx)(sP,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,o_.jsx)("p",{className:"text-gray-500 text-lg",children:"No security logs found"})]}):(0,o_.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o_.jsx)("thead",{className:"bg-gray-50",children:(0,o_.jsxs)("tr",{children:[(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"})]})}),(0,o_.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map((e=>(0,o_.jsxs)(nT.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"hover:bg-gray-50 transition-colors",children:[(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o_.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${p(e.status)}`,children:[m(e.status),(0,o_.jsx)("span",{className:"ml-1.5 capitalize",children:e.status})]})}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o_.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.event})}),(0,o_.jsx)("td",{className:"px-6 py-4",children:(0,o_.jsx)("div",{className:"text-sm text-gray-500 max-w-md truncate",children:e.description})}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)(aT,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,o_.jsx)("div",{className:"text-sm text-gray-900",children:e.user})]})}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)(cO,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,o_.jsx)("div",{className:"text-sm text-gray-500",children:g(e.timestamp)})]})})]},e.id)))})]})})})})})]})})]})};function cP(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M4.5 2.25a.75.75 0 0 0 0 1.5v16.5h-.75a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5h-.75V3.75a.75.75 0 0 0 0-1.5h-15ZM9 6a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H9Zm-.75 3.75A.75.75 0 0 1 9 9h1.5a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM9 12a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H9Zm3.75-5.25A.75.75 0 0 1 13.5 6H15a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM13.5 9a.75.75 0 0 0 0 1.5H15A.75.75 0 0 0 15 9h-1.5Zm-.75 3.75a.75.75 0 0 1 .75-.75H15a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM9 19.5v-2.25a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-4.5A.75.75 0 0 1 9 19.5Z",clipRule:"evenodd"}))}const uP=r.forwardRef(cP);function dP(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const hP=r.forwardRef(dP);function fP(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z",clipRule:"evenodd"}))}const pP=r.forwardRef(fP);function mP(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v9a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM6.166 5.106a.75.75 0 0 1 0 1.06 8.25 8.25 0 1 0 11.668 0 .75.75 0 1 1 1.06-1.06c3.808 3.807 3.808 9.98 0 13.788-3.807 3.808-9.98 3.808-13.788 0-3.808-3.807-3.808-9.98 0-13.788a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const gP=r.forwardRef(mP);function yP(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const vP=r.forwardRef(yP);function bP(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M12 .75a8.25 8.25 0 0 0-4.135 15.39c.686.398 1.115 1.008 1.134 1.623a.75.75 0 0 0 .577.706c.352.083.71.148 1.074.195.323.041.6-.218.6-.544v-4.661a6.714 6.714 0 0 1-.937-.171.75.75 0 1 1 .374-1.453 5.261 5.261 0 0 0 2.626 0 .75.75 0 1 1 .374 1.452 6.712 6.712 0 0 1-.937.172v4.66c0 .327.277.586.6.545.364-.047.722-.112 1.074-.195a.75.75 0 0 0 .577-.706c.02-.615.448-1.225 1.134-1.623A8.25 8.25 0 0 0 12 .75Z"}),r.createElement("path",{fillRule:"evenodd",d:"M9.013 19.9a.75.75 0 0 1 .877-.597 11.319 11.319 0 0 0 4.22 0 .75.75 0 1 1 .28 1.473 12.819 12.819 0 0 1-4.78 0 .75.75 0 0 1-.597-.876ZM9.754 22.344a.75.75 0 0 1 .824-.668 13.682 13.682 0 0 0 2.844 0 .75.75 0 1 1 .156 1.492 15.156 15.156 0 0 1-3.156 0 .75.75 0 0 1-.668-.824Z",clipRule:"evenodd"}))}const xP=r.forwardRef(bP);function wP(e){return e+.5|0}const _P=(e,t,n)=>Math.max(Math.min(e,n),t);function jP(e){return _P(wP(2.55*e),0,255)}function SP(e){return _P(wP(255*e),0,255)}function EP(e){return _P(wP(e/2.55)/100,0,1)}function NP(e){return _P(wP(100*e),0,100)}const kP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},CP=[..."0123456789ABCDEF"],TP=e=>CP[15&e],IP=e=>CP[(240&e)>>4]+CP[15&e],AP=e=>(240&e)>>4===(15&e);function OP(e){var t=(e=>AP(e.r)&&AP(e.g)&&AP(e.b)&&AP(e.a))(e)?TP:IP;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const PP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MP(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function DP(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function RP(e,t,n){const r=MP(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function LP(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;let o,l,c;return i!==s&&(c=i-s,l=a>.5?c/(2-i-s):c/(i+s),o=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),o=60*o+.5),[0|o,l||0,a]}function FP(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(SP)}function BP(e,t,n){return FP(MP,e,t,n)}function UP(e){return(e%360+360)%360}function VP(e){const t=PP.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?jP(+t[5]):SP(+t[5]));const i=UP(+t[2]),s=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return FP(RP,e,t,n)}(i,s,a):"hsv"===t[1]?function(e,t,n){return FP(DP,e,t,n)}(i,s,a):BP(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}const zP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$P={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let HP;function qP(e){HP||(HP=function(){const e={},t=Object.keys($P),n=Object.keys(zP);let r,i,s,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,zP[s]);s=parseInt($P[a],16),e[o]=[s>>16&255,s>>8&255,255&s]}return e}(),HP.transparent=[0,0,0,0]);const t=HP[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const WP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const YP=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,KP=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function GP(e,t,n){if(e){let r=LP(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=BP(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function XP(e,t){return e?Object.assign(t||{},e):e}function QP(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=SP(e[3]))):(t=XP(e,{r:0,g:0,b:0,a:1})).a=SP(t.a),t}function ZP(e){return"r"===e.charAt(0)?function(e){const t=WP.exec(e);let n,r,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?jP(e):_P(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?jP(n):_P(n,0,255)),r=255&(t[4]?jP(r):_P(r,0,255)),i=255&(t[6]?jP(i):_P(i,0,255)),{r:n,g:r,b:i,a:s}}}(e):VP(e)}class JP{constructor(e){if(e instanceof JP)return e;const t=typeof e;let n;"object"===t?n=QP(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*kP[e[1]],g:255&17*kP[e[2]],b:255&17*kP[e[3]],a:5===n?17*kP[e[4]]:255}:7!==n&&9!==n||(t={r:kP[e[1]]<<4|kP[e[2]],g:kP[e[3]]<<4|kP[e[4]],b:kP[e[5]]<<4|kP[e[6]],a:9===n?kP[e[7]]<<4|kP[e[8]]:255})),t}(e)||qP(e)||ZP(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=XP(this._rgb);return e&&(e.a=EP(e.a)),e}set rgb(e){this._rgb=QP(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${EP(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?OP(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=LP(e),n=t[0],r=NP(t[1]),i=NP(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${EP(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const s=t===i?.5:t,a=2*s-1,o=n.a-r.a,l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=KP(EP(e.r)),i=KP(EP(e.g)),s=KP(EP(e.b));return{r:SP(YP(r+n*(KP(EP(t.r))-r))),g:SP(YP(i+n*(KP(EP(t.g))-i))),b:SP(YP(s+n*(KP(EP(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new JP(this.rgb)}alpha(e){return this._rgb.a=SP(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=wP(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return GP(this._rgb,2,e),this}darken(e){return GP(this._rgb,2,-e),this}saturate(e){return GP(this._rgb,1,e),this}desaturate(e){return GP(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=LP(e);n[0]=UP(n[0]+t),n=BP(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function eM(){}const tM=(()=>{let e=0;return()=>e++})();function nM(e){return null===e||void 0===e}function rM(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function iM(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function sM(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function aM(e,t){return sM(e)?e:t}function oM(e,t){return"undefined"===typeof e?t:e}const lM=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function cM(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function uM(e,t,n,r){let i,s,a;if(rM(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(iM(e))for(a=Object.keys(e),s=a.length,i=0;i<s;i++)t.call(n,e[a[i]],a[i])}function dM(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function hM(e){if(rM(e))return e.map(hM);if(iM(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=hM(e[n[i]]);return t}return e}function fM(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function pM(e,t,n,r){if(!fM(e))return;const i=t[e],s=n[e];iM(i)&&iM(s)?mM(i,s,r):t[e]=hM(s)}function mM(e,t,n){const r=rM(t)?t:[t],i=r.length;if(!iM(e))return e;const s=(n=n||{}).merger||pM;let a;for(let o=0;o<i;++o){if(a=r[o],!iM(a))continue;const t=Object.keys(a);for(let r=0,i=t.length;r<i;++r)s(t[r],e,a,n)}return e}function gM(e,t){return mM(e,t,{merger:yM})}function yM(e,t,n){if(!fM(e))return;const r=t[e],i=n[e];iM(r)&&iM(i)?gM(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=hM(i))}const vM={"":e=>e,x:e=>e.x,y:e=>e.y};function bM(e,t){const n=vM[t]||(vM[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function xM(e){return e.charAt(0).toUpperCase()+e.slice(1)}const wM=e=>"undefined"!==typeof e,_M=e=>"function"===typeof e,jM=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const SM=Math.PI,EM=2*SM,NM=EM+SM,kM=Number.POSITIVE_INFINITY,CM=SM/180,TM=SM/2,IM=SM/4,AM=2*SM/3,OM=Math.log10,PM=Math.sign;function MM(e,t,n){return Math.abs(e-t)<n}function DM(e){const t=Math.round(e);e=MM(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(OM(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function RM(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function LM(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function FM(e){return e*(SM/180)}function BM(e){return e*(180/SM)}function UM(e){if(!sM(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function VM(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*SM&&(s+=EM),{angle:s,distance:i}}function zM(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $M(e,t){return(e-t+NM)%EM-SM}function HM(e){return(e%EM+EM)%EM}function qM(e,t,n,r){const i=HM(e),s=HM(t),a=HM(n),o=HM(s-i),l=HM(a-i),c=HM(i-s),u=HM(i-a);return i===s||i===a||r&&s===a||o>l&&c<u}function WM(e,t,n){return Math.max(t,Math.min(n,e))}function YM(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function KM(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const GM=(e,t,n,r)=>KM(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),XM=(e,t,n)=>KM(e,n,(r=>e[r][t]>=n));const QM=["push","pop","shift","splice","unshift"];function ZM(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(QM.forEach((t=>{delete e[t]})),delete e._chartjs)}function JM(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const eD="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function tD(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n=s,r||(r=!0,eD.call(window,(()=>{r=!1,e.apply(t,n)})))}}const nD=e=>"start"===e?"left":"end"===e?"right":"center",rD=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function iD(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:a,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=a.axis,{min:d,max:h,minDefined:f,maxDefined:p}=a.getUserBounds();if(f){if(i=Math.min(GM(l,u,d).lo,n?r:GM(t,u,a.getPixelForValue(d)).lo),c){const e=l.slice(0,i+1).reverse().findIndex((e=>!nM(e[o.axis])));i-=Math.max(0,e)}i=WM(i,0,r-1)}if(p){let e=Math.max(GM(l,a.axis,h,!0).hi+1,n?0:GM(t,u,a.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!nM(e[o.axis])));e+=Math.max(0,t)}s=WM(e,i,r)-i}else s=r-i}return{start:i,count:s}}function sD(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const aD=e=>0===e||1===e,oD=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*EM/n),lD=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*EM/n)+1,cD={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*TM),easeOutSine:e=>Math.sin(e*TM),easeInOutSine:e=>-.5*(Math.cos(SM*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>aD(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>aD(e)?e:oD(e,.075,.3),easeOutElastic:e=>aD(e)?e:lD(e,.075,.3),easeInOutElastic(e){const t=.1125;return aD(e)?e:e<.5?.5*oD(2*e,t,.45):.5+.5*lD(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-cD.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*cD.easeInBounce(2*e):.5*cD.easeOutBounce(2*e-1)+.5};function uD(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function dD(e){return uD(e)?e:new JP(e)}function hD(e){return uD(e)?e:new JP(e).saturate(.5).darken(.1).hexString()}const fD=["x","y","borderWidth","radius","tension"],pD=["color","borderColor","backgroundColor"];const mD=new Map;function gD(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=mD.get(n);return r||(r=new Intl.NumberFormat(e,t),mD.set(n,r)),r}(t,n).format(e)}const yD={values:e=>rM(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=OM(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),gD(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(OM(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?yD.numeric.call(this,e,t,n):""}};var vD={formatters:yD};const bD=Object.create(null),xD=Object.create(null);function wD(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function _D(e,t,n){return"string"===typeof t?mM(wD(e,t),n):mM(wD(e,""),t)}class jD{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>hD(t.backgroundColor),this.hoverBorderColor=(e,t)=>hD(t.borderColor),this.hoverColor=(e,t)=>hD(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return _D(this,e,t)}get(e){return wD(this,e)}describe(e,t){return _D(xD,e,t)}override(e,t){return _D(bD,e,t)}route(e,t,n,r){const i=wD(this,e),s=wD(this,n),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=s[r];return iM(e)?Object.assign({},t,e):oM(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach((e=>e(this)))}}var SD=new jD({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:pD},numbers:{type:"number",properties:fD}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function ED(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function ND(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function kD(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function CD(e,t,n,r){TD(e,t,n,r,null)}function TD(e,t,n,r,i){let s,a,o,l,c,u,d,h;const f=t.pointStyle,p=t.rotation,m=t.radius;let g=(p||0)*CM;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,m,0,0,EM):e.arc(n,r,m,0,EM),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=AM,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=AM,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,a=Math.cos(g+IM)*l,d=Math.cos(g+IM)*(i?i/2-c:l),o=Math.sin(g+IM)*l,h=Math.sin(g+IM)*(i?i/2-c:l),e.arc(n-d,r-o,c,g-SM,g-TM),e.arc(n+h,r-a,c,g-TM,g),e.arc(n+d,r+o,c,g,g+TM),e.arc(n-h,r+a,c,g+TM,g+SM),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}g+=IM;case"rectRot":d=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+h,r-a),e.lineTo(n+d,r+o),e.lineTo(n-h,r+a),e.closePath();break;case"crossRot":g+=IM;case"cross":d=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"star":d=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a),g+=IM,d=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"line":a=i?i/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function ID(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function AD(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function OD(e){e.restore()}function PD(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function MD(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function DD(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,u),e.lineTo(o,u),e.stroke()}}function RD(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function LD(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=rM(t)?t:[t],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),nM(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&RD(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),nM(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),DD(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function FD(e,t){const{x:n,y:r,w:i,h:s,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*SM,SM,!0),e.lineTo(n,r+s-a.bottomLeft),e.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,SM,TM,!0),e.lineTo(n+i-a.bottomRight,r+s),e.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,TM,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-TM,!0),e.lineTo(n+a.topLeft,r)}const BD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,UD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function VD(e,t){const n=(""+e).match(BD);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const zD=e=>+e||0;function $D(e,t){const n={},r=iM(t),i=r?Object.keys(t):t,s=iM(e)?r?n=>oM(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of i)n[a]=zD(s(a));return n}function HD(e){return $D(e,{top:"y",right:"x",bottom:"y",left:"x"})}function qD(e){return $D(e,["topLeft","topRight","bottomLeft","bottomRight"])}function WD(e){const t=HD(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function YD(e,t){e=e||{},t=t||SD.font;let n=oM(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=oM(e.style,t.style);r&&!(""+r).match(UD)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:oM(e.family,t.family),lineHeight:VD(oM(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:oM(e.weight,t.weight),string:""};return i.string=function(e){return!e||nM(e.size)||nM(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function KD(e,t,n,r){let i,s,a,o=!0;for(i=0,s=e.length;i<s;++i)if(a=e[i],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),o=!1),void 0!==n&&rM(a)&&(a=a[n%a.length],o=!1),void 0!==a))return r&&!o&&(r.cacheable=!1),a}function GD(e,t){return Object.assign(Object.create(e),t)}function XD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=oR("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>XD([r,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>tR(n,r,(()=>function(e,t,n,r){let i;for(const s of t)if(i=oR(JD(s,e),n),"undefined"!==typeof i)return eR(e,i)?sR(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>lR(e).includes(t),ownKeys:e=>lR(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function QD(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ZD(e,r),setContext:t=>QD(e,t,n,r),override:i=>QD(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>tR(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=e;let o=r[t];_M(o)&&a.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(s,a||r);o.delete(e),eR(e,l)&&(l=sR(i._scopes,i,e,l));return l}(t,o,e,n));rM(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(iM(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=sR(r,i,e,l);t.push(QD(n,s,a&&a[e],o))}}return t}(t,o,e,a.isIndexable));eR(t,o)&&(o=QD(o,i,s&&s[t],a));return o}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function ZD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:_M(n)?n:()=>n,isIndexable:_M(r)?r:()=>r}}const JD=(e,t)=>e?e+xM(t):t,eR=(e,t)=>iM(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function tR(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function nR(e,t,n){return _M(e)?e(t,n):e}const rR=(e,t)=>!0===e?t:"string"===typeof e?bM(t,e):void 0;function iR(e,t,n,r,i){for(const s of t){const t=rR(n,s);if(t){e.add(t);const s=nR(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function sR(e,t,n,r){const i=t._rootScopes,s=nR(t._fallback,n,r),a=[...e,...i],o=new Set;o.add(r);let l=aR(o,a,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=aR(o,a,s,l,r),null!==l))&&XD(Array.from(o),[""],i,s,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(rM(i)&&iM(n))return n;return i||{}}(t,n,r))))}function aR(e,t,n,r,i){for(;n;)n=iR(e,t,n,r,i);return n}function oR(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function lR(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}const cR=Number.EPSILON||1e-14,uR=(e,t)=>t<e.length&&!e[t].skip&&e[t],dR=e=>"x"===e?"y":"x";function hR(e,t,n,r){const i=e.skip?t:e,s=t,a=n.skip?t:n,o=zM(s,i),l=zM(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function fR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=dR(t),r=e.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=uR(e,0);for(a=0;a<r;++a)if(o=l,l=c,c=uR(e,a+1),l){if(c){const e=c[t]-l[t];i[a]=0!==e?(c[n]-l[n])/e:0}s[a]=o?c?PM(i[a-1])!==PM(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(e,t,n){const r=e.length;let i,s,a,o,l,c=uR(e,0);for(let u=0;u<r-1;++u)l=c,c=uR(e,u+1),l&&c&&(MM(t[u],0,cR)?n[u]=n[u+1]=0:(i=n[u]/t[u],s=n[u+1]/t[u],o=Math.pow(i,2)+Math.pow(s,2),o<=9||(a=3/Math.sqrt(o),n[u]=i*a*t[u],n[u+1]=s*a*t[u])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=dR(n),i=e.length;let s,a,o,l=uR(e,0);for(let c=0;c<i;++c){if(a=o,o=l,l=uR(e,c+1),!o)continue;const i=o[n],u=o[r];a&&(s=(i-a[n])/3,o[`cp1${n}`]=i-s,o[`cp1${r}`]=u-s*t[c]),l&&(s=(l[n]-i)/3,o[`cp2${n}`]=i+s,o[`cp2${r}`]=u+s*t[c])}}(e,s,t)}function pR(e,t,n){return Math.max(Math.min(e,n),t)}function mR(e,t,n,r,i){let s,a,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)fR(e,i);else{let n=r?e[e.length-1]:e[0];for(s=0,a=e.length;s<a;++s)o=e[s],l=hR(n,o,e[Math.min(s+1,a-(r?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,i,s,a,o=ID(e[0],t);for(n=0,r=e.length;n<r;++n)a=s,s=o,o=n<r-1&&ID(e[n+1],t),s&&(i=e[n],a&&(i.cp1x=pR(i.cp1x,t.left,t.right),i.cp1y=pR(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=pR(i.cp2x,t.left,t.right),i.cp2y=pR(i.cp2y,t.top,t.bottom)))}(e,n)}function gR(){return"undefined"!==typeof window&&"undefined"!==typeof document}function yR(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function vR(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const bR=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const xR=["top","right","bottom","left"];function wR(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=xR[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function _R(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=bR(n),s="border-box"===i.boxSizing,a=wR(i,"padding"),o=wR(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let a,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,s,e.target))a=i,o=s;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:a,y:o,box:l}}(e,n),d=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:f,height:p}=t;return s&&(f-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-d)/f*n.width/r),y:Math.round((c-h)/p*n.height/r)}}const jR=e=>Math.round(10*e)/10;function SR(e,t,n,r){const i=bR(e),s=wR(i,"margin"),a=vR(i.maxWidth,e,"clientWidth")||kM,o=vR(i.maxHeight,e,"clientHeight")||kM,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const s=e&&yR(e);if(s){const e=s.getBoundingClientRect(),a=bR(s),o=wR(a,"border","width"),l=wR(a,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=vR(a.maxWidth,s,"clientWidth"),i=vR(a.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||kM,maxHeight:i||kM}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=wR(i,"border","width"),t=wR(i,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=jR(Math.min(c,a,l.maxWidth)),u=jR(Math.min(u,o,l.maxHeight)),c&&!u&&(u=jR(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=jR(Math.floor(u*r))),{width:c,height:u}}function ER(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||a.height!==i||a.width!==s)&&(e.currentDevicePixelRatio=r,a.height=i,a.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const NR=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};gR()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(v6){}return e}();function kR(e,t){const n=function(e,t){return bR(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function CR(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function TR(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function IR(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},a=CR(e,i,n),o=CR(i,s,n),l=CR(s,t,n),c=CR(a,o,n),u=CR(o,l,n);return CR(c,u,n)}function AR(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function OR(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function PR(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function MR(e){return"angle"===e?{between:qM,compare:$M,normalize:HM}:{between:YM,compare:(e,t)=>e-t,normalize:e=>e}}function DR(e){let{start:t,end:n,count:r,loop:i,style:s}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:s}}function RR(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,a=t.length,{compare:o,between:l,normalize:c}=MR(r),{start:u,end:d,loop:h,style:f}=function(e,t,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=MR(r),l=t.length;let c,u,{start:d,end:h,loop:f}=e;if(f){for(d+=l,h+=l,c=0,u=l;c<u&&a(o(t[d%l][r]),i,s);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:f,style:e.style}}(e,t,n),p=[];let m,g,y,v=!1,b=null;const x=()=>v||l(i,y,m)&&0!==o(i,y),w=()=>!v||0===o(s,m)||l(s,y,m);for(let _=u,j=u;_<=d;++_)g=t[_%a],g.skip||(m=c(g[r]),m!==y&&(v=l(m,i,s),null===b&&x()&&(b=0===o(m,i)?_:j),null!==b&&w()&&(p.push(DR({start:b,end:_,loop:h,count:a,style:f})),b=null),j=_,y=m));return null!==b&&p.push(DR({start:b,end:d,loop:h,count:a,style:f})),p}function LR(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=RR(r[i],e.points,t);s.length&&n.push(...s)}return n}function FR(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),s=BR(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=n.length,c=[];let u=s,d=t[0].start,h=d;function f(e,t,r,i){const s=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,d=t%l)}}for(const p of t){d=o?d:p.start;let e,t=n[d%l];for(h=d+1;h<=p.end;h++){const s=n[h%l];e=BR(r.setContext(GD(i,{type:"segment",p0:t,p1:s,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),UR(e,u)&&f(d,h-1,p.loop,u),t=s,u=e}d<h-1&&f(d,h-1,p.loop,u)}return c}(e,t,n,r):t}function BR(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function UR(e,t){if(!t)return!1;const n=[],r=function(e,t){return uD(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class VR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],s=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=eD.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,a=i.length-1,o=!1;for(;a>=0;--a)s=i[a],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zR=new VR;const $R="transparent",HR={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=dD(e||$R),i=r.valid&&dD(t||$R);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class qR{constructor(e,t,n,r){const i=t[n];r=KD([e.to,r,i,e.from]);const s=KD([e.from,i,r]);this._active=!0,this._fn=e.fn||HR[e.type||typeof s],this._easing=cD[e.easing]||cD.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=KD([e.to,t,r,e.from]),this._from=KD([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,a=this._to;let o;if(this._active=i!==a&&(s||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=i:(o=t/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(i,a,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class WR{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!iM(e))return;const t=Object.keys(SD.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!iM(i))return;const s={};for(const e of t)s[e]=i[e];(rM(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,a);continue}u.cancel()}d&&d.duration?(i[l]=u=new qR(d,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(zR.add(this._chart,n),!0):void 0}}function YR(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:i,end:r?i:s}}function KR(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function GR(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===r.mode;let a,o,l,c;if(null===t)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(u=!0,r.all)continue;break}c=e.values[l],sM(c)&&(s||0===t||PM(t)===PM(c))&&(t+=c)}return u||r.all?t:0}function XR(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function QR(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function ZR(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function JR(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,a,r),d=t.length;let h;for(let f=0;f<d;++f){const e=t[f],{[l]:n,[c]:s}=e;h=(e._stacks||(e._stacks={}))[c]=QR(i,u,n),h[o]=s,h._top=ZR(h,a,!0,r.type),h._bottom=ZR(h,a,!1,r.type);(h._visualValues||(h._visualValues={}))[o]=s}}function eL(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function tL(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const nL=e=>"reset"===e||"none"===e,rL=(e,t)=>t?e:Object.assign({},e);class iL{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=XR(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&tL(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=oM(n.xAxisID,eL(e,"x")),s=t.yAxisID=oM(n.yAxisID,eL(e,"y")),a=t.rAxisID=oM(n.rAxisID,eL(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,i,s,a),c=t.vAxisID=r(o,s,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ZM(this._data,this),e._stacked&&tL(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(iM(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:e[u]};return o}(t,e)}else if(n!==t){if(n){ZM(n,this);const e=this._cachedMeta;tL(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),QM.forEach((t=>{const n="_onData"+xM(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const a=r.apply(this,i);return e._chartjs.listeners.forEach((e=>{"function"===typeof e[n]&&e[n](...i)})),a}})})))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=XR(t.vScale,t),t.stack!==n.stack&&(r=!0,tL(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(JR(this,t._parsed),t._stacked=XR(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,a=i.axis;let o,l,c,u=0===e&&t===r.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=rM(r[e])?this.parseArrayData(n,r,e,t):iM(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[a]||d&&l[a]<d[a];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],u&&(i()&&(u=!1),d=l);n._sorted=u}s&&JR(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:s}=e,a=i.axis,o=s.axis,l=i.getLabels(),c=i===s,u=new Array(r);let d,h,f;for(d=0,h=r;d<h;++d)f=d+n,u[d]={[a]:c||i.parse(l[f],f),[o]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:s}=e,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={x:i.parse(u[0],c),y:s.parse(u[1],c)};return a}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,u,d,h;for(c=0,u=r;c<u;++c)d=c+n,h=t[d],l[c]={x:i.parse(bM(h,a),d),y:s.parse(bM(h,o),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,s=t[e.axis];return GR({keys:KR(r,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let s=null===i?NaN:i;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,s=GR(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,a=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:KR(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let d,h;function f(){h=r[d];const t=h[a.axis];return!sM(h[e.axis])||c>t||u<t}for(d=0;d<s&&(f()||(this.updateRangeFromParsed(l,e,h,o),!i));++d);if(i)for(d=s-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],sM(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return iM(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(oM(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=YR(e,n),i=YR(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,s=[],a=this._drawStart||0,o=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,a,o),c=a;c<a+o;++c){const t=r[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return GD(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return GD(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,a=i[s],o=this.enableOptionSharing&&wM(n);if(a)return rL(a,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(SD.elements[e]),f=l.resolveNamedOptions(d,h,(()=>this.getContext(n,r,t)),u);return f.$shared&&(f.$shared=o,i[s]=Object.freeze(rL(f,o))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,s=`animation-${t}`,a=i[s];if(a)return a;let o;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),i);o=r.createResolver(s,this.getContext(e,n,t))}const l=new WR(r,o&&o.animations);return o&&o._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||nL(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,r){nL(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!nL(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,o,l]of this._syncList)this[a](o,l);this._syncList=[];const r=n.length,i=t.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=e+t;let a;const o=e=>{for(e.length+=t,a=e.length-1;a>=s;a--)e[a]=e[a-t]};for(o(i),a=e;a<s;++a)i[a]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&tL(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class sL extends iL{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:a,count:o}=iD(t,r,s);this._drawStart=a,this._drawCount=o,sD(t)&&(a=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,a,o,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),d=s.axis,h=a.axis,{spanGaps:f,segment:p}=this.options,m=RM(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,y=t+n,v=e.length;let b=t>0&&this.getParsed(t-1);for(let x=0;x<v;++x){const n=e[x],f=g?n:{};if(x<t||x>=y){f.skip=!0;continue}const v=this.getParsed(x),w=nM(v[h]),_=f[d]=s.getPixelForValue(v[d],x),j=f[h]=i||w?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,v,o):v[h],x);f.skip=isNaN(_)||isNaN(j)||w,f.stop=x>0&&Math.abs(v[d]-b[d])>m,p&&(f.parsed=v,f.raw=l.data[x]),u&&(f.options=c||this.resolveDataElementOptions(x,n.active?"active":r)),g||this.updateElement(n,x,f,r),b=v}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function aL(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class oL{static override(e){Object.assign(oL.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return aL()}parse(){return aL()}format(){return aL()}add(){return aL()}diff(){return aL()}startOf(){return aL()}endOf(){return aL()}}var lL={_date:oL};function cL(e,t,n,r){const{controller:i,data:s,_sorted:a}=e,o=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&a&&s.length){const a=o._reversePixels?XM:GM;if(!r){const r=a(s,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,s=n.slice(0,r.lo+1).reverse().findIndex((e=>!nM(e[t.axis])));r.lo-=Math.max(0,s);const a=n.slice(r.hi).findIndex((e=>!nM(e[t.axis])));r.hi+=Math.max(0,a)}return r}if(i._sharedOptions){const e=s[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=a(s,t,n-r),i=a(s,t,n+r);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:s.length-1}}function uL(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=s.length;o<l;++o){const{index:e,data:n}=s[o],{lo:l,hi:c}=cL(s[o],t,a,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function dL(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return uL(e,n,t,(function(n,a,o){(i||ID(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:a,index:o})}),!0),s}function hL(e,t,n,r,i,s){let a=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return uL(e,n,t,(function(n,c,u){const d=n.inRange(t.x,t.y,i);if(r&&!d)return;const h=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(h))&&!d)return;const f=o(t,h);f<l?(a=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&a.push({element:n,datasetIndex:c,index:u})})),a}function fL(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?hL(e,t,n,r,i,s):function(e,t,n,r){let i=[];return uL(e,n,t,(function(e,n,s){const{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=VM(e,{x:t.x,y:t.y});qM(l,a,o)&&i.push({element:e,datasetIndex:n,index:s})})),i}(e,t,n,i):[]}function pL(e,t,n,r,i){const s=[],a="x"===n?"inXRange":"inYRange";let o=!1;return uL(e,n,t,((e,r,l)=>{e[a]&&e[a](t[n],i)&&(s.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,i))})),r&&!o?[]:s}var mL={evaluateInteractionItems:uL,modes:{index(e,t,n,r){const i=_R(t,e),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?dL(e,i,s,r,a):fL(e,i,s,!1,r,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const i=_R(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?dL(e,i,s,r,a):fL(e,i,s,!1,r,a);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>dL(e,_R(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=_R(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return fL(e,i,s,n.intersect,r,a)},x:(e,t,n,r)=>pL(e,_R(t,e),"x",n.intersect,r),y:(e,t,n,r)=>pL(e,_R(t,e),"y",n.intersect,r)}};const gL=["left","top","right","bottom"];function yL(e,t){return e.filter((e=>e.pos===t))}function vL(e,t){return e.filter((e=>-1===gL.indexOf(e.pos)&&e.box.axis===t))}function bL(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function xL(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!gL.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,a,o;for(s=0,a=e.length;s<a;++s){o=e[s];const{fullSize:a}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:a&&t.availableWidth,o.height=i):(o.width=r,o.height=c?c*i:a&&t.availableHeight)}return n}function wL(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function _L(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function jL(e,t,n,r){const{pos:i,box:s}=n,a=e.maxPadding;if(!iM(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&_L(a,s.getPadding());const o=Math.max(0,t.outerWidth-wL(a,e,"left","right")),l=Math.max(0,t.outerHeight-wL(a,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function SL(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function EL(e,t,n,r){const i=[];let s,a,o,l,c,u;for(s=0,a=e.length,c=0;s<a;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,SL(o.horizontal,t));const{same:a,other:d}=jL(t,n,o,r);c|=a&&i.length,u=u||d,l.fullSize||i.push(o)}return c&&EL(i,t,n,r)||u}function NL(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function kL(e,t,n,r){const i=n.padding;let{x:s,y:a}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,s=l.size||e.height;wM(l.start)&&(a=l.start),e.fullSize?NL(e,i.left,a,n.outerWidth-i.right-i.left,s):NL(e,t.left+l.placed,a,r,s),l.start=a,l.placed+=r,a=e.bottom}else{const r=t.h*c,a=l.size||e.width;wM(l.start)&&(s=l.start),e.fullSize?NL(e,s,i.top,a,n.outerHeight-i.bottom-i.top):NL(e,s,t.top+l.placed,a,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=a}var CL={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=WD(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,r,i,s,a,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:s,options:{stack:a,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return t}(e),n=bL(t.filter((e=>e.box.fullSize)),!0),r=bL(yL(t,"left"),!0),i=bL(yL(t,"right")),s=bL(yL(t,"top"),!0),a=bL(yL(t,"bottom")),o=vL(t,"x"),l=vL(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:yL(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;uM(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},i);_L(h,WD(r));const f=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),p=xL(l.concat(c),d);EL(o.fullSize,f,d,p),EL(l,f,d,p),EL(c,f,d,p)&&EL(l,f,d,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),kL(o.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,kL(o.rightAndBottom,f,d,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},uM(o.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class TL{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class IL extends TL{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const AL="$chartjs",OL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PL=e=>null===e||""===e;const ML=!!NR&&{passive:!0};function DL(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,ML)}function RL(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function LL(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||RL(n.addedNodes,r),t=t&&!RL(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function FL(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||RL(n.removedNodes,r),t=t&&!RL(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const BL=new Map;let UL=0;function VL(){const e=window.devicePixelRatio;e!==UL&&(UL=e,BL.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function zL(e,t,n){const r=e.canvas,i=r&&yR(r);if(!i)return;const s=tD(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),a=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)}));return a.observe(i),function(e,t){BL.size||window.addEventListener("resize",VL),BL.set(e,t)}(e,s),a}function $L(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){BL.delete(e),BL.size||window.removeEventListener("resize",VL)}(e)}function HL(e,t,n){const r=e.canvas,i=tD((t=>{null!==e.ctx&&n(function(e,t){const n=OL[e.type]||e.type,{x:r,y:i}=_R(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,ML)}(r,t,i),i}class qL extends TL{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[AL]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",PL(i)){const t=kR(e,"width");void 0!==t&&(e.width=t)}if(PL(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=kR(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[AL])return!1;const n=t[AL].initial;["height","width"].forEach((e=>{const r=n[e];nM(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[AL],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:LL,detach:FL,resize:zL}[t]||HL;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:$L,detach:$L,resize:$L}[t]||DL)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return SR(e,t,n,r)}isAttached(e){const t=e&&yR(e);return!(!t||!t.isConnected)}}class WL{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return RM(this.x)&&RM(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function YL(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return function(e,t,n,r){let i,s=0,a=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===a&&(t.push(e[i]),s++,a=n[s*r])}(t,c,s,a/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let a=0,o=s.length-1;a<o;a++){const e=s[a];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(a>0){let e,n;const r=a>1?Math.round((l-o)/(a-1)):null;for(KL(t,c,u,nM(r)?0:o-r,o),e=0,n=a-1;e<n;e++)KL(t,c,u,s[e],s[e+1]);return KL(t,c,u,l,nM(r)?t.length:l+r),c}return KL(t,c,u),c}function KL(e,t,n,r,i){const s=oM(r,0),a=Math.min(oM(i,e.length),e.length);let o,l,c,u=0;for(n=Math.ceil(n),i&&(o=i-r,n=o/Math.floor(o/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<a;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}const GL=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,XL=(e,t)=>Math.min(t||e,e);function QL(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function ZL(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,a=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<s-o||c>a+o)))return c}function JL(e){return e.drawTicks?e.tickLength:0}function eF(e,t){if(!e.display)return 0;const n=YD(e.font,t),r=WD(e.padding);return(rM(e.text)?e.text.length:1)*n.lineHeight+r.height}function tF(e,t,n){let r=nD(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class nF extends WL{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=aM(e,Number.POSITIVE_INFINITY),t=aM(t,Number.NEGATIVE_INFINITY),n=aM(n,Number.POSITIVE_INFINITY),r=aM(r,Number.NEGATIVE_INFINITY),{min:aM(e,n),max:aM(t,r),minDefined:sM(e),maxDefined:sM(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:aM(n,aM(r,n)),max:aM(r,aM(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){cM(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,s=lM(t,(i-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(s)),max:a(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this._convertTicksToLabels(o?QL(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=YL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){cM(this.options.afterUpdate,[this])}beforeSetDimensions(){cM(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){cM(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),cM(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){cM(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=cM(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){cM(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){cM(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=XL(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,a,o,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=WM(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:h/(n-1),u+6>s&&(s=h/(n-(e.offset?.5:1)),a=this.maxHeight-JL(e.grid)-t.padding-eF(e.title,this.chart.options.font),o=Math.sqrt(u*u+d*d),l=BM(Math.min(Math.asin(WM((c.highest.height+6)/s,-1,1)),Math.asin(WM(a/o,-1,1))-Math.asin(WM(d/o,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){cM(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){cM(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const s=eF(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=JL(i)+s):(e.height=this.maxHeight,e.width=JL(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),o=2*n.padding,l=FM(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(a){const t=n.mirror?0:u*i.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:s},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;o?l?(u=r*e.width,d=n*t.height):(u=n*e.height,d=r*t.width):"start"===i?d=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-a+s)*this.width/(this.width-a),0),this.paddingRight=Math.max((d-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){cM(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)nM(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=QL(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],a=[],o=Math.floor(t/XL(t,n));let l,c,u,d,h,f,p,m,g,y,v,b=0,x=0;for(l=0;l<t;l+=o){if(d=e[l].label,h=this._resolveTickFontOptions(l),r.font=f=h.string,p=i[f]=i[f]||{data:{},gc:[]},m=h.lineHeight,g=y=0,nM(d)||rM(d)){if(rM(d))for(c=0,u=d.length;c<u;++c)v=d[c],nM(v)||rM(v)||(g=ED(r,p.data,p.gc,g,v),y+=m)}else g=ED(r,p.data,p.gc,g,d),y=m;s.push(g),a.push(y),b=Math.max(g,b),x=Math.max(y,x)}!function(e,t){uM(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const w=s.indexOf(b),_=a.indexOf(x),j=e=>({width:s[e]||0,height:a[e]||0});return{first:j(0),last:j(t-1),widest:j(w),highest:j(_),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return WM(e,-32768,32767)}(this._alignToPixels?ND(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return GD(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=function(e,t){return GD(e,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=FM(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,a=i?i.widest.width+s:0,o=i?i.highest.height+s:0;return this.isHorizontal()?o*n>a*r?a/n:o/r:o*r<a*n?o/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:a}=r,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=JL(i),d=[],h=a.setContext(this.getContext()),f=h.display?h.width:0,p=f/2,m=function(e){return ND(n,e,f)};let g,y,v,b,x,w,_,j,S,E,N,k;if("top"===s)g=m(this.bottom),w=this.bottom-u,j=g-p,E=m(e.top)+p,k=e.bottom;else if("bottom"===s)g=m(this.top),E=e.top,k=m(e.bottom)-p,w=g+p,j=this.top+u;else if("left"===s)g=m(this.right),x=this.right-u,_=g-p,S=m(e.left)+p,N=e.right;else if("right"===s)g=m(this.left),S=e.left,N=m(e.right)-p,x=g+p,_=this.left+u;else if("x"===t){if("center"===s)g=m((e.top+e.bottom)/2+.5);else if(iM(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}E=e.top,k=e.bottom,w=g+p,j=w+u}else if("y"===t){if("center"===s)g=m((e.left+e.right)/2);else if(iM(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}x=g-p,_=x-u,S=e.left,N=e.right}const C=oM(r.ticks.maxTicksLimit,c),T=Math.max(1,Math.ceil(c/C));for(y=0;y<c;y+=T){const e=this.getContext(y),t=i.setContext(e),r=a.setContext(e),s=t.lineWidth,c=t.color,u=r.dash||[],h=r.dashOffset,f=t.tickWidth,p=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;v=ZL(this,y,o),void 0!==v&&(b=ND(n,v,s),l?x=_=S=N=b:w=j=E=k=b,d.push({tx1:x,ty1:w,tx2:_,ty2:j,x1:S,y1:E,x2:N,y2:k,width:s,color:c,borderDash:u,borderDashOffset:h,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),a=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=i,d=JL(n.grid),h=d+c,f=u?-c:h,p=-FM(this.labelRotation),m=[];let g,y,v,b,x,w,_,j,S,E,N,k,C="middle";if("top"===r)w=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,x=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,x=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(iM(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)x=(e.left+e.right)/2-h;else if(iM(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===o?C="top":"end"===o&&(C="bottom"));const T=this._getLabelSizes();for(g=0,y=a.length;g<y;++g){v=a[g],b=v.label;const e=i.setContext(this.getContext(g));j=this.getPixelForTick(g)+i.labelOffset,S=this._resolveTickFontOptions(g),E=S.lineHeight,N=rM(b)?b.length:1;const t=N/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let d,h=_;if(s?(x=j,"inner"===_&&(h=g===y-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),k="top"===r?"near"===l||0!==p?-N*E+E/2:"center"===l?-T.highest.height/2-t*E+E:-T.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?T.highest.height/2-t*E:T.highest.height-N*E,u&&(k*=-1),0===p||e.showLabelBackdrop||(x+=E/2*Math.sin(p))):(w=j,k=(1-N)*E/2),e.showLabelBackdrop){const t=WD(e.backdropPadding),n=T.heights[g],r=T.widths[g];let i=k-t.top,s=0-t.left;switch(C){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":g===y-1?s-=r:g>0&&(s-=r/2)}d={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:S,textOffset:k,options:{rotation:p,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:C,translation:[x,w],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-FM(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=e+i,a=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l+=a)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l-=a)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=r.length;i<s;++i){const e=r[i];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=ND(e,this.left,s)-s/2,c=ND(e,this.right,a)+a/2,u=d=o):(u=ND(e,this.top,s)-s/2,d=ND(e,this.bottom,a)+a/2,l=c=o),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&AD(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;LD(t,i.label,0,i.textOffset,n,e)}n&&OD(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=YD(n.font),s=WD(n.padding),a=n.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||iM(t)?(o+=s.bottom,rM(n.text)&&(o+=i.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,f,p=0;const m=a-i,g=o-s;if(e.isHorizontal()){if(h=rD(r,s,o),iM(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+m-t}else f="center"===n?(c.bottom+c.top)/2+m-t:GL(e,n,t);d=o-s}else{if(iM(n)){const e=Object.keys(n)[0],r=n[e];h=u[e].getPixelForValue(r)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:GL(e,n,t);f=rD(r,a,i),p="left"===n?-TM:TM}return{titleX:h,titleY:f,maxWidth:d,rotation:p}}(this,o,t,a);LD(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:tF(a,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=oM(e.grid&&e.grid.z,-1),r=oM(e.border&&e.border.z,0);return this._isVisible()&&this.draw===nF.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return YD(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class rF{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=mM(Object.create(null),[n?SD.get(n):{},SD.get(t),e.defaults]);SD.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");SD.route(s,i,l,o)}))}(t,e.defaultRoutes);e.descriptors&&SD.describe(t,e.descriptors)}(e,s,n),this.override&&SD.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in SD[r]&&(delete SD[r][n],this.override&&delete bD[n])}}class iF{constructor(){this.controllers=new rF(iL,"datasets",!0),this.elements=new rF(WL,"elements"),this.plugins=new rF(Object,"plugins"),this.scales=new rF(nF,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):uM(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=xM(e);cM(n["before"+r],[],n),t[e](n),cM(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var sF=new iF;class aF{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===cM(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){nM(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=oM(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(sF.plugins.items);for(let s=0;s<r.length;s++)n.push(sF.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:s}=t;const a=[],o=e.getContext();for(const l of i){const t=l.id,i=oF(n[t],r);null!==i&&a.push({plugin:l,options:lF(e.config,{plugin:l,local:s[t]},i,o)})}return a}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function oF(e,t){return t||!1!==e?!0===e?{}:e:null}function lF(e,t,n,r){let{plugin:i,local:s}=t;const a=e.pluginScopeKeys(i),o=e.getOptionScopes(n,a);return s&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cF(e,t){const n=SD.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function uF(e){if("x"===e||"y"===e||"r"===e)return e}function dF(e){if(uF(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const s of n){const t=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&uF(e[0].toLowerCase());if(t)return t}var i;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function hF(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function fF(e,t){const n=bD[e.type]||{scales:{}},r=t.scales||{},i=cF(e.type,t),s=Object.create(null);return Object.keys(r).forEach((t=>{const a=r[t];if(!iM(a))return console.error(`Invalid scale configuration for scale: ${t}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=dF(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return hF(e,"x",n[0])||hF(e,"y",n[0])}return{}}(t,e),SD.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=n.scales||{};s[t]=gM(Object.create(null),[{axis:o},a,c[o],c[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,a=n.indexAxis||cF(i,t),o=(bD[i]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),gM(s[i],[{axis:t},r[i],o[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];gM(t,[SD.scales[t.type],SD.scale])})),s}function pF(e){const t=e.options||(e.options={});t.plugins=oM(t.plugins,{}),t.scales=fF(e,t)}function mF(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const gF=new Map,yF=new Set;function vF(e,t){let n=gF.get(e);return n||(n=t(),gF.set(e,n),yF.add(n)),n}const bF=(e,t,n)=>{const r=bM(t,n);void 0!==r&&e.add(r)};class xF{constructor(e){this._config=function(e){return(e=e||{}).data=mF(e.data),pF(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=mF(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),pF(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vF(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return vF(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return vF(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return vF(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),a=s.get(t);if(a)return a;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>bF(o,e,t)))),t.forEach((e=>bF(o,r,e))),t.forEach((e=>bF(o,bD[i]||{},e))),t.forEach((e=>bF(o,SD,e))),t.forEach((e=>bF(o,xD,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),yF.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,bD[t]||{},SD.datasets[t]||{},{type:t},SD,xD]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:a}=wF(this._resolverCache,e,r);let o=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=ZD(e);for(const i of t){const t=n(i),s=r(i),a=(s||t)&&e[i];if(t&&(_M(a)||_F(a))||s&&rM(a))return!0}return!1}(s,t)){i.$shared=!1;o=QD(s,n=_M(n)?n():n,this.createResolver(e,n,a))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=wF(this._resolverCache,e,n);return iM(t)?QD(i,t,void 0,r):i}}function wF(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:XD(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,s)}return s}const _F=e=>iM(e)&&Object.getOwnPropertyNames(e).some((t=>_M(e[t])));const jF=["top","bottom","left","right","chartArea"];function SF(e,t){return"top"===e||"bottom"===e||-1===jF.indexOf(e)&&"x"===t}function EF(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function NF(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),cM(n&&n.onComplete,[e],t)}function kF(e){const t=e.chart,n=t.options.animation;cM(n&&n.onProgress,[e],t)}function CF(e){return gR()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const TF={},IF=e=>{const t=CF(e);return Object.values(TF).filter((e=>e.canvas===t)).pop()};function AF(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const s=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=s)}}}function OF(e,t,n){return e.options.clip?e[n]:t[n]}class PF{static defaults=(()=>SD)();static instances=(()=>TF)();static overrides=(()=>bD)();static registry=(()=>sF)();static version="4.4.8";static getChart=(()=>IF)();static register(){sF.add(...arguments),MF()}static unregister(){sF.remove(...arguments),MF()}constructor(e,t){const n=this.config=new xF(t),r=CF(e),i=IF(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!gR()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?IL:qL}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,s.aspectRatio),o=a&&a.canvas,l=o&&o.height,c=o&&o.width;this.id=tM(),this.ctx=a,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new aF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],TF[this.id]=this,a&&o?(zR.listen(this,"complete",NF),zR.listen(this,"progress",kF),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return nM(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sF}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ER(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kD(this.canvas,this.ctx),this}stop(){return zR.stop(this),this}resize(e,t){zR.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,ER(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),cM(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){uM(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=dF(e,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),uM(i,(t=>{const i=t.options,s=i.id,a=dF(s,i),o=oM(i.type,t.dtype);void 0!==i.position&&SF(i.position,a)===SF(t.dposition)||(i.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(sF.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)})),uM(r,((e,t)=>{e||delete n[t]})),uM(n,(e=>{CL.configure(this,e,e.options),CL.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(EF("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||cF(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=sF.getController(s),{datasetElementType:r,dataElementType:a}=SD.datasets[s];Object.assign(t,{dataElementType:sF.getElement(a),datasetElementType:r&&sF.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){uM(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||uM(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(EF("z","_idx"));const{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){uM(this.scales,(e=>{CL.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);jM(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){AF(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!jM(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;CL.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],uM(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,_M(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(zR.has(this)?this.attached&&!zR.running(this)&&zR.start(this):(this.draw(),NF({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:OF(n,t,"left"),right:OF(n,t,"right"),top:OF(r,t,"top"),bottom:OF(r,t,"bottom")}:t}(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&AD(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&OD(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ID(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=mL.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=GD(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);wM(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),zR.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),kD(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete TF[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};uM(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():s()}unbindEvents(){uM(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},uM(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,s,a,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,o=e.length;a<o;++a){s=e[a];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!dM(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=i(t,e),a=n?e:i(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,a=this._getActiveElements(e,r,n,s),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,cM(i.onHover,[e,a,this],this),o&&cM(i.onClick,[e,a,this],this));const c=!dM(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function MF(){return uM(PF.instances,(e=>e._plugins.invalidate()))}function DF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=oM(n.borderCapStyle,t.borderCapStyle),e.setLineDash(oM(n.borderDash,t.borderDash)),e.lineDashOffset=oM(n.borderDashOffset,t.borderDashOffset),e.lineJoin=oM(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=oM(n.borderWidth,t.borderWidth),e.strokeStyle=oM(n.borderColor,t.borderColor)}function RF(e,t,n){e.lineTo(n.x,n.y)}function LF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=t,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function FF(e,t,n,r){const{points:i,options:s}=t,{count:a,start:o,loop:l,ilen:c}=LF(i,n,r),u=function(e){return e.stepped?PD:e.tension||"monotone"===e.cubicInterpolationMode?MD:RF}(s);let d,h,f,{move:p=!0,reverse:m}=r||{};for(d=0;d<=c;++d)h=i[(o+(m?c-d:d))%a],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):u(e,f,h,m,s.stepped),f=h);return l&&(h=i[(o+(m?c:0))%a],u(e,f,h,m,s.stepped)),!!l}function BF(e,t,n,r){const i=t.points,{count:s,start:a,ilen:o}=LF(i,n,r),{move:l=!0,reverse:c}=r||{};let u,d,h,f,p,m,g=0,y=0;const v=e=>(a+(c?o-e:e))%s,b=()=>{f!==p&&(e.lineTo(g,p),e.lineTo(g,f),e.lineTo(g,m))};for(l&&(d=i[v(0)],e.moveTo(d.x,d.y)),u=0;u<=o;++u){if(d=i[v(u)],d.skip)continue;const t=d.x,n=d.y,r=0|t;r===h?(n<f?f=n:n>p&&(p=n),g=(y*g+t)/++y):(b(),e.lineTo(t,n),h=r,y=0,f=p=n),m=n}b()}function UF(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?BF:FF}const VF="function"===typeof Path2D;function zF(e,t,n,r){VF&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),DF(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:s}=t,a=UF(t);for(const o of i)DF(e,s,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class $F extends WL{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;mR(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:a,end:o}=function(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,r);return FR(e,!0===r?[{start:a,end:o,loop:s}]:function(e,t,n,r){const i=e.length,s=[];let a,o=t,l=e[t];for(a=t+1;a<=n;++a){const n=e[a%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%i,end:(a-1)%i,loop:r}),t=o=n.stop?a:null):(o=a,l.skip&&(t=a)),l=n}return null!==o&&s.push({start:t%i,end:o%i,loop:r}),s}(n,a,o<a?o+i:o,!!e._fullLoop&&0===a&&o===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=LR(this,{property:t,start:r,end:r});if(!s.length)return;const a=[],o=function(e){return e.stepped?TR:e.tension||"monotone"===e.cubicInterpolationMode?IR:CR}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],d=i[c],h=i[u];if(d===h){a.push(d);continue}const f=o(d,h,Math.abs((r-d[t])/(h[t]-d[t])),n.stepped);f[t]=e[t],a.push(f)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return UF(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=UF(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)s&=i(e,this,a,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),zF(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function HF(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class qF extends WL{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return HF(this,e,"x",t)}inYRange(e,t){return HF(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!ID(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,CD(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const WF=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class YF extends WL{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=cM(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=YD(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:o}=WF(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,a,o)+10):(c=this.maxHeight,l=this._fitCols(s,r,a,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let u=e;i.textAlign="left",i.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*a>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,h+=c,d++),o[f]={left:0,top:h,row:d,width:p,height:r},l[l.length-1]+=p+a})),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=a,d=0,h=0,f=0,p=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,i){const s=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(i).width}(r,e,t,n),a=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=KF(t,n));return r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:a}}(n,t,i,e,r);s>0&&h+g+2*a>c&&(u+=d+a,l.push({width:d,height:h}),f+=d+a,p++,d=h=0),o[s]={left:f,top:h,col:p,width:m,height:g},d=Math.max(d,m),h+=g+a})),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=AR(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=rD(n,this.left+r,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,a=rD(n,this.left+r,this.right-this.lineWidths[i])),o.top+=this.top+e+r,o.left=s.leftForLtr(s.x(a),o.width),a+=o.width+r}else{let i=0,a=rD(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,a=rD(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),o.top=a,o.left+=this.left+r,o.left=s.leftForLtr(s.x(o.left),o.width),a+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;AD(e,this),this._draw(),OD(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,a=SD.color,o=AR(e.rtl,this.left,this.width),l=YD(s.font),{padding:c}=s,u=l.size,d=u/2;let h;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=WF(s,u),g=this.isHorizontal(),y=this._computeTitleHeight();h=g?{x:rD(i,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:rD(i,this.top+y+c,this.bottom-t[0].height),line:0},OR(this.ctx,e.textDirection);const v=m+c;this.legendItems.forEach(((b,x)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const w=r.measureText(b.text).width,_=o.textAlign(b.textAlign||(b.textAlign=s.textAlign)),j=f+d+w;let S=h.x,E=h.y;o.setWidth(this.width),g?x>0&&S+j+c>this.right&&(E=h.y+=v,h.line++,S=h.x=rD(i,this.left+c,this.right-n[h.line])):x>0&&E+v>this.bottom&&(S=h.x=S+t[h.line].width+c,h.line++,E=h.y=rD(i,this.top+y+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=oM(n.lineWidth,1);if(r.fillStyle=oM(n.fillStyle,a),r.lineCap=oM(n.lineCap,"butt"),r.lineDashOffset=oM(n.lineDashOffset,0),r.lineJoin=oM(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=oM(n.strokeStyle,a),r.setLineDash(oM(n.lineDash,[])),s.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=o.xPlus(e,f/2);TD(r,a,l,t+d,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),a=o.leftForLtr(e,f),l=qD(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?FD(r,{x:a,y:s,w:f,h:p,radius:l}):r.rect(a,s,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(o.x(S),E,b),S=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(_,S+f+d,g?S+j:this.right,e.rtl),function(e,t,n){LD(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(S),E,b),g)h.x+=j+c;else if("string"!==typeof b.text){const e=l.lineHeight;h.y+=KF(b,e)+c}else h.y+=v})),PR(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=YD(t.font),r=WD(t.padding);if(!t.display)return;const i=AR(e.rtl,this.left,this.width),s=this.ctx,a=t.position,o=n.size/2,l=r.top+o;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=rD(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+rD(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=rD(a,u,u+d);s.textAlign=i.textAlign(nD(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,LD(s,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=YD(e.font),n=WD(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(YM(e,this.left,this.right)&&YM(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],YM(e,r.left,r.left+r.width)&&YM(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!i&&cM(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&cM(t.onHover,[e,n,this],this)}else n&&cM(t.onClick,[e,n,this],this)}}function KF(e,t){return t*(e.text?e.text.length:0)}var GF={id:"legend",_element:YF,start(e,t,n){const r=e.legend=new YF({ctx:e.ctx,options:n,chart:e});CL.configure(e,r,n),CL.addBox(e,r)},stop(e){CL.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;CL.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=WD(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class XF extends WL{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=rM(n.text)?n.text.length:1;this._padding=WD(n.padding);const i=r*YD(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,a=s.align;let o,l,c,u=0;return this.isHorizontal()?(l=rD(a,n,i),c=t+e,o=i-n):("left"===s.position?(l=n+e,c=rD(a,r,t),u=-.5*SM):(l=i-e,c=rD(a,t,r),u=.5*SM),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=YD(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:a,rotation:o}=this._drawArgs(r);LD(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:o,textAlign:nD(t.align),textBaseline:"middle",translation:[i,s]})}}var QF={id:"title",_element:XF,start(e,t,n){!function(e,t){const n=new XF({ctx:e.ctx,options:t,chart:e});CL.configure(e,n,t),CL.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;CL.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;CL.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const ZF={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++s}}if(0===s||0===r.size)return!1;const a=[...r].reduce(((e,t)=>e+t))/r.size;return{x:a,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=zM(t,r.getCenterPoint());e<o&&(o=e,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,a=e.y}return{x:s,y:a}}};function JF(e,t){return t&&(rM(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function eB(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function tB(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:e,label:a,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function nB(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:a,boxHeight:o}=t,l=YD(t.bodyFont),c=YD(t.titleFont),u=YD(t.footerFont),d=s.length,h=i.length,f=r.length,p=WD(t.padding);let m=p.height,g=0,y=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(y+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y){m+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let v=0;const b=function(e){g=Math.max(g,n.measureText(e).width+v)};return n.save(),n.font=c.string,uM(e.title,b),n.font=l.string,uM(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?a+2+t.boxPadding:0,uM(r,(e=>{uM(e.before,b),uM(e.lines,b),uM(e.after,b)})),v=0,n.font=u.string,uM(e.footer,b),n.restore(),g+=p.width,{width:g,height:m}}function rB(e,t,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),function(e,t,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;return"left"===e&&i+s+a>t.width||"right"===e&&i-s-a<0||void 0}(c,e,t,n)&&(c="center"),c}function iB(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||rB(e,t,n,r),yAlign:r}}function sB(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=qD(a);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const m=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(u,h)+i:"right"===o&&(p+=Math.max(d,f)+i),{x:WM(p,0,r.width-t.width),y:WM(m,0,r.height-t.height)}}function aB(e,t,n){const r=WD(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function oB(e){return JF([],eB(e))}function lB(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const cB={beforeTitle:eM,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:eM,beforeBody:eM,beforeLabel:eM,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return nM(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:eM,afterBody:eM,beforeFooter:eM,footer:eM,afterFooter:eM};function uB(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?cB[t].call(n,r):i}class dB extends WL{static positioners=(()=>ZF)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new WR(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,GD(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=uB(n,"beforeTitle",this,e),i=uB(n,"title",this,e),s=uB(n,"afterTitle",this,e);let a=[];return a=JF(a,eB(r)),a=JF(a,eB(i)),a=JF(a,eB(s)),a}getBeforeBody(e,t){return oB(uB(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return uM(e,(e=>{const t={before:[],lines:[],after:[]},i=lB(n,e);JF(t.before,eB(uB(i,"beforeLabel",this,e))),JF(t.lines,uB(i,"label",this,e)),JF(t.after,eB(uB(i,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return oB(uB(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=uB(n,"beforeFooter",this,e),i=uB(n,"footer",this,e),s=uB(n,"afterFooter",this,e);let a=[];return a=JF(a,eB(r)),a=JF(a,eB(i)),a=JF(a,eB(s)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let a,o,l=[];for(a=0,o=t.length;a<o;++a)l.push(tB(this.chart,t[a]));return e.filter&&(l=l.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),uM(l,(t=>{const n=lB(e.callbacks,t);r.push(uB(n,"labelColor",this,t)),i.push(uB(n,"labelPointStyle",this,t)),s.push(uB(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const e=ZF[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=nB(this,n),a=Object.assign({},e,t),o=iB(this.chart,n,a),l=sB(n,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=qD(a),{x:d,y:h}=e,{width:f,height:p}=t;let m,g,y,v,b,x;return"center"===i?(b=h+p/2,"left"===r?(m=d,g=m-s,v=b+s,x=b-s):(m=d+f,g=m+s,v=b-s,x=b+s),y=m):(g="left"===r?d+Math.max(o,c)+s:"right"===r?d+f-Math.max(l,u)-s:this.caretX,"top"===i?(v=h,b=v-s,m=g-s,y=g+s):(v=h+p,b=v+s,m=g+s,y=g-s),x=v),{x1:m,x2:g,x3:y,y1:v,y2:b,y3:x}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,a,o;if(i){const l=AR(n.rtl,this.x,this.width);for(e.x=aB(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=YD(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,o=0;o<i;++o)t.fillText(r[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,o+1===i&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=i,c=YD(i.bodyFont),u=aB(this,"left",i),d=r.x(u),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(d,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,CD(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,CD(e,t,n,c)}else{e.lineWidth=iM(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(d,l),n=r.leftForLtr(r.xPlus(d,1),l-2),a=qD(s.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,FD(e,{x:t,y:f,w:l,h:o,radius:a}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),FD(e,{x:n,y:f+1,w:l-2,h:o-2,radius:a}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:a,boxHeight:o,boxWidth:l,boxPadding:c}=n,u=YD(n.bodyFont);let d=u.lineHeight,h=0;const f=AR(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+h),e.y+d/2),e.y+=d+i},m=f.textAlign(s);let g,y,v,b,x,w,_;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=aB(this,m,n),t.fillStyle=n.bodyColor,uM(this.beforeBody,p),h=a&&"right"!==m?"center"===s?l/2+c:l+2+c:0,b=0,w=r.length;b<w;++b){for(g=r[b],y=this.labelTextColors[b],t.fillStyle=y,uM(g.before,p),v=g.lines,a&&v.length&&(this._drawColorBox(t,e,b,f,n),d=Math.max(u.lineHeight,o)),x=0,_=v.length;x<_;++x)p(v[x]),d=u.lineHeight;uM(g.after,p)}h=0,d=u.lineHeight,uM(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,a;if(i){const o=AR(n.rtl,this.x,this.width);for(e.x=aB(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",s=YD(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],o.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:a,y:o}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=qD(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+u,o),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+l-d,o),t.quadraticCurveTo(a+l,o,a+l,o+d),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+l,o+c-f),t.quadraticCurveTo(a+l,o+c,a+l-f,o+c),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+h,o+c),t.quadraticCurveTo(a,o+c,a,o+c-h),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(a,o+u),t.quadraticCurveTo(a,o,a+u,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=ZF[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=nB(this,e),a=Object.assign({},n,this._size),o=iB(t,e,a),l=sB(e,a,o,t);r._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=WD(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),OR(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),PR(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),i=!dM(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),a=this._positionChanged(s,e),o=t||!dM(s,i)||a;return o&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,s=ZF[i.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}var hB={id:"tooltip",_element:dB,positioners:ZF,afterInit(e,t,n){n&&(e.tooltip=new dB({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cB},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function fB(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function pB(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class mB extends nF{static id="category";static defaults=(()=>({ticks:{callback:pB}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(nM(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:WM(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:fB(n,e,oM(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return pB.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function gB(e,t){const n=[],{bounds:r,step:i,min:s,max:a,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=i||1,f=c-1,{min:p,max:m}=t,g=!nM(s),y=!nM(a),v=!nM(l),b=(m-p)/(u+1);let x,w,_,j,S=DM((m-p)/f/h)*h;if(S<1e-14&&!g&&!y)return[{value:p},{value:m}];j=Math.ceil(m/S)-Math.floor(p/S),j>f&&(S=DM(j*S/f/h)*h),nM(o)||(x=Math.pow(10,o),S=Math.ceil(S*x)/x),"ticks"===r?(w=Math.floor(p/S)*S,_=Math.ceil(m/S)*S):(w=p,_=m),g&&y&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-s)/i,S/1e3)?(j=Math.round(Math.min((a-s)/S,c)),S=(a-s)/j,w=s,_=a):v?(w=g?s:w,_=y?a:_,j=l-1,S=(_-w)/j):(j=(_-w)/S,j=MM(j,Math.round(j),S/1e3)?Math.round(j):Math.ceil(j));const E=Math.max(UM(S),UM(w));x=Math.pow(10,nM(o)?E:o),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let N=0;for(g&&(d&&w!==s?(n.push({value:s}),w<s&&N++,MM(Math.round((w+N*S)*x)/x,s,yB(s,b,e))&&N++):w<s&&N++);N<j;++N){const e=Math.round((w+N*S)*x)/x;if(y&&e>a)break;n.push({value:e})}return y&&d&&_!==a?n.length&&MM(n[n.length-1].value,a,yB(a,b,e))?n[n.length-1].value=a:n.push({value:a}):y&&_!==a||n.push({value:_}),n}function yB(e,t,n){let{horizontal:r,minRotation:i}=n;const s=FM(i),a=(r?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class vB extends nF{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return nM(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,a=e=>i=n?i:e;if(e){const e=PM(r),t=PM(i);e<0&&t<0?a(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);a(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=gB({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&LM(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return gD(e,this.chart.options.locale,this.options.ticks.format)}}class bB extends vB{static id="linear";static defaults=(()=>({ticks:{callback:vD.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=sM(e)?e:0,this.max=sM(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=FM(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}vD.formatters.logarithmic;vD.formatters.numeric;const xB={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wB=Object.keys(xB);function _B(e,t){return e-t}function jB(e,t){if(nM(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let a=t;return"function"===typeof r&&(a=r(a)),sM(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!RM(s)&&!0!==s?n.startOf(a,i):n.startOf(a,"isoWeek",s)),+a)}function SB(e,t,n,r){const i=wB.length;for(let s=wB.indexOf(e);s<i-1;++s){const e=xB[wB[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return wB[s]}return wB[i-1]}function EB(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=KM(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function NB(e,t,n){const r=[],i={},s=t.length;let a,o;for(a=0;a<s;++a)o=t[a],i[o]=a,r.push({value:o,major:!1});return 0!==s&&n?function(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),a=t[t.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class kB extends nF{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new lL._date(e.adapters.date);r.init(t),gM(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:jB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:a}=this.getUserBounds();function o(e){s||isNaN(e.min)||(r=Math.min(r,e.min)),a||isNaN(e.max)||(i=Math.max(i,e.max))}s&&a||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=sM(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=sM(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?SB(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let s=wB.length-1;s>=wB.indexOf(n);s--){const n=wB[s];if(xB[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return wB[n?wB.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=wB.indexOf(e)+1,n=wB.length;t<n;++t)if(xB[wB[t]].common)return wB[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),NB(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=WM(r,0,s),i=WM(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||SB(i.minUnit,t,n,this._getLabelCapacity(t)),a=oM(r.ticks.stepSize,1),o="week"===s&&i.isoWeekday,l=RM(o)||!0===o,c={};let u,d,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":s),e.diff(n,t,s)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=h,d=0;u<n;u=+e.add(u,a,s),d++)EB(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==d||EB(c,u,f),Object.keys(c).sort(_B).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return cM(s,[e,t,n],this);const a=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],u=l&&a[l],d=n[t],h=l&&u&&d&&d.major;return this._adapter.format(e,r||(h?u:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=FM(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*s,h:n*s+a*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,NB(this,[e],this._majorUnit),r),s=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(jB(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return JM(e.sort(_B))}}const CB="label";function TB(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function IB(e,t){e.labels=t}function AB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:CB;const r=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}}))}function OB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CB;const n={labels:[],datasets:[]};return IB(n,e.labels),AB(n,e.datasets,t),n}function PB(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=e,p=(0,r.useRef)(null),m=(0,r.useRef)(null),g=()=>{p.current&&(m.current=new PF(p.current,{type:o,data:OB(l,a),options:c&&{...c},plugins:u}),TB(t,m.current))},y=()=>{TB(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,r.useEffect)((()=>{!s&&m.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,c)}),[s,c]),(0,r.useEffect)((()=>{!s&&m.current&&IB(m.current.config.data,l.labels)}),[s,l.labels]),(0,r.useEffect)((()=>{!s&&m.current&&l.datasets&&AB(m.current.config.data,l.datasets,a)}),[s,l.datasets]),(0,r.useEffect)((()=>{m.current&&(s?(y(),setTimeout(g)):m.current.update(h))}),[s,c,l.labels,l.datasets,h]),(0,r.useEffect)((()=>{m.current&&(y(),setTimeout(g))}),[o]),(0,r.useEffect)((()=>(g(),()=>y())),[]),r.createElement("canvas",{ref:p,role:"img",height:n,width:i,...f},d)}const MB=(0,r.forwardRef)(PB);function DB(e,t){return PF.register(t),(0,r.forwardRef)(((t,n)=>r.createElement(MB,{...t,ref:n,type:e})))}const RB=DB("line",sL);PF.register(mB,bB,qF,$F,QF,hB,GF);const LB={"1419CF":{AccessLogs:"e:03-10-2025 20:02:32",PZEMData:{Current:"0.16",Energy:"0.04",Frequency:"59.80",Power:"1.20",PowerFactor:"0.03",Voltage:"228.40"}},"1419CFBA":{AccessLogs:"03-10-2025 20:02:32",PZEMData:{Current:"0.16",Energy:"0.04",Frequency:"59.80",Power:"1.20",PowerFactor:"0.03",Voltage:"228.40"}},"74F8C4BA":{AccessLogs:"03-10-2025 21:12:31",PZEMData:{Current:"0.16",Energy:"0.04",Frequency:"60.10",Power:"1.10",PowerFactor:"0.03",Voltage:"226.50"}}},FB=e=>{let{icon:t,title:n,value:r,description:i}=e;return(0,o_.jsx)(nT.div,{whileHover:{scale:1.02},className:"bg-white p-6 rounded-xl shadow-sm",children:(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)("div",{className:"p-2 bg-indigo-100 rounded-lg",children:(0,o_.jsx)(t,{className:"w-6 h-6 text-indigo-600"})}),(0,o_.jsxs)("div",{className:"ml-4",children:[(0,o_.jsx)("p",{className:"text-sm font-medium text-gray-600",children:n}),(0,o_.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:r}),(0,o_.jsx)("p",{className:"text-sm text-gray-500",children:i})]})]})})},BB=e=>{let{label:t,value:n,color:r,icon:i}=e;return(0,o_.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,o_.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,o_.jsx)(i,{className:"w-5 h-5",style:{color:r}}),(0,o_.jsx)("span",{className:"text-sm font-medium text-gray-600",children:t})]}),(0,o_.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,o_.jsxs)("span",{className:"text-2xl font-semibold",style:{color:r},children:[n.toFixed(2)," kWh"]})}),(0,o_.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,o_.jsx)("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:n/10*100+"%",backgroundColor:r,boxShadow:`0 0 8px ${r}40`}})})]})},UB=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(""),[o,l]=(0,r.useState)("hour"),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)([]),[f,p]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=[{id:"1",name:"705",building:"GLE Building",floor:"7th Floor"},{id:"2",name:"706",building:"GLE Building",floor:"7th Floor"}];h(e.sort(((e,t)=>e.name.localeCompare(t.name)))),a(e[0].name)}),[]),(0,r.useEffect)((()=>{if(!s)return;const e=[{id:"1",classroomId:s,timestamp:new Date("2025-03-10T20:00:00"),consumptionKWh:.04,devices:{lighting:.01,projection:.01,computers:.01,hvac:.01}},{id:"2",classroomId:s,timestamp:new Date("2025-03-10T21:00:00"),consumptionKWh:.04,devices:{lighting:.01,projection:.01,computers:.01,hvac:.01}}].filter((e=>{const t=m();return e.timestamp>t}));t(e),u(!1)}),[s,o]),(0,r.useEffect)((()=>{(()=>{try{const e={"1419CF":"705","1419CFBA":"705","74F8C4BA":"706"},t=LB,n=[];Object.entries(t).forEach((t=>{let[r,i]=t;const s=e[r]||"Unknown";if(i.PZEMData){const e={Current:i.PZEMData.Current||"0",Energy:i.PZEMData.Energy||"0",Frequency:i.PZEMData.Frequency||"0",Power:i.PZEMData.Power||"0",PowerFactor:i.PZEMData.PowerFactor||"0",Voltage:i.PZEMData.Voltage||"0",timestamp:i.AccessLogs.replace("e:","")};n.push({roomName:s,pzemData:e})}}));const r=n.filter((e=>{const t=!s||e.roomName===s,n=new Date(e.pzemData.timestamp||""),r=m();return t&&n>r}));i(r),u(!1)}catch(Zg){console.error("Error processing PZEM data:",Zg),vT().fire("Error","Failed to process PZEM data","error")}})()}),[s,o]);const m=()=>{const e=new Date;switch(o){case"hour":return new Date(e.getTime()-36e5);case"day":return new Date(e.getTime()-864e5);case"week":return new Date(e.getTime()-6048e5);default:return e}},g={labels:e.map((e=>e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}))),datasets:[{label:"Total Energy Consumption (kWh)",data:e.map((e=>e.consumptionKWh)),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.5)",tension:.4}]},y=e.reduce(((e,t)=>e+t.consumptionKWh),0),v=y/(e.length||1),b=e.length>0?Math.max(...e.map((e=>e.consumptionKWh))):0,x=n.reduce(((e,t)=>e+parseFloat(t.pzemData.Power||"0")),0),w=x/(n.length||1);return(0,o_.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("button",{onClick:()=>p(!f),className:"md:hidden fixed top-4 left-4 z-50 bg-indigo-600 text-white p-2 rounded-full shadow-lg hover:bg-indigo-500 transition-colors",children:(0,o_.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})}),(0,o_.jsx)("div",{className:`flex-1 transition-all duration-300 ease-in-out ${f?"ml-64":"ml-0 md:ml-64"} overflow-y-auto`,children:(0,o_.jsxs)("div",{className:"p-8",children:[(0,o_.jsxs)("div",{className:"mb-8",children:[(0,o_.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Energy Usage Analytics"}),(0,o_.jsx)("p",{className:"mt-2 text-gray-600",children:"Monitor and analyze classroom energy consumption"})]}),(0,o_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,o_.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,o_.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[(0,o_.jsx)(uP,{className:"w-5 h-5 inline-block mr-2 text-indigo-600"}),"Select Classroom"]}),d.length>0?(0,o_.jsx)("select",{value:s,onChange:e=>a(e.target.value),className:"w-full rounded-lg border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 py-2.5",children:d.map((e=>(0,o_.jsxs)("option",{value:e.name,children:[e.name," - ",e.building,", ",e.floor]},e.id)))}):(0,o_.jsxs)("div",{className:"flex items-center text-yellow-600",children:[(0,o_.jsx)(hP,{className:"w-5 h-5 mr-2"}),(0,o_.jsx)("span",{children:"No rooms available"})]})]}),(0,o_.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,o_.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[(0,o_.jsx)(oO,{className:"w-5 h-5 inline-block mr-2 text-indigo-600"}),"Time Range"]}),(0,o_.jsx)("div",{className:"flex gap-3",children:["hour","day","week"].map((e=>(0,o_.jsx)("button",{onClick:()=>l(e),className:"flex-1 py-2.5 px-4 rounded-lg text-sm font-medium transition-all duration-200 "+(o===e?"bg-indigo-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"hour"===e?"Last Hour":"day"===e?"Last 24 Hours":"Last Week"},e)))})]})]}),c?(0,o_.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o_.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,o_.jsxs)(o_.Fragment,{children:[(0,o_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,o_.jsx)(FB,{icon:pP,title:"Total Consumption",value:`${y.toFixed(2)} kWh`,description:"Total energy used"}),(0,o_.jsx)(FB,{icon:sO,title:"Average Consumption",value:`${v.toFixed(2)} kWh`,description:"Average per reading"}),(0,o_.jsx)(FB,{icon:gP,title:"Peak Usage",value:`${b.toFixed(2)} kWh`,description:"Highest consumption"}),(0,o_.jsx)(FB,{icon:vP,title:"Readings",value:e.length,description:"Total data points"})]}),(0,o_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,o_.jsx)(FB,{icon:pP,title:"Total PZEM Power",value:`${x.toFixed(2)} W`,description:"Total power from PZEM"}),(0,o_.jsx)(FB,{icon:sO,title:"Average PZEM Power",value:`${w.toFixed(2)} W`,description:"Average power reading"}),(0,o_.jsx)(FB,{icon:gP,title:"PZEM Readings",value:n.length,description:"Total PZEM data points"})]}),(0,o_.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm mb-8",children:(0,o_.jsx)("div",{className:"h-[400px]",children:(0,o_.jsx)(RB,{data:g,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Energy Consumption Over Time",font:{size:16,weight:"bold"}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Energy (kWh)"}},x:{title:{display:!0,text:"Time"}}}}})})}),n.length>0&&(0,o_.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm mb-8",children:[(0,o_.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"PZEM Power Readings"}),(0,o_.jsx)("div",{className:"overflow-x-auto",children:(0,o_.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o_.jsx)("thead",{className:"bg-gray-50",children:(0,o_.jsxs)("tr",{children:[(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room Name"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Power (W)"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voltage (V)"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current (A)"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Energy (kWh)"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"})]})}),(0,o_.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(((e,t)=>(0,o_.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.roomName}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:parseFloat(e.pzemData.Power||"0").toFixed(2)}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:parseFloat(e.pzemData.Voltage||"0").toFixed(2)}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:parseFloat(e.pzemData.Current||"0").toFixed(2)}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:parseFloat(e.pzemData.Energy||"0").toFixed(2)}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.pzemData.timestamp||"").toLocaleString()})]},t)))})]})})]}),e.length>0&&(0,o_.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[(0,o_.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Device Energy Breakdown"}),(0,o_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,o_.jsx)(BB,{label:"Lighting",value:e[e.length-1].devices.lighting,color:"rgb(59, 130, 246)",icon:xP}),(0,o_.jsx)(BB,{label:"Projection",value:e[e.length-1].devices.projection,color:"rgb(16, 185, 129)",icon:sO}),(0,o_.jsx)(BB,{label:"Computers",value:e[e.length-1].devices.computers,color:"rgb(245, 158, 11)",icon:gP}),(0,o_.jsx)(BB,{label:"HVAC",value:e[e.length-1].devices.hvac,color:"rgb(239, 68, 68)",icon:vP})]})]})]})]})})]})};function VB(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const zB=r.forwardRef(VB);function $B(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const HB=r.forwardRef($B),qB=()=>{const e=Array.from({length:10},(()=>({x:100*Math.random(),y:100*Math.random(),speedX:.2*(Math.random()-.5),speedY:.2*(Math.random()-.5)})));return(0,o_.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(((e,t)=>(0,o_.jsx)(nT.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:`${e.x}vw`,y:`${e.y}vh`,opacity:.6},animate:{x:`${e.x+50*e.speedX}vw`,y:`${e.y+50*e.speedY}vh`,opacity:[.6,.8,.6]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}},t)))})},WB=e=>{let{student:t}=e;const{logout:n}=c_(),i=te(),[s,a]=(0,r.useState)(!1);return(0,o_.jsxs)("nav",{className:"fixed top-0 left-0 right-0 bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 text-white shadow-lg z-50 font-mono overflow-visible",children:[(0,o_.jsx)(qB,{}),(0,o_.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o_.jsxs)("div",{className:"flex justify-between h-16",children:[(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)(qI,{className:"h-8 w-8 text-cyan-400"}),(0,o_.jsxs)("div",{className:"ml-2",children:[(0,o_.jsx)("span",{className:"text-xl font-semibold text-cyan-100",children:"Smart EcoLock"}),(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:t.department})]})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o_.jsx)(Ce,{to:"/student/dashboard",className:"text-cyan-200 hover:text-white hover:bg-gray-800/50 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Dashboard"}),(0,o_.jsx)(Ce,{to:"/student/attendance",className:"text-cyan-200 hover:text-white hover:bg-gray-800/50 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Attendance"}),(0,o_.jsx)(Ce,{to:"/student/schedule",className:"text-cyan-200 hover:text-white hover:bg-gray-800/50 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Schedule"}),(0,o_.jsxs)(nT.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"relative p-2 text-cyan-200 hover:text-cyan-100",children:[(0,o_.jsx)(zB,{className:"h-6 w-6"}),(0,o_.jsx)("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 rounded-full text-xs flex items-center justify-center border border-cyan-800",children:"1"})]}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsxs)("button",{onClick:()=>a(!s),className:"flex items-center space-x-3 focus:outline-none hover:opacity-80 transition-opacity",children:[(0,o_.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-700/50 flex items-center justify-center border border-cyan-800",children:(0,o_.jsx)(YI,{className:"h-5 w-5 text-cyan-400"})}),(0,o_.jsxs)("div",{className:"text-left hidden md:block",children:[(0,o_.jsx)("p",{className:"text-sm font-medium text-cyan-100",children:t.fullName}),(0,o_.jsx)("p",{className:"text-xs text-cyan-300",children:t.section})]})]}),s&&(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-48 rounded-xl shadow-xl py-1 bg-gray-800/80 backdrop-blur-lg border border-cyan-800 z-50",style:{top:"100%"},children:[(0,o_.jsxs)(Ce,{to:"/student/profile",className:"flex items-center px-4 py-2 text-sm text-cyan-100 hover:bg-gray-700 transition-colors",children:[(0,o_.jsx)(YI,{className:"h-4 w-4 mr-2 text-cyan-400"}),"Your Profile"]}),(0,o_.jsxs)("button",{onClick:async()=>{try{await n(),localStorage.removeItem("userRole"),localStorage.removeItem("userData"),i("/login")}catch(Zg){console.error("Logout failed:",Zg)}},className:"flex items-center w-full px-4 py-2 text-sm text-red-400 hover:bg-gray-700 transition-colors",children:[(0,o_.jsx)(HB,{className:"h-4 w-4 mr-2 text-red-400"}),"Sign Out"]})]})]})]})]})})]})};function YB(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const KB=r.forwardRef(YB);function GB(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const XB=r.forwardRef(GB);function QB(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=QB(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const ZB=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=QB(e))&&(r&&(r+=" "),r+=t);return r};var JB=n(9889),eU=n.n(JB),tU=n(620),nU=n.n(tU),rU=n(5268),iU=n.n(rU),sU=n(3097),aU=n.n(sU),oU=n(9160),lU=n.n(oU),cU=function(e){return 0===e?0:e>0?1:-1},uU=function(e){return nU()(e)&&e.indexOf("%")===e.length-1},dU=function(e){return lU()(e)&&!iU()(e)},hU=function(e){return dU(e)||nU()(e)},fU=0,pU=function(e){var t=++fU;return"".concat(e||"").concat(t)},mU=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!dU(e)&&!nU()(e))return r;if(uU(e)){var s=e.indexOf("%");n=t*parseFloat(e.slice(0,s))/100}else n=+e;return iU()(n)&&(n=r),i&&n>t&&(n=t),n},gU=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},yU=function(e,t){return dU(e)&&dU(t)?function(n){return e+n*(t-e)}:function(){return t}};function vU(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):aU()(e,t))===n})):null}var bU=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},xU=n(9686),wU=n.n(xU),_U=n(1629),jU=n.n(_U),SU=n(6686),EU=n.n(SU),NU=n(9062);function kU(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function CU(e){return CU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CU(e)}var TU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IU=["points","pathLength"],AU={svg:["viewBox","children"],polygon:IU,polyline:IU},OU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],PU=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),!EU()(n))return null;var i={};return Object.keys(n).forEach((function(e){OU.includes(e)&&(i[e]=t||function(t){return n[e](n,t)})})),i},MU=function(e,t,n){if(!EU()(e)||"object"!==CU(e))return null;var r=null;return Object.keys(e).forEach((function(i){var s=e[i];OU.includes(i)&&"function"===typeof s&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(s,t,n))})),r},DU=["children"],RU=["children"];function LU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var FU={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},BU=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},UU=null,VU=null,zU=function e(t){if(t===UU&&Array.isArray(VU))return VU;var n=[];return r.Children.forEach(t,(function(t){wU()(t)||((0,NU.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),VU=n,UU=t,n};function $U(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return BU(e)})):[BU(t)],zU(e).forEach((function(e){var t=aU()(e,"type.displayName")||aU()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function HU(e,t){var n=$U(e,t);return n&&n[0]}var qU=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!dU(n)||n<=0||!dU(r)||r<=0)},WU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],YU=function(e){return e&&e.type&&nU()(e.type)&&WU.indexOf(e.type)>=0},KU=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,r.isValidElement)(e)&&(i=e.props),!EU()(i))return null;var s={};return Object.keys(i).forEach((function(e){var r;(function(e,t,n,r){var i,s=null!==(i=null===AU||void 0===AU?void 0:AU[r])&&void 0!==i?i:[];return!jU()(e)&&(r&&s.includes(t)||TU.includes(t))||n&&OU.includes(t)})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(s[e]=i[e])})),s},GU=function e(t,n){if(t===n)return!0;var i=r.Children.count(t);if(i!==r.Children.count(n))return!1;if(0===i)return!0;if(1===i)return XU(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<i;s++){var a=t[s],o=n[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!XU(a,o))return!1}return!0},XU=function(e,t){if(wU()(e)&&wU()(t))return!0;if(!wU()(e)&&!wU()(t)){var n=e.props||{},r=n.children,i=LU(n,DU),s=t.props||{},a=s.children,o=LU(s,RU);return r&&a?kU(i,o)&&GU(r,a):!r&&!a&&kU(i,o)}return!1},QU=function(e,t){var n=[],r={};return zU(e).forEach((function(e,i){if(YU(e))n.push(e);else if(e){var s=BU(e.type),a=t[s]||{},o=a.handler,l=a.once;if(o&&(!l||!r[s])){var c=o(e,s,i);n.push(c),r[s]=!0}}})),n},ZU=function(e,t){return zU(t).indexOf(e)};function JU(e){return JU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JU(e)}function eV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eV(Object(n),!0).forEach((function(t){nV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=JU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return iV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sV=(0,r.forwardRef)((function(e,t){var n=e.aspect,i=e.initialDimension,s=void 0===i?{width:-1,height:-1}:i,a=e.width,o=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,x=e.style,w=void 0===x?{}:x,_=(0,r.useRef)(null),j=(0,r.useRef)();j.current=b,(0,r.useImperativeHandle)(t,(function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})}));var S=rV((0,r.useState)({containerWidth:s.width,containerHeight:s.height}),2),E=S[0],N=S[1],k=(0,r.useCallback)((function(e,t){N((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,r.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;k(r,i),null===(t=j.current)||void 0===t||t.call(j,r,i)};g>0&&(e=eU()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=_.current.getBoundingClientRect(),r=n.width,i=n.height;return k(r,i),t.observe(_.current),function(){t.disconnect()}}),[k,g]);var C=(0,r.useMemo)((function(){var e=E.containerWidth,t=E.containerHeight;if(e<0||t<0)return null;bU(uU(o)||uU(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,c),bU(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=uU(o)?e:o,s=uU(c)?t:c;n&&n>0&&(i?s=i/n:s&&(i=s*n),f&&s>f&&(s=f)),bU(i>0||s>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,s,o,c,d,h,n);var a=!Array.isArray(p)&&BU(p.type).endsWith("Chart");return r.Children.map(p,(function(e){return r.isValidElement(e)?(0,r.cloneElement)(e,tV({width:i,height:s},a?{style:tV({height:"100%",width:"100%",maxHeight:s,maxWidth:i},e.props.style)}:{})):e}))}),[n,p,c,f,h,d,E,o]);return r.createElement("div",{id:y?"".concat(y):void 0,className:ZB("recharts-responsive-container",v),style:tV(tV({},w),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:_},C)})),aV=n(6604),oV=n.n(aV),lV=n(7424),cV=n.n(lV),uV="Invariant failed";function dV(e,t){if(!e)throw new Error(uV)}var hV=["children","width","height","viewBox","className","style","title","desc"];function fV(){return fV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fV.apply(this,arguments)}function pV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mV(e){var t=e.children,n=e.width,i=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=pV(e,hV),d=s||{width:n,height:i,x:0,y:0},h=ZB("recharts-surface",a);return r.createElement("svg",fV({},KU(u,!0,"svg"),{className:h,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),r.createElement("title",null,l),r.createElement("desc",null,c),t)}var gV=["children","className"];function yV(){return yV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yV.apply(this,arguments)}function vV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var bV=r.forwardRef((function(e,t){var n=e.children,i=e.className,s=vV(e,gV),a=ZB("recharts-layer",i);return r.createElement("g",yV({className:a},KU(s,!0),{ref:t}),n)}));function xV(e){return xV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xV(e)}function wV(){return wV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wV.apply(this,arguments)}function _V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return jV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SV(Object(n),!0).forEach((function(t){NV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kV(e){return Array.isArray(e)&&hU(e[0])&&hU(e[1])?e.join(" ~ "):e}var CV=function(e){var t=e.separator,n=void 0===t?" : ":t,i=e.contentStyle,s=void 0===i?{}:i,a=e.itemStyle,o=void 0===a?{}:a,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=EV({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),x=EV({margin:0},c),w=!wU()(m),_=w?m:"",j=ZB("recharts-default-tooltip",f),S=ZB("recharts-tooltip-label",p);w&&g&&void 0!==u&&null!==u&&(_=g(m,u));var E=v?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",wV({className:j,style:b},E),r.createElement("p",{className:S,style:x},r.isValidElement(_)?_:"".concat(_)),function(){if(u&&u.length){var e=(h?cV()(u,h):u).map((function(e,t){if("none"===e.type)return null;var i=EV({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),s=e.formatter||d||kV,a=e.value,l=e.name,c=a,h=l;if(s&&null!=c&&null!=h){var f=s(a,l,e,t,u);if(Array.isArray(f)){var p=_V(f,2);c=p[0],h=p[1]}else c=f}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:i},hU(h)?r.createElement("span",{className:"recharts-tooltip-item-name"},h):null,hU(h)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},c),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function TV(e){return TV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TV(e)}function IV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=TV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AV="recharts-tooltip-wrapper",OV={visibility:"hidden"};function PV(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return ZB(AV,IV(IV(IV(IV({},"".concat(AV,"-right"),dU(n)&&t&&dU(t.x)&&n>=t.x),"".concat(AV,"-left"),dU(n)&&t&&dU(t.x)&&n<t.x),"".concat(AV,"-bottom"),dU(r)&&t&&dU(t.y)&&r>=t.y),"".concat(AV,"-top"),dU(r)&&t&&dU(t.y)&&r<t.y))}function MV(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&dU(s[r]))return s[r];var u=n[r]-o-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+o>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function DV(e){return DV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DV(e)}function RV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RV(Object(n),!0).forEach((function(t){$V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HV(r.key),r)}}function BV(e,t,n){return t=VV(t),function(e,t){if(t&&("object"===DV(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UV()?Reflect.construct(t,n||[],VV(e).constructor):t.apply(e,n))}function UV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UV=function(){return!!e})()}function VV(e){return VV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VV(e)}function zV(e,t){return zV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zV(e,t)}function $V(e,t,n){return(t=HV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HV(e){var t=function(e,t){if("object"!=DV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DV(t)?t:t+""}var qV=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $V(e=BV(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$V(e,"handleKeyDown",(function(t){var n,r,i,s;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(s=e.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==i?i:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zV(e,t)}(t,e),n=t,(i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,s=t.animationDuration,a=t.animationEasing,o=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=MV({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:s,position:a,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=MV({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:s,position:a,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):OV,cssClasses:PV({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,x=LV(LV({transition:u&&n?"transform ".concat(s,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return r.createElement("div",{tabIndex:-1,className:v,style:x,ref:function(t){e.wrapperNode=t}},o)}}])&&FV(n.prototype,i),s&&FV(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.PureComponent),WV={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return WV[e]},set:function(e,t){if("string"===typeof e)WV[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){WV[t]=e[t]}))}}},YV=n(977),KV=n.n(YV);function GV(e,t,n){return!0===t?KV()(e,n):jU()(t)?KV()(e,t):e}function XV(e){return XV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XV(e)}function QV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QV(Object(n),!0).forEach((function(t){iz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sz(r.key),r)}}function ez(e,t,n){return t=nz(t),function(e,t){if(t&&("object"===XV(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tz()?Reflect.construct(t,n||[],nz(e).constructor):t.apply(e,n))}function tz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tz=function(){return!!e})()}function nz(e){return nz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nz(e)}function rz(e,t){return rz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rz(e,t)}function iz(e,t,n){return(t=sz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sz(e){var t=function(e,t){if("object"!=XV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XV(t)?t:t+""}function az(e){return e.dataKey}var oz=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ez(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rz(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,s=t.animationDuration,a=t.animationEasing,o=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=GV(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,az));var x=b.length>0;return r.createElement(qV,{allowEscapeViewBox:i,animationDuration:s,animationEasing:a,isAnimationActive:u,active:n,coordinate:l,hasPayload:x,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(CV,t)}(o,ZV(ZV({},this.props),{},{payload:b})))}}])&&JV(n.prototype,i),s&&JV(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.PureComponent);iz(oz,"displayName","Tooltip"),iz(oz,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!WV.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lz=n(643),cz=n.n(lz);Math.abs,Math.atan2;const uz=Math.cos,dz=(Math.max,Math.min,Math.sin),hz=Math.sqrt,fz=Math.PI,pz=2*fz;const mz={draw(e,t){const n=hz(t/fz);e.moveTo(n,0),e.arc(0,0,n,0,pz)}},gz={draw(e,t){const n=hz(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},yz=hz(1/3),vz=2*yz,bz={draw(e,t){const n=hz(t/vz),r=n*yz;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},xz={draw(e,t){const n=hz(t),r=-n/2;e.rect(r,r,n,n)}},wz=dz(fz/10)/dz(7*fz/10),_z=dz(pz/10)*wz,jz=-uz(pz/10)*wz,Sz={draw(e,t){const n=hz(.8908130915292852*t),r=_z*n,i=jz*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const t=pz*s/5,a=uz(t),o=dz(t);e.lineTo(o*n,-a*n),e.lineTo(a*r-o*i,o*r+a*i)}e.closePath()}},Ez=hz(3),Nz={draw(e,t){const n=-hz(t/(3*Ez));e.moveTo(0,2*n),e.lineTo(-Ez*n,-n),e.lineTo(Ez*n,-n),e.closePath()}},kz=-.5,Cz=hz(3)/2,Tz=1/hz(12),Iz=3*(Tz/2+1),Az={draw(e,t){const n=hz(t/Iz),r=n/2,i=n*Tz,s=r,a=n*Tz+n,o=-s,l=a;e.moveTo(r,i),e.lineTo(s,a),e.lineTo(o,l),e.lineTo(kz*r-Cz*i,Cz*r+kz*i),e.lineTo(kz*s-Cz*a,Cz*s+kz*a),e.lineTo(kz*o-Cz*l,Cz*o+kz*l),e.lineTo(kz*r+Cz*i,kz*i-Cz*r),e.lineTo(kz*s+Cz*a,kz*a-Cz*s),e.lineTo(kz*o+Cz*l,kz*l-Cz*o),e.closePath()}};function Oz(e){return function(){return e}}const Pz=Math.PI,Mz=2*Pz,Dz=1e-6,Rz=Mz-Dz;function Lz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Fz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Lz:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Lz;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,s){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+s}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let s=this._x1,a=this._y1,o=n-e,l=r-t,c=s-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Dz)if(Math.abs(u*o-l*c)>Dz&&i){let h=n-s,f=r-a,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((Pz-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>Dz&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+x*o},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,s){if(e=+e,t=+t,s=!!s,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),o=n*Math.sin(r),l=e+a,c=t+o,u=1^s,d=s?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Dz||Math.abs(this._y1-c)>Dz)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%Mz+Mz),d>Rz?this._append`A${n},${n},0,1,${u},${e-a},${t-o}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>Dz&&this._append`A${n},${n},0,${+(d>=Pz)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Bz(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Fz(t)}hz(3),hz(3);function Uz(e){return Uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uz(e)}var Vz=["type","size","sizeType"];function zz(){return zz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zz.apply(this,arguments)}function $z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$z(Object(n),!0).forEach((function(t){qz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Uz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Uz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Uz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Yz={symbolCircle:mz,symbolCross:gz,symbolDiamond:bz,symbolSquare:xz,symbolStar:Sz,symbolTriangle:Nz,symbolWye:Az},Kz=Math.PI/180,Gz=function(e){var t=e.type,n=void 0===t?"circle":t,i=e.size,s=void 0===i?64:i,a=e.sizeType,o=void 0===a?"area":a,l=Hz(Hz({},Wz(e,Vz)),{},{type:n,size:s,sizeType:o}),c=l.className,u=l.cx,d=l.cy,h=KU(l,!0);return u===+u&&d===+d&&s===+s?r.createElement("path",zz({},h,{className:ZB("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(cz()(e));return Yz[t]||mz}(n),t=function(e,t){let n=null,r=Bz(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Oz(e||mz),t="function"===typeof t?t:Oz(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Oz(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Oz(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Kz;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,o,n));return t()}()})):null};function Xz(e){return Xz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xz(e)}function Qz(){return Qz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qz.apply(this,arguments)}function Zz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s$(r.key),r)}}function e$(e,t,n){return t=n$(t),function(e,t){if(t&&("object"===Xz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,t$()?Reflect.construct(t,n||[],n$(e).constructor):t.apply(e,n))}function t$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(t$=function(){return!!e})()}function n$(e){return n$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n$(e)}function r$(e,t){return r$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r$(e,t)}function i$(e,t,n){return(t=s$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s$(e){var t=function(e,t){if("object"!=Xz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xz(t)?t:t+""}Gz.registerSymbol=function(e,t){Yz["symbol".concat(cz()(e))]=t};var a$=32,o$=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e$(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r$(e,t)}(t,e),n=t,i=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,i=a$/6,s=a$/3,a=e.inactive?t:e.color;if("plainline"===e.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:a$,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(s,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(n,"\n            H").concat(a$,"M").concat(2*s,",").concat(n,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return r.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(a$,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zz(Object(n),!0).forEach((function(t){i$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete o.legendIcon,r.cloneElement(e.legendIcon,o)}return r.createElement(Gz,{fill:a,cx:n,cy:n,size:a$,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,i=t.iconSize,s=t.layout,a=t.formatter,o=t.inactiveColor,l={x:0,y:0,width:a$,height:a$},c={display:"horizontal"===s?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var s=t.formatter||a,d=ZB(i$(i$({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=jU()(t.value)?null:t.value;bU(!jU()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?o:t.color;return r.createElement("li",Qz({className:d,style:c,key:"legend-item-".concat(n)},MU(e.props,t,n)),r.createElement(mV,{width:i,height:i,viewBox:l,style:u},e.renderIcon(t)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},s?s(h,t,n):h))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,i=e.align;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===n?i:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}],i&&Jz(n.prototype,i),s&&Jz(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.PureComponent);function l$(e){return l$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l$(e)}i$(o$,"displayName","Legend"),i$(o$,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var c$=["ref"];function u$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u$(Object(n),!0).forEach((function(t){y$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v$(r.key),r)}}function f$(e,t,n){return t=m$(t),function(e,t){if(t&&("object"===l$(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p$()?Reflect.construct(t,n||[],m$(e).constructor):t.apply(e,n))}function p$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p$=function(){return!!e})()}function m$(e){return m$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m$(e)}function g$(e,t){return g$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g$(e,t)}function y$(e,t,n){return(t=v$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v$(e){var t=function(e,t){if("object"!=l$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l$(t)?t:t+""}function b$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x$(e){return e.value}var w$=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return y$(e=f$(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g$(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?d$({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,s=r.align,a=r.verticalAlign,o=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),d$(d$({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,i=t.width,s=t.height,a=t.wrapperStyle,o=t.payloadUniqBy,l=t.payload,c=d$(d$({position:"absolute",width:i||"auto",height:s||"auto"},this.getDefaultPosition(a)),a);return r.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return r.createElement(e,t);t.ref;var n=b$(t,c$);return r.createElement(o$,n)}(n,d$(d$({},this.props),{},{payload:GV(l,o,x$)})))}}],s=[{key:"getWithHeight",value:function(e,t){var n=d$(d$({},this.defaultProps),e.props).layout;return"vertical"===n&&dU(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],i&&h$(n.prototype,i),s&&h$(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.PureComponent);function _$(){return _$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_$.apply(this,arguments)}y$(w$,"displayName","Legend"),y$(w$,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var j$=function(e){var t=e.cx,n=e.cy,i=e.r,s=e.className,a=ZB("recharts-dot",s);return t===+t&&n===+n&&i===+i?r.createElement("circle",_$({},KU(e,!1),PU(e),{className:a,cx:t,cy:n,r:i})):null},S$=n(5173),E$=n.n(S$),N$=Object.getOwnPropertyNames,k$=Object.getOwnPropertySymbols,C$=Object.prototype.hasOwnProperty;function T$(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function I$(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,s=i.get(t),a=i.get(n);if(s&&a)return s===n&&a===t;i.set(t,n),i.set(n,t);var o=e(t,n,r);return i.delete(t),i.delete(n),o}}function A$(e){return N$(e).concat(k$(e))}var O$=Object.hasOwn||function(e,t){return C$.call(e,t)};function P$(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var M$=Object.getOwnPropertyDescriptor,D$=Object.keys;function R$(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function L$(e,t){return P$(e.getTime(),t.getTime())}function F$(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function B$(e,t){return e===t}function U$(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,s,a=new Array(r),o=e.entries(),l=0;(i=o.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;)if(a[d])d++;else{var h=i.value,f=s.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var V$=P$;function z$(e,t,n){var r=D$(e),i=r.length;if(D$(t).length!==i)return!1;for(;i-- >0;)if(!G$(e,t,n,r[i]))return!1;return!0}function $$(e,t,n){var r,i,s,a=A$(e),o=a.length;if(A$(t).length!==o)return!1;for(;o-- >0;){if(!G$(e,t,n,r=a[o]))return!1;if(i=M$(e,r),s=M$(t,r),(i||s)&&(!i||!s||i.configurable!==s.configurable||i.enumerable!==s.enumerable||i.writable!==s.writable))return!1}return!0}function H$(e,t){return P$(e.valueOf(),t.valueOf())}function q$(e,t){return e.source===t.source&&e.flags===t.flags}function W$(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,s,a=new Array(r),o=e.values();(i=o.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!a[u]&&n.equals(i.value,s.value,i.value,s.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function Y$(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function K$(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function G$(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||O$(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var X$=Array.isArray,Q$="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Z$=Object.assign,J$=Object.prototype.toString.call.bind(Object.prototype.toString);var eH=tH();tH({strict:!0}),tH({circular:!0}),tH({circular:!0,strict:!0}),tH({createInternalComparator:function(){return P$}}),tH({strict:!0,createInternalComparator:function(){return P$}}),tH({circular:!0,createInternalComparator:function(){return P$}}),tH({circular:!0,createInternalComparator:function(){return P$},strict:!0});function tH(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,s=e.createState,a=e.strict,o=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?$$:R$,areDatesEqual:L$,areErrorsEqual:F$,areFunctionsEqual:B$,areMapsEqual:r?T$(U$,$$):U$,areNumbersEqual:V$,areObjectsEqual:r?$$:z$,arePrimitiveWrappersEqual:H$,areRegExpsEqual:q$,areSetsEqual:r?T$(W$,$$):W$,areTypedArraysEqual:r?$$:Y$,areUrlsEqual:K$};if(n&&(i=Z$({},i,n(i))),t){var s=I$(i.areArraysEqual),a=I$(i.areMapsEqual),o=I$(i.areObjectsEqual),l=I$(i.areSetsEqual);i=Z$({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,a=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?a(e,f,p):"function"===m&&i(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return o(e,f,p);if(X$(e))return t(e,f,p);if(null!=Q$&&Q$(e))return d(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return s(e,f,p);if(g===Set)return u(e,f,p);var y=J$(e);return"[object Date]"===y?n(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?s(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&o(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?r(e,f,p):"[object Arguments]"===y?o(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=i?i(c):(t=c,function(e,n,r,i,s,a,o){return t(e,n,o)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,s=e.strict;if(r)return function(e,a){var o=r(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,u=o.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:s})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:s,equals:u,strict:o})}function nH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function rH(e){return rH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rH(e)}function iH(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return sH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aH(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=iH(r),s=i[0],a=i.slice(1);return"number"===typeof s?void nH(n.bind(null,a),s):(n(s),void nH(n.bind(null,a)))}"object"===rH(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function oH(e){return oH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oH(e)}function lH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lH(Object(n),!0).forEach((function(t){uH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==oH(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oH(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dH=function(e){return e},hH=function(e,t){return Object.keys(t).reduce((function(n,r){return cH(cH({},n),{},uH({},r,e(r,t[r])))}),{})},fH=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function pH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||gH(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mH(e){return function(e){if(Array.isArray(e))return yH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gH(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gH(e,t){if(e){if("string"===typeof e)return yH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yH(e,t):void 0}}function yH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vH=1e-4,bH=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},xH=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},wH=function(e,t){return function(n){var r=bH(e,t);return xH(r,n)}},_H=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],s=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,s=1,a=1;break;case"ease":r=.25,i=.1,s=.25,a=1;break;case"ease-in":r=.42,i=0,s=1,a=1;break;case"ease-out":r=.42,i=0,s=.58,a=1;break;case"ease-in-out":r=0,i=0,s=.58,a=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=o[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=pH(l,4);r=c[0],i=c[1],s=c[2],a=c[3]}}[r,s,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u,d,h=wH(r,s),f=wH(i,a),p=(u=r,d=s,function(e){var t=bH(u,d),n=[].concat(mH(t.map((function(e,t){return e*t})).slice(1)),[0]);return xH(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,s=p(n);if(Math.abs(i-t)<vH||s<vH)return f(n);n=m(n-i/s)}return f(n)};return g.isStepper=!1,g},jH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _H(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,s=e.dt,a=void 0===s?17:s,o=function(e,t,r){var s=r+(-(e-t)*n-r*i)*a/1e3,o=r*a/1e3+e;return Math.abs(o-t)<vH&&Math.abs(s)<vH?[t,0]:[o,s]};return o.isStepper=!0,o.dt=a,o}();default:if("cubic-bezier"===r.split("(")[0])return _H(r)}return"function"===typeof r?r:null};function SH(e){return SH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SH(e)}function EH(e){return function(e){if(Array.isArray(e))return AH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||IH(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NH(Object(n),!0).forEach((function(t){CH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==SH(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==SH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===SH(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||IH(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IH(e,t){if(e){if("string"===typeof e)return AH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AH(e,t):void 0}}function AH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var OH=function(e,t,n){return e+(t-e)*n},PH=function(e){return e.from!==e.to},MH=function e(t,n,r){var i=hH((function(e,n){if(PH(n)){var r=TH(t(n.from,n.to,n.velocity),2),i=r[0],s=r[1];return kH(kH({},n),{},{from:i,velocity:s})}return n}),n);return r<1?hH((function(e,t){return PH(t)?kH(kH({},t),{},{velocity:OH(t.velocity,i[e].velocity,r),from:OH(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const DH=function(e,t,n,r,i){var s,a,o,l,c=(s=e,a=t,[Object.keys(s),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return kH(kH({},n),{},CH({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return kH(kH({},n),{},CH({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){o||(o=r);var s=(r-o)/n.dt;d=MH(n,d,s),i(kH(kH(kH({},e),t),hH((function(e,t){return t.from}),d))),o=r,Object.values(d).filter(PH).length&&(h=requestAnimationFrame(f))}:function(s){l||(l=s);var a=(s-l)/r,o=hH((function(e,t){return OH.apply(void 0,EH(t).concat([n(a)]))}),u);if(i(kH(kH(kH({},e),t),o)),a<1)h=requestAnimationFrame(f);else{var c=hH((function(e,t){return OH.apply(void 0,EH(t).concat([n(1)]))}),u);i(kH(kH(kH({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function RH(e){return RH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RH(e)}var LH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function FH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BH(e){return function(e){if(Array.isArray(e))return UH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return UH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VH(Object(n),!0).forEach((function(t){$H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $H(e,t,n){return(t=qH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qH(r.key),r)}}function qH(e){var t=function(e,t){if("object"!==RH(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==RH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===RH(t)?t:String(t)}function WH(e,t){return WH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WH(e,t)}function YH(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(v6){return!1}}();return function(){var n,r=XH(e);if(t){var i=XH(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return KH(this,n)}}function KH(e,t){if(t&&("object"===RH(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return GH(e)}function GH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XH(e){return XH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},XH(e)}var QH=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WH(e,t)}(a,e);var t,n,i,s=YH(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=s.call(this,e,t)).props,i=r.isActive,o=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(GH(n)),n.changeStyle=n.changeStyle.bind(GH(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),KH(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},KH(n);n.state={style:o?$H({},o,l):l}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,s=t.shouldReAnimate,a=t.to,o=t.from,l=this.state.style;if(r)if(n){if(!(eH(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||s?o:e.to;if(this.state&&l){var d={style:i?$H({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(zH(zH({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?$H({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,s=e.easing,a=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=DH(n,r,jH(s),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,o])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,s=n[0],a=s.style,o=s.duration,l=void 0===o?0:o;return this.manager.start([i].concat(BH(n.reduce((function(e,r,i){if(0===i)return e;var s=r.duration,a=r.easing,o=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof o||"spring"===o)return[].concat(BH(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:s,easing:o}),s]);var f=fH(h,s,o),p=zH(zH(zH({},d.style),l),{},{transition:f});return[].concat(BH(e),[p,s,u]).filter(dH)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=aH());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,s=e.easing,a=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof s&&"function"!==typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var d=r?$H({},r,i):i,h=fH(Object.keys(d),n,s);u.start([a,t,zH(zH({},d),{},{transition:h}),n,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),s=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,FH(e,LH)),a=r.Children.count(t),o=this.state.style;if("function"===typeof t)return t(o);if(!i||0===a||n<=0)return t;var l=function(e){var t=e.props,n=t.style,i=void 0===n?{}:n,a=t.className;return(0,r.cloneElement)(e,zH(zH({},s),{},{style:zH(zH({},i),o),className:a}))};return 1===a?l(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,(function(e){return l(e)})))}}],n&&HH(t.prototype,n),i&&HH(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);QH.displayName="Animate",QH.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},QH.propTypes={from:E$().oneOfType([E$().object,E$().string]),to:E$().oneOfType([E$().object,E$().string]),attributeName:E$().string,duration:E$().number,begin:E$().number,easing:E$().oneOfType([E$().string,E$().func]),steps:E$().arrayOf(E$().shape({duration:E$().number.isRequired,style:E$().object.isRequired,easing:E$().oneOfType([E$().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),E$().func]),properties:E$().arrayOf("string"),onAnimationEnd:E$().func})),children:E$().oneOfType([E$().node,E$().func]),isActive:E$().bool,canBegin:E$().bool,onAnimationEnd:E$().func,shouldReAnimate:E$().bool,onAnimationStart:E$().func,onAnimationReStart:E$().func};const ZH=QH;function JH(e){return JH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JH(e)}function eq(){return eq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eq.apply(this,arguments)}function tq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rq(Object(n),!0).forEach((function(t){sq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=JH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JH(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aq=function(e,t,n,r,i){var s,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];s="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(s+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),s+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(s+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),s+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(s+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),s+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(s+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),s+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);s="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return s},oq=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,s=t.y,a=t.width,o=t.height;if(Math.abs(a)>0&&Math.abs(o)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(s,s+o),d=Math.max(s,s+o);return n>=l&&n<=c&&r>=u&&r<=d}return!1},lq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cq=function(e){var t=iq(iq({},lq),e),n=(0,r.useRef)(),i=tq((0,r.useState)(-1),2),s=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var o=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=ZB("recharts-rectangle",h);return y?r.createElement(ZH,{canBegin:s>0,from:{width:c,height:u,x:o,y:l},to:{width:c,height:u,x:o,y:l},duration:p,animationEasing:f,isActive:y},(function(e){var i=e.width,a=e.height,o=e.x,l=e.y;return r.createElement(ZH,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},r.createElement("path",eq({},KU(t,!0),{className:v,d:aq(o,l,i,a,d),ref:n})))})):r.createElement("path",eq({},KU(t,!0),{className:v,d:aq(o,l,c,u,d)}))};function uq(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function dq(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class hq extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gq;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(fq(this,e))}has(e){return super.has(fq(this,e))}set(e,t){return super.set(pq(this,e),t)}delete(e){return super.delete(mq(this,e))}}Set;function fq(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function pq(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function mq(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function gq(e){return null!==e&&"object"===typeof e?e.valueOf():e}const yq=Symbol("implicit");function vq(){var e=new hq,t=[],n=[],r=yq;function i(i){let s=e.get(i);if(void 0===s){if(r!==yq)return r;e.set(i,s=t.push(i)-1)}return n[s%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new hq;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return vq(t,n).unknown(r)},uq.apply(i,arguments),i}function bq(){var e,t,n=vq().unknown(void 0),r=n.domain,i=n.range,s=0,a=1,o=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<s,h=d?a:s,f=d?s:a;e=(f-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(i);++r<i;)s[r]=e+r*n;return s}(n).map((function(t){return h+e*t}));return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([s,a]=e,s=+s,a=+a,d()):[s,a]},n.rangeRound=function(e){return[s,a]=e,s=+s,a=+a,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return bq(r(),[s,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},uq.apply(d(),arguments)}function xq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xq(t())},e}function wq(){return xq(bq.apply(null,arguments).paddingInner(1))}function _q(e){return _q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_q(e)}function jq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jq(Object(n),!0).forEach((function(t){Eq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_q(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nq={widthCache:{},cacheCount:0},kq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Cq="recharts_measurement_span";var Tq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||WV.isSsr)return{width:0,height:0};var n=function(e){var t=Sq({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(Nq.widthCache[r])return Nq.widthCache[r];try{var i=document.getElementById(Cq);i||((i=document.createElement("span")).setAttribute("id",Cq),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=Sq(Sq({},kq),n);Object.assign(i.style,s),i.textContent="".concat(e);var a=i.getBoundingClientRect(),o={width:a.width,height:a.height};return Nq.widthCache[r]=o,++Nq.cacheCount>2e3&&(Nq.cacheCount=0,Nq.widthCache={}),o}catch(v6){return{width:0,height:0}}};function Iq(e){return Iq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iq(e)}function Aq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Oq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mq(r.key),r)}}function Mq(e){var t=function(e,t){if("object"!=Iq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Iq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Iq(t)?t:t+""}var Dq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Bq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Uq=Object.keys(Bq),Vq="NaN";var zq=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Lq.test(n)||(this.num=NaN,this.unit=""),Uq.includes(n)&&(this.num=function(e,t){return e*Bq[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Aq(null!==(n=Fq.exec(t))&&void 0!==n?n:[],3),i=r[1],s=r[2];return new e(parseFloat(i),null!==s&&void 0!==s?s:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Pq(t.prototype,n),r&&Pq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function $q(e){if(e.includes(Vq))return Vq;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Aq(null!==(n=Dq.exec(t))&&void 0!==n?n:[],4),i=r[1],s=r[2],a=r[3],o=zq.parse(null!==i&&void 0!==i?i:""),l=zq.parse(null!==a&&void 0!==a?a:""),c="*"===s?o.multiply(l):o.divide(l);if(c.isNaN())return Vq;t=t.replace(Dq,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Aq(null!==(u=Rq.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=zq.parse(null!==h&&void 0!==h?h:""),g=zq.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return Vq;t=t.replace(Rq,y.toString())}return t}var Hq=/\(([^()]*)\)/;function qq(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Aq(Hq.exec(t),2)[1];t=t.replace(Hq,$q(n))}return t}(t),t=$q(t)}function Wq(e){var t=function(e){try{return qq(e)}catch(v6){return Vq}}(e.slice(5,-1));return t===Vq?"":t}var Yq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kq=["dx","dy","angle","className","breakAll"];function Gq(){return Gq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gq.apply(this,arguments)}function Xq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Zq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jq=/[ \f\n\r\t\v\u2028\u2029]+/,eW=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return wU()(t)||(i=n?t.toString().split(""):t.toString().split(Jq)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:Tq(e,r).width}})),spaceWidth:n?0:Tq("\xa0",r).width}}catch(v6){return null}},tW=function(e){return[{words:wU()(e)?[]:e.toString().split(Jq)}]},nW=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,s=e.breakAll,a=e.maxLines;if((t||n)&&!WV.isSsr){var o=eW({breakAll:s,children:r,style:i});return o?function(e,t,n,r,i){var s=e.maxLines,a=e.children,o=e.style,l=e.breakAll,c=dU(s),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var s=t.word,a=t.width,o=e[e.length-1];if(o&&(null==r||i||o.width+a+n<Number(r)))o.words.push(s),o.width+=a+n;else{var l={words:[s],width:a};e.push(l)}return e}),[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=eW({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),a=i.length>s||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=Qq(p(v-1),2),x=b[0],w=b[1],_=Qq(p(v),1)[0];if(x||_||(m=v+1),x&&_&&(g=v-1),!x&&_){f=w;break}y++}return f||h}({breakAll:s,children:r,maxLines:a,style:i},o.wordsWithComputedWidth,o.spaceWidth,t,n):tW(r)}return tW(r)},rW="#808080",iW=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,s=void 0===i?0:i,a=e.lineHeight,o=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?rW:g,v=Xq(e,Yq),b=(0,r.useMemo)((function(){return nW({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),x=v.dx,w=v.dy,_=v.angle,j=v.className,S=v.breakAll,E=Xq(v,Kq);if(!hU(n)||!hU(s))return null;var N,k=n+(dU(x)?x:0),C=s+(dU(w)?w:0);switch(m){case"start":N=Wq("calc(".concat(c,")"));break;case"middle":N=Wq("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=Wq("calc(".concat(b.length-1," * -").concat(o,")"))}var T=[];if(d){var I=b[0].width,A=v.width;T.push("scale(".concat((dU(A)?A/I:1)/I,")"))}return _&&T.push("rotate(".concat(_,", ").concat(k,", ").concat(C,")")),T.length&&(E.transform=T.join(" ")),r.createElement("text",Gq({},KU(E,!0),{x:k,y:C,className:ZB("recharts-text",j),textAnchor:f,fill:y.includes("url")?rW:y}),b.map((function(e,t){var n=e.words.join(S?"":" ");return r.createElement("tspan",{x:k,dy:0===t?N:o,key:"".concat(n,"-").concat(t)},n)})))};const sW=Math.sqrt(50),aW=Math.sqrt(10),oW=Math.sqrt(2);function lW(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=sW?10:s>=aW?5:s>=oW?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?lW(e,t,2*n):[o,l,c]}function cW(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,s,a]=r?lW(t,e,n):lW(e,t,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function uW(e,t,n){return lW(e=+e,t=+t,n=+n)[2]}function dW(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?uW(t,e,n):uW(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function hW(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fW(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pW(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<s){if(0!==t(r,r))return s;do{const t=i+s>>>1;n(e[t],r)<0?i=t+1:s=t}while(i<s)}return i}return 2!==e.length?(t=hW,n=(t,n)=>hW(e(t),n),r=(t,n)=>e(t)-n):(t=e===hW||e===fW?e:mW,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<s){if(0!==t(r,r))return s;do{const t=i+s>>>1;n(e[t],r)<=0?i=t+1:s=t}while(i<s)}return i}}}function mW(){return 0}function gW(e){return null===e?NaN:+e}const yW=pW(hW),vW=yW.right,bW=(yW.left,pW(gW).center,vW);function xW(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wW(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _W(){}var jW=.7,SW=1/jW,EW="\\s*([+-]?\\d+)\\s*",NW="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kW="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CW=/^#([0-9a-f]{3,8})$/,TW=new RegExp(`^rgb\\(${EW},${EW},${EW}\\)$`),IW=new RegExp(`^rgb\\(${kW},${kW},${kW}\\)$`),AW=new RegExp(`^rgba\\(${EW},${EW},${EW},${NW}\\)$`),OW=new RegExp(`^rgba\\(${kW},${kW},${kW},${NW}\\)$`),PW=new RegExp(`^hsl\\(${NW},${kW},${kW}\\)$`),MW=new RegExp(`^hsla\\(${NW},${kW},${kW},${NW}\\)$`),DW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function RW(){return this.rgb().formatHex()}function LW(){return this.rgb().formatRgb()}function FW(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=CW.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?BW(t):3===n?new zW(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?UW(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?UW(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=TW.exec(e))?new zW(t[1],t[2],t[3],1):(t=IW.exec(e))?new zW(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=AW.exec(e))?UW(t[1],t[2],t[3],t[4]):(t=OW.exec(e))?UW(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=PW.exec(e))?KW(t[1],t[2]/100,t[3]/100,1):(t=MW.exec(e))?KW(t[1],t[2]/100,t[3]/100,t[4]):DW.hasOwnProperty(e)?BW(DW[e]):"transparent"===e?new zW(NaN,NaN,NaN,0):null}function BW(e){return new zW(e>>16&255,e>>8&255,255&e,1)}function UW(e,t,n,r){return r<=0&&(e=t=n=NaN),new zW(e,t,n,r)}function VW(e,t,n,r){return 1===arguments.length?function(e){return e instanceof _W||(e=FW(e)),e?new zW((e=e.rgb()).r,e.g,e.b,e.opacity):new zW}(e):new zW(e,t,n,null==r?1:r)}function zW(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function $W(){return`#${YW(this.r)}${YW(this.g)}${YW(this.b)}`}function HW(){const e=qW(this.opacity);return`${1===e?"rgb(":"rgba("}${WW(this.r)}, ${WW(this.g)}, ${WW(this.b)}${1===e?")":`, ${e})`}`}function qW(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function WW(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function YW(e){return((e=WW(e))<16?"0":"")+e.toString(16)}function KW(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new XW(e,t,n,r)}function GW(e){if(e instanceof XW)return new XW(e.h,e.s,e.l,e.opacity);if(e instanceof _W||(e=FW(e)),!e)return new XW;if(e instanceof XW)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(a=t===s?(n-r)/o+6*(n<r):n===s?(r-t)/o+2:(t-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new XW(a,o,l,e.opacity)}function XW(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function QW(e){return(e=(e||0)%360)<0?e+360:e}function ZW(e){return Math.max(0,Math.min(1,e||0))}function JW(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function eY(e,t,n,r,i){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*n+(1+3*e+3*s-3*a)*r+a*i)/6}xW(_W,FW,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RW,formatHex:RW,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return GW(this).formatHsl()},formatRgb:LW,toString:LW}),xW(zW,VW,wW(_W,{brighter(e){return e=null==e?SW:Math.pow(SW,e),new zW(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?jW:Math.pow(jW,e),new zW(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zW(WW(this.r),WW(this.g),WW(this.b),qW(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$W,formatHex:$W,formatHex8:function(){return`#${YW(this.r)}${YW(this.g)}${YW(this.b)}${YW(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:HW,toString:HW})),xW(XW,(function(e,t,n,r){return 1===arguments.length?GW(e):new XW(e,t,n,null==r?1:r)}),wW(_W,{brighter(e){return e=null==e?SW:Math.pow(SW,e),new XW(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?jW:Math.pow(jW,e),new XW(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new zW(JW(e>=240?e-240:e+120,i,r),JW(e,i,r),JW(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new XW(QW(this.h),ZW(this.s),ZW(this.l),qW(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qW(this.opacity);return`${1===e?"hsl(":"hsla("}${QW(this.h)}, ${100*ZW(this.s)}%, ${100*ZW(this.l)}%${1===e?")":`, ${e})`}`}}));const tY=e=>()=>e;function nY(e,t){return function(n){return e+n*t}}function rY(e){return 1===(e=+e)?iY:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):tY(isNaN(t)?n:t)}}function iY(e,t){var n=t-e;return n?nY(e,n):tY(isNaN(e)?t:e)}const sY=function e(t){var n=rY(t);function r(e,t){var r=n((e=VW(e)).r,(t=VW(t)).r),i=n(e.g,t.g),s=n(e.b,t.b),a=iY(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=s(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function aY(e){return function(t){var n,r,i=t.length,s=new Array(i),a=new Array(i),o=new Array(i);for(n=0;n<i;++n)r=VW(t[n]),s[n]=r.r||0,a[n]=r.g||0,o[n]=r.b||0;return s=e(s),a=e(a),o=e(o),r.opacity=1,function(e){return r.r=s(e),r.g=a(e),r.b=o(e),r+""}}}aY((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],a=r>0?e[r-1]:2*i-s,o=r<t-1?e[r+2]:2*s-i;return eY((n-r/t)*t,a,i,s,o)}})),aY((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],a=e[(r+1)%t],o=e[(r+2)%t];return eY((n-r/t)*t,i,s,a,o)}}));function oY(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,s=new Array(i),a=new Array(r);for(n=0;n<i;++n)s[n]=mY(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=s[n](e);return a}}function lY(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function cY(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function uY(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=mY(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var dY=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hY=new RegExp(dY.source,"g");function fY(e,t){var n,r,i,s=dY.lastIndex=hY.lastIndex=0,a=-1,o=[],l=[];for(e+="",t+="";(n=dY.exec(e))&&(r=hY.exec(t));)(i=r.index)>s&&(i=t.slice(s,i),o[a]?o[a]+=i:o[++a]=i),(n=n[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:cY(n,r)})),s=hY.lastIndex;return s<t.length&&(i=t.slice(s),o[a]?o[a]+=i:o[++a]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function pY(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(s){for(n=0;n<r;++n)i[n]=e[n]*(1-s)+t[n]*s;return i}}function mY(e,t){var n,r=typeof t;return null==t||"boolean"===r?tY(t):("number"===r?cY:"string"===r?(n=FW(t))?(t=n,sY):fY:t instanceof FW?sY:t instanceof Date?lY:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?pY:Array.isArray(t)?oY:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?uY:cY)(e,t)}function gY(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function yY(e){return+e}var vY=[0,1];function bY(e){return e}function xY(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function wY(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=xY(i,r),s=n(a,s)):(r=xY(r,i),s=n(s,a)),function(e){return s(r(e))}}function _Y(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=xY(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(t){var n=bW(e,t,1,r)-1;return s[n](i[n](t))}}function jY(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function SY(){var e,t,n,r,i,s,a=vY,o=vY,l=mY,c=bY;function u(){var e=Math.min(a.length,o.length);return c!==bY&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?_Y:wY,i=s=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((s||(s=r(o,a.map(e),cY)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,yY),u()):a.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=gY,u()},d.clamp=function(e){return arguments.length?(c=!!e||bY,u()):c!==bY},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function EY(){return SY()(bY,bY)}var NY,kY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function CY(e){if(!(t=kY.exec(e)))throw new Error("invalid format: "+e);var t;return new TY({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function TY(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function IY(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function AY(e){return(e=IY(Math.abs(e)))?e[1]:NaN}function OY(e,t){var n=IY(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}CY.prototype=TY.prototype,TY.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const PY={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>OY(100*e,t),r:OY,s:function(e,t){var n=IY(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(NY=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+IY(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function MY(e){return e}var DY,RY,LY,FY=Array.prototype.map,BY=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function UY(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?MY:(t=FY.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?MY:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(FY.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=CY(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):PY[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?s:/[%p]/.test(v)?l:"",w=PY[v],_=/[defgprs%]/.test(v);function j(e){var i,s,l,h=b,j=x;if("c"===v)j=w(e)+j,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,j=("s"===v?BY[8+NY/3]:"")+j+(S&&"("===d?")":""),_)for(i=-1,s=e.length;++i<s;)if(48>(l=e.charCodeAt(i))||l>57){j=(46===l?a+e.slice(i+1):e.slice(i))+j,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var E=h.length+e.length+j.length,N=E<p?new Array(p-E+1).join(t):"";switch(m&&f&&(e=r(N+e,N.length?p-j.length:1/0),N=""),n){case"<":e=h+e+j+N;break;case"=":e=h+N+e+j;break;case"^":e=N.slice(0,E=N.length>>1)+h+e+j+N.slice(E);break;default:e=N+h+e+j}return o(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),j.toString=function(){return e+""},j}return{format:d,formatPrefix:function(e,t){var n=d(((e=CY(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(AY(t)/3))),i=Math.pow(10,-r),s=BY[8+r/3];return function(e){return n(i*e)+s}}}}function VY(e,t,n,r){var i,s=dW(e,t,n);switch((r=CY(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(AY(t)/3)))-AY(Math.abs(e)))}(s,a))||(r.precision=i),LY(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,AY(t)-AY(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-AY(Math.abs(e)))}(s))||(r.precision=i-2*("%"===r.type))}return RY(r)}function zY(e){var t=e.domain;return e.ticks=function(e){var n=t();return cW(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return VY(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,s=t(),a=0,o=s.length-1,l=s[a],c=s[o],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=o,o=i);u-- >0;){if((i=uW(l,c,n))===r)return s[a]=l,s[o]=c,t(s);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function $Y(){var e=EY();return e.copy=function(){return jY(e,$Y())},uq.apply(e,arguments),zY(e)}function HY(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,yY),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return HY(e).unknown(t)},e=arguments.length?Array.from(e,yY):[0,1],zY(n)}function qY(e,t){var n,r=0,i=(e=e.slice()).length-1,s=e[r],a=e[i];return a<s&&(n=r,r=i,i=n,n=s,s=a,a=n),e[r]=t.floor(s),e[i]=t.ceil(a),e}function WY(e){return Math.log(e)}function YY(e){return Math.exp(e)}function KY(e){return-Math.log(-e)}function GY(e){return-Math.exp(-e)}function XY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function QY(e){return(t,n)=>-e(-t,n)}function ZY(e){const t=e(WY,YY),n=t.domain;let r,i,s=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),i=function(e){return 10===e?XY:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),n()[0]<0?(r=QY(r),i=QY(i),e(KY,GY)):e(WY,YY),t}return t.base=function(e){return arguments.length?(s=+e,a()):s},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],o=t[t.length-1];const l=o<a;l&&([a,o]=[o,a]);let c,u,d=r(a),h=r(o);const f=null==e?10:+e;let p=[];if(!(s%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<s;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>o)break;p.push(u)}}else for(;d<=h;++d)for(c=s-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>o)break;p.push(u)}2*p.length<f&&(p=cW(a,o,f))}else p=cW(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===s?"s":","),"function"!==typeof n&&(s%1||null!=(n=CY(n)).precision||(n.trim=!0),n=RY(n)),e===1/0)return n;const a=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*s<s-.5&&(t*=s),t<=a?n(e):""}},t.nice=()=>n(qY(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function JY(){const e=ZY(SY()).domain([1,10]);return e.copy=()=>jY(e,JY()).base(e.base()),uq.apply(e,arguments),e}function eK(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tK(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nK(e){var t=1,n=e(eK(t),tK(t));return n.constant=function(n){return arguments.length?e(eK(t=+n),tK(t)):t},zY(n)}function rK(){var e=nK(SY());return e.copy=function(){return jY(e,rK()).constant(e.constant())},uq.apply(e,arguments)}function iK(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function aK(e){return e<0?-e*e:e*e}function oK(e){var t=e(bY,bY),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(bY,bY):.5===n?e(sK,aK):e(iK(n),iK(1/n)):n},zY(t)}function lK(){var e=oK(SY());return e.copy=function(){return jY(e,lK()).exponent(e.exponent())},uq.apply(e,arguments),e}function cK(){return lK.apply(null,arguments).exponent(.5)}function uK(e){return Math.sign(e)*e*e}function dK(){var e,t=EY(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(uK(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,yY)).map(uK)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return dK(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},uq.apply(i,arguments),zY(i)}function hK(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function fK(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function pK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hW;if(e===hW)return mK;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function mK(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function gK(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?mK:pK(i);r>n;){if(r-n>600){const s=r-n+1,a=t-n+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(a-s/2<0?-1:1);gK(e,t,Math.max(n,Math.floor(t-a*l/s+c)),Math.min(r,Math.floor(t+(s-a)*l/s+c)),i)}const s=e[t];let a=n,o=r;for(yK(e,n,t),i(e[r],s)>0&&yK(e,n,r);a<o;){for(yK(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}0===i(e[n],s)?yK(e,n,o):(++o,yK(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function yK(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function vK(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return fK(e);if(t>=1)return hK(e);var r,i=(r-1)*t,s=Math.floor(i),a=hK(gK(e,s).subarray(0,s+1));return a+(fK(e.subarray(s+1))-a)*(i-s)}}function bK(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gW;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e);return a+(+n(e[s+1],s+1,e)-a)*(i-s)}}function xK(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=bK(t,e/i);return s}function s(t){return null==t||isNaN(t=+t)?e:n[bW(r,t)]}return s.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(hW),i()},s.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return r.slice()},s.copy=function(){return xK().domain(t).range(n).unknown(e)},uq.apply(s,arguments)}function wK(){var e,t=0,n=1,r=1,i=[.5],s=[0,1];function a(t){return null!=t&&t<=t?s[bW(i,t,0,r)]:e}function o(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},a.range=function(e){return arguments.length?(r=(s=Array.from(e)).length-1,o()):s.slice()},a.invertExtent=function(e){var a=s.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return wK().domain([t,n]).range(s).unknown(e)},uq.apply(zY(a),arguments)}function _K(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[bW(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return _K().domain(t).range(n).unknown(e)},uq.apply(i,arguments)}DY=UY({thousands:",",grouping:[3],currency:["$",""]}),RY=DY.format,LY=DY.formatPrefix;const jK=1e3,SK=6e4,EK=36e5,NK=864e5,kK=6048e5,CK=2592e6,TK=31536e6,IK=new Date,AK=new Date;function OK(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,s)=>{const a=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r)||!(s>0))return a;let o;do{a.push(o=new Date(+n)),t(n,s),e(n)}while(o<n&&n<r);return a},i.filter=n=>OK((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(IK.setTime(+t),AK.setTime(+r),e(IK),e(AK),Math.floor(n(IK,AK))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const PK=OK((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));PK.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?OK((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):PK:null);PK.range;const MK=OK((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*jK)}),((e,t)=>(t-e)/jK),(e=>e.getUTCSeconds())),DK=(MK.range,OK((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jK)}),((e,t)=>{e.setTime(+e+t*SK)}),((e,t)=>(t-e)/SK),(e=>e.getMinutes()))),RK=(DK.range,OK((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*SK)}),((e,t)=>(t-e)/SK),(e=>e.getUTCMinutes()))),LK=(RK.range,OK((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jK-e.getMinutes()*SK)}),((e,t)=>{e.setTime(+e+t*EK)}),((e,t)=>(t-e)/EK),(e=>e.getHours()))),FK=(LK.range,OK((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*EK)}),((e,t)=>(t-e)/EK),(e=>e.getUTCHours()))),BK=(FK.range,OK((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*SK)/NK),(e=>e.getDate()-1))),UK=(BK.range,OK((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/NK),(e=>e.getUTCDate()-1))),VK=(UK.range,OK((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/NK),(e=>Math.floor(e/NK))));VK.range;function zK(e){return OK((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*SK)/kK))}const $K=zK(0),HK=zK(1),qK=zK(2),WK=zK(3),YK=zK(4),KK=zK(5),GK=zK(6);$K.range,HK.range,qK.range,WK.range,YK.range,KK.range,GK.range;function XK(e){return OK((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/kK))}const QK=XK(0),ZK=XK(1),JK=XK(2),eG=XK(3),tG=XK(4),nG=XK(5),rG=XK(6),iG=(QK.range,ZK.range,JK.range,eG.range,tG.range,nG.range,rG.range,OK((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),sG=(iG.range,OK((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),aG=(sG.range,OK((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));aG.every=e=>isFinite(e=Math.floor(e))&&e>0?OK((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;aG.range;const oG=OK((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));oG.every=e=>isFinite(e=Math.floor(e))&&e>0?OK((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;oG.range;function lG(e,t,n,r,i,s){const a=[[MK,1,jK],[MK,5,5e3],[MK,15,15e3],[MK,30,3e4],[s,1,SK],[s,5,3e5],[s,15,9e5],[s,30,18e5],[i,1,EK],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,NK],[r,2,1728e5],[n,1,kK],[t,1,CK],[t,3,7776e6],[e,1,TK]];function o(t,n,r){const i=Math.abs(n-t)/r,s=pW((e=>{let[,,t]=e;return t})).right(a,i);if(s===a.length)return e.every(dW(t/TK,n/TK,r));if(0===s)return PK.every(Math.max(dW(t,n,r),1));const[o,l]=a[i/a[s-1][2]<a[s][2]/i?s-1:s];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:o(e,t,n),s=i?i.range(e,+t+1):[];return r?s.reverse():s},o]}const[cG,uG]=lG(oG,sG,QK,VK,FK,RK),[dG,hG]=lG(aG,iG,$K,BK,LK,DK);function fG(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pG(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mG(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var gG,yG,vG,bG={"-":"",_:" ",0:"0"},xG=/^\s*\d+/,wG=/^%/,_G=/[\\^$*+?|[\]().{}]/g;function jG(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function SG(e){return e.replace(_G,"\\$&")}function EG(e){return new RegExp("^(?:"+e.map(SG).join("|")+")","i")}function NG(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function kG(e,t,n){var r=xG.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function CG(e,t,n){var r=xG.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function TG(e,t,n){var r=xG.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function IG(e,t,n){var r=xG.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function AG(e,t,n){var r=xG.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function OG(e,t,n){var r=xG.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function PG(e,t,n){var r=xG.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function MG(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function DG(e,t,n){var r=xG.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function RG(e,t,n){var r=xG.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function LG(e,t,n){var r=xG.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function FG(e,t,n){var r=xG.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function BG(e,t,n){var r=xG.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function UG(e,t,n){var r=xG.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function VG(e,t,n){var r=xG.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function zG(e,t,n){var r=xG.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $G(e,t,n){var r=xG.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function HG(e,t,n){var r=wG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function qG(e,t,n){var r=xG.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function WG(e,t,n){var r=xG.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function YG(e,t){return jG(e.getDate(),t,2)}function KG(e,t){return jG(e.getHours(),t,2)}function GG(e,t){return jG(e.getHours()%12||12,t,2)}function XG(e,t){return jG(1+BK.count(aG(e),e),t,3)}function QG(e,t){return jG(e.getMilliseconds(),t,3)}function ZG(e,t){return QG(e,t)+"000"}function JG(e,t){return jG(e.getMonth()+1,t,2)}function eX(e,t){return jG(e.getMinutes(),t,2)}function tX(e,t){return jG(e.getSeconds(),t,2)}function nX(e){var t=e.getDay();return 0===t?7:t}function rX(e,t){return jG($K.count(aG(e)-1,e),t,2)}function iX(e){var t=e.getDay();return t>=4||0===t?YK(e):YK.ceil(e)}function sX(e,t){return e=iX(e),jG(YK.count(aG(e),e)+(4===aG(e).getDay()),t,2)}function aX(e){return e.getDay()}function oX(e,t){return jG(HK.count(aG(e)-1,e),t,2)}function lX(e,t){return jG(e.getFullYear()%100,t,2)}function cX(e,t){return jG((e=iX(e)).getFullYear()%100,t,2)}function uX(e,t){return jG(e.getFullYear()%1e4,t,4)}function dX(e,t){var n=e.getDay();return jG((e=n>=4||0===n?YK(e):YK.ceil(e)).getFullYear()%1e4,t,4)}function hX(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jG(t/60|0,"0",2)+jG(t%60,"0",2)}function fX(e,t){return jG(e.getUTCDate(),t,2)}function pX(e,t){return jG(e.getUTCHours(),t,2)}function mX(e,t){return jG(e.getUTCHours()%12||12,t,2)}function gX(e,t){return jG(1+UK.count(oG(e),e),t,3)}function yX(e,t){return jG(e.getUTCMilliseconds(),t,3)}function vX(e,t){return yX(e,t)+"000"}function bX(e,t){return jG(e.getUTCMonth()+1,t,2)}function xX(e,t){return jG(e.getUTCMinutes(),t,2)}function wX(e,t){return jG(e.getUTCSeconds(),t,2)}function _X(e){var t=e.getUTCDay();return 0===t?7:t}function jX(e,t){return jG(QK.count(oG(e)-1,e),t,2)}function SX(e){var t=e.getUTCDay();return t>=4||0===t?tG(e):tG.ceil(e)}function EX(e,t){return e=SX(e),jG(tG.count(oG(e),e)+(4===oG(e).getUTCDay()),t,2)}function NX(e){return e.getUTCDay()}function kX(e,t){return jG(ZK.count(oG(e)-1,e),t,2)}function CX(e,t){return jG(e.getUTCFullYear()%100,t,2)}function TX(e,t){return jG((e=SX(e)).getUTCFullYear()%100,t,2)}function IX(e,t){return jG(e.getUTCFullYear()%1e4,t,4)}function AX(e,t){var n=e.getUTCDay();return jG((e=n>=4||0===n?tG(e):tG.ceil(e)).getUTCFullYear()%1e4,t,4)}function OX(){return"+0000"}function PX(){return"%"}function MX(e){return+e}function DX(e){return Math.floor(+e/1e3)}function RX(e){return new Date(e)}function LX(e){return e instanceof Date?+e:+new Date(+e)}function FX(e,t,n,r,i,s,a,o,l,c){var u=EY(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:a(e)<e?m:s(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,LX)):h().map(RX)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(qY(n,e)):u},u.copy=function(){return jY(u,FX(e,t,n,r,i,s,a,o,l,c))},u}function BX(){return uq.apply(FX(dG,hG,aG,iG,$K,BK,LK,DK,MK,yG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UX(){return uq.apply(FX(cG,uG,oG,sG,QK,UK,FK,RK,MK,vG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function VX(){var e,t,n,r,i,s=0,a=1,o=bY,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([s,a]=i,e=r(s=+s),t=r(a=+a),n=e===t?0:1/(t-e),c):[s,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(mY),c.rangeRound=u(gY),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(s),t=i(a),n=e===t?0:1/(t-e),c}}function zX(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $X(){var e=zY(VX()(bY));return e.copy=function(){return zX(e,$X())},dq.apply(e,arguments)}function HX(){var e=ZY(VX()).domain([1,10]);return e.copy=function(){return zX(e,HX()).base(e.base())},dq.apply(e,arguments)}function qX(){var e=nK(VX());return e.copy=function(){return zX(e,qX()).constant(e.constant())},dq.apply(e,arguments)}function WX(){var e=oK(VX());return e.copy=function(){return zX(e,WX()).exponent(e.exponent())},dq.apply(e,arguments)}function YX(){return WX.apply(null,arguments).exponent(.5)}function KX(){var e=[],t=bY;function n(n){if(null!=n&&!isNaN(n=+n))return t((bW(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(hW),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>vK(e,r/t)))},n.copy=function(){return KX(t).domain(e)},dq.apply(n,arguments)}function GX(){var e,t,n,r,i,s,a,o=0,l=.5,c=1,u=1,d=bY,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+s(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=mY);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return s[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([o,l,c]=a,e=s(o=+o),t=s(l=+l),n=s(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(mY),f.rangeRound=p(gY),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return s=a,e=a(o),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function XX(){var e=zY(GX()(bY));return e.copy=function(){return zX(e,XX())},dq.apply(e,arguments)}function QX(){var e=ZY(GX()).domain([.1,1,10]);return e.copy=function(){return zX(e,QX()).base(e.base())},dq.apply(e,arguments)}function ZX(){var e=nK(GX());return e.copy=function(){return zX(e,ZX()).constant(e.constant())},dq.apply(e,arguments)}function JX(){var e=oK(GX());return e.copy=function(){return zX(e,JX()).exponent(e.exponent())},dq.apply(e,arguments)}function eQ(){return JX.apply(null,arguments).exponent(.5)}function tQ(e,t){if((i=e.length)>1)for(var n,r,i,s=1,a=e[t[0]],o=a.length;s<i;++s)for(r=a,a=e[t[s]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){gG=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,l=e.shortMonths,c=EG(i),u=NG(i),d=EG(s),h=NG(s),f=EG(a),p=NG(a),m=EG(o),g=NG(o),y=EG(l),v=NG(l),b={a:function(e){return a[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:YG,e:YG,f:ZG,g:cX,G:dX,H:KG,I:GG,j:XG,L:QG,m:JG,M:eX,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:MX,s:DX,S:tX,u:nX,U:rX,V:sX,w:aX,W:oX,x:null,X:null,y:lX,Y:uX,Z:hX,"%":PX},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:fX,e:fX,f:vX,g:TX,G:AX,H:pX,I:mX,j:gX,L:yX,m:bX,M:xX,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:MX,s:DX,S:wX,u:_X,U:jX,V:EX,w:NX,W:kX,x:null,X:null,y:CX,Y:IX,Z:OX,"%":PX},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:LG,e:LG,f:$G,g:PG,G:OG,H:BG,I:BG,j:FG,L:zG,m:RG,M:UG,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:DG,Q:qG,s:WG,S:VG,u:CG,U:TG,V:IG,w:kG,W:AG,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:PG,Y:OG,Z:MG,"%":HG};function _(e,t){return function(n){var r,i,s,a=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(a.push(e.slice(l,o)),null!=(i=bG[r=e.charAt(++o)])?r=e.charAt(++o):i="e"===r?" ":"0",(s=t[r])&&(r=s(n,i)),a.push(r),l=o+1);return a.push(e.slice(l,o)),a.join("")}}function j(e,t){return function(n){var r,i,s=mG(1900,void 0,1);if(S(s,e,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(i=(r=pG(mG(s.y,0,1))).getUTCDay(),r=i>4||0===i?ZK.ceil(r):ZK(r),r=UK.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(i=(r=fG(mG(s.y,0,1))).getDay(),r=i>4||0===i?HK.ceil(r):HK(r),r=BK.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),i="Z"in s?pG(mG(s.y,0,1)).getUTCDay():fG(mG(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(i+5)%7:s.w+7*s.U-(i+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,pG(s)):fG(s)}}function S(e,t,n,r){for(var i,s,a=0,o=t.length,l=n.length;a<o;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(s=w[i in bG?t.charAt(a++):i])||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=j(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=j(e+="",!0);return t.toString=function(){return e},t}}}(e),yG=gG.format,gG.parse,vG=gG.utcFormat,gG.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function nQ(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function rQ(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function iQ(e,t){return e[t]}function sQ(e){const t=[];return t.key=e,t}var aQ=n(539),oQ=n.n(aQ),lQ=n(6745),cQ=n.n(lQ),uQ=n(3538),dQ=n.n(uQ),hQ=n(9853),fQ=n.n(hQ),pQ=n(8210),mQ=n.n(pQ);function gQ(e){return function(e){if(Array.isArray(e))return yQ(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return yQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yQ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vQ=function(e){return e},bQ={"@@functional/placeholder":!0},xQ=function(e){return e===bQ},wQ=function(e){return function t(){return 0===arguments.length||1===arguments.length&&xQ(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},_Q=function e(t,n){return 1===t?n:wQ((function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter((function(e){return e!==bQ})).length;return a>=t?n.apply(void 0,i):e(t-a,wQ((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=i.map((function(e){return xQ(e)?t.shift():e}));return n.apply(void 0,gQ(s).concat(t))})))}))},jQ=function(e){return _Q(e.length,e)},SQ=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},EQ=jQ((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),NQ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return vQ;var r=t.reverse(),i=r[0],s=r.slice(1);return function(){return s.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},kQ=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},CQ=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var TQ=jQ((function(e,t,n){var r=+e;return r+n*(+t-r)})),IQ=jQ((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),AQ=jQ((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const OQ={rangeStep:function(e,t,n){for(var r=new(mQ())(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new(mQ())(e).abs().log(10).toNumber())+1},interpolateNumber:TQ,uninterpolateNumber:IQ,uninterpolateTruncation:AQ};function PQ(e){return function(e){if(Array.isArray(e))return RQ(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||DQ(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,s=l}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return n}(e,t)||DQ(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DQ(e,t){if(e){if("string"===typeof e)return RQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RQ(e,t):void 0}}function RQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LQ(e){var t=MQ(e,2),n=t[0],r=t[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function FQ(e,t,n){if(e.lte(0))return new(mQ())(0);var r=OQ.getDigitCount(e.toNumber()),i=new(mQ())(10).pow(r),s=e.div(i),a=1!==r?.05:.1,o=new(mQ())(Math.ceil(s.div(a).toNumber())).add(n).mul(a).mul(i);return t?o:new(mQ())(Math.ceil(o))}function BQ(e,t,n){var r=1,i=new(mQ())(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new(mQ())(10).pow(OQ.getDigitCount(e)-1),i=new(mQ())(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new(mQ())(Math.floor(e)))}else 0===e?i=new(mQ())(Math.floor((t-1)/2)):n||(i=new(mQ())(Math.floor(e)));var a=Math.floor((t-1)/2),o=NQ(EQ((function(e){return i.add(new(mQ())(e-a).mul(r)).toNumber()})),SQ);return o(0,t)}function UQ(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(mQ())(0),tickMin:new(mQ())(0),tickMax:new(mQ())(0)};var s,a=FQ(new(mQ())(t).sub(e).div(n-1),r,i);s=e<=0&&t>=0?new(mQ())(0):(s=new(mQ())(e).add(t).div(2)).sub(new(mQ())(s).mod(a));var o=Math.ceil(s.sub(e).div(a).toNumber()),l=Math.ceil(new(mQ())(t).sub(s).div(a).toNumber()),c=o+l+1;return c>n?UQ(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:a,tickMin:s.sub(new(mQ())(o).mul(a)),tickMax:s.add(new(mQ())(l).mul(a))})}var VQ=CQ((function(e){var t=MQ(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),o=MQ(LQ([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(PQ(SQ(0,i-1).map((function(){return 1/0})))):[].concat(PQ(SQ(0,i-1).map((function(){return-1/0}))),[c]);return n>r?kQ(u):u}if(l===c)return BQ(l,i,s);var d=UQ(l,c,a,s),h=d.step,f=d.tickMin,p=d.tickMax,m=OQ.rangeStep(f,p.add(new(mQ())(.1).mul(h)),h);return n>r?kQ(m):m})),zQ=(CQ((function(e){var t=MQ(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),o=MQ(LQ([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return BQ(l,i,s);var u=FQ(new(mQ())(c).sub(l).div(a-1),s,0),d=NQ(EQ((function(e){return new(mQ())(l).add(new(mQ())(e).mul(u)).toNumber()})),SQ),h=d(0,a).filter((function(e){return e>=l&&e<=c}));return n>r?kQ(h):h})),CQ((function(e,t){var n=MQ(e,2),r=n[0],i=n[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=MQ(LQ([r,i]),2),o=a[0],l=a[1];if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var c=Math.max(t,2),u=FQ(new(mQ())(l).sub(o).div(c-1),s,0),d=[].concat(PQ(OQ.rangeStep(new(mQ())(o),new(mQ())(l).sub(new(mQ())(.99).mul(u)),u)),[l]);return r>i?kQ(d):d}))),$Q=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function HQ(e){return HQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HQ(e)}function qQ(){return qQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qQ.apply(this,arguments)}function WQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return YQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KQ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tZ(r.key),r)}}function XQ(e,t,n){return t=ZQ(t),function(e,t){if(t&&("object"===HQ(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QQ()?Reflect.construct(t,n||[],ZQ(e).constructor):t.apply(e,n))}function QQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(QQ=function(){return!!e})()}function ZQ(e){return ZQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZQ(e)}function JQ(e,t){return JQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JQ(e,t)}function eZ(e,t,n){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tZ(e){var t=function(e,t){if("object"!=HQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HQ(t)?t:t+""}var nZ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),XQ(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JQ(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,i=e.width,s=e.dataKey,a=e.data,o=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=KQ(e,$Q),d=KU(u,!1);"x"===this.props.direction&&"number"!==l.type&&dV(!1);var h=a.map((function(e){var a=o(e,s),u=a.x,h=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=WQ(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===n){var b=l.scale,x=h+t,w=x+i,_=x-i,j=b(f-m),S=b(f+g);y.push({x1:S,y1:w,x2:S,y2:_}),y.push({x1:j,y1:x,x2:S,y2:x}),y.push({x1:j,y1:w,x2:j,y2:_})}else if("horizontal"===n){var E=c.scale,N=u+t,k=N-i,C=N+i,T=E(f-m),I=E(f+g);y.push({x1:k,y1:I,x2:C,y2:I}),y.push({x1:N,y1:T,x2:N,y2:I}),y.push({x1:k,y1:T,x2:C,y2:T})}return r.createElement(bV,qQ({className:"recharts-errorBar",key:"bar-".concat(y.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),y.map((function(e){return r.createElement("line",qQ({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return r.createElement(bV,{className:"recharts-errorBars"},h)}}],i&&GQ(n.prototype,i),s&&GQ(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.Component);function rZ(e){return rZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rZ(e)}function iZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iZ(Object(n),!0).forEach((function(t){aZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aZ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rZ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}eZ(nZ,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),eZ(nZ,"displayName","ErrorBar");var oZ=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,s=HU(t,w$);if(!s)return null;var a,o=w$.defaultProps,l=void 0!==o?sZ(sZ({},o),s.props):{};return a=s.props&&s.props.payload?s.props&&s.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:s.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?sZ(sZ({},n),t.props):{},i=r.dataKey,s=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:gZ(t),value:s||i,payload:r}})),sZ(sZ(sZ({},l),w$.getWithHeight(s,r)),{},{payload:a,item:s})};function lZ(e){return lZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lZ(e)}function cZ(e){return function(e){if(Array.isArray(e))return uZ(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return uZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uZ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dZ(Object(n),!0).forEach((function(t){fZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fZ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=lZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lZ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pZ(e,t,n){return wU()(e)||wU()(t)?n:hU(t)?aU()(e,t,n):jU()(t)?t(e):n}function mZ(e,t,n,r){var i=dQ()(e,(function(e){return pZ(e,t)}));if("number"===n){var s=i.filter((function(e){return dU(e)||parseFloat(e)}));return s.length?[cQ()(s),oQ()(s)]:[1/0,-1/0]}return(r?i.filter((function(e){return!wU()(e)})):i).map((function(e){return hU(e)||e instanceof Date?e:""}))}var gZ=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?hZ(hZ({},e.type.defaultProps),e.props):e.props,s=i.stroke,a=i.fill;switch(r){case"Line":n=s;break;case"Area":case"Radar":n=s&&"none"!==s?s:a;break;default:n=a}return n},yZ=function(e,t,n,r,i){var s=$U(t.props.children,nZ).filter((function(e){return function(e,t,n){return!!wU()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(s&&s.length){var a=s.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=pZ(t,n);if(wU()(r))return e;var i=Array.isArray(r)?[cQ()(r),oQ()(r)]:[r,r],s=a.reduce((function(e,n){var r=pZ(t,n,0),s=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(s,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}),[1/0,-1/0])}return null},vZ=function(e,t,n,r,i){var s=t.map((function(t){var s=t.props.dataKey;return"number"===n&&s&&yZ(e,t,s,r)||mZ(e,s,n,i)}));if("number"===n)return s.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return s.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},bZ=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},xZ=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,s=e.type,a=e.range,o="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===s&&r.bandwidth?r.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*cU(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!iU()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},wZ=new WeakMap,_Z=function(e,t){if("function"!==typeof t)return e;wZ.has(e)||wZ.set(e,new WeakMap);var n=wZ.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},jZ=1e-4,SZ={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,a=0;a<t;++a){var o=iU()(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,s=0,a=e[0].length;s<a;++s){for(i=n=0;n<r;++n)i+=e[n][s][1]||0;if(i)for(n=0;n<r;++n)e[n][s][1]/=i}tQ(e,t)}},none:tQ,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],s=i.length;r<s;++r){for(var a=0,o=0;a<n;++a)o+=e[a][r][1]||0;i[r][1]+=i[r][0]=-o/2}tQ(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,s=0,a=1;a<r;++a){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=s,l&&(s-=c/l)}n[a-1][1]+=n[a-1][0]=s,tQ(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var a=iU()(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=i,e[s][n][1]=i+a,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}}},EZ=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=SZ[n],s=function(){var e=Oz([]),t=rQ,n=tQ,r=iQ;function i(i){var s,a,o=Array.from(e.apply(this,arguments),sQ),l=o.length,c=-1;for(const e of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(e,o[s].key,c,i)]).data=e;for(s=0,a=nQ(t(o));s<l;++s)o[a[s]].index=s;return n(o,a),o}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Oz(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Oz(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?rQ:"function"===typeof e?e:Oz(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?tQ:e,i):n},i}().keys(r).value((function(e,t){return+pZ(e,t,0)})).order(rQ).offset(i);return s(e)};var NZ=function(e,t,n){return Object.keys(e).reduce((function(r,i){var s=e[i].stackedData.reduce((function(e,r){var i=function(e){return e.reduce((function(e,t){return[cQ()(t.concat([e[0]]).filter(dU)),oQ()(t.concat([e[1]]).filter(dU))]}),[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},kZ=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CZ=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TZ=function(e,t,n){if(jU()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(dU(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(kZ.test(e[0])){var i=+kZ.exec(e[0])[1];r[0]=t[0]-i}else jU()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(dU(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(CZ.test(e[1])){var s=+CZ.exec(e[1])[1];r[1]=t[1]+s}else jU()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},IZ=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=cV()(t,(function(e){return e.coordinate})),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],c=i[a-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},AZ=function(e,t,n){return e&&e.length?fQ()(e,aU()(n,"type.defaultProps.domain"))?t:e:t},OZ=function(e,t){var n=e.type.defaultProps?hZ(hZ({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,s=n.unit,a=n.formatter,o=n.tooltipType,l=n.chartType,c=n.hide;return hZ(hZ({},KU(e,!1)),{},{dataKey:r,unit:s,formatter:a,name:i||r,color:gZ(e),value:pZ(t,r),type:o,payload:t,chartType:l,hide:c})};function PZ(e){return PZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PZ(e)}function MZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MZ(Object(n),!0).forEach((function(t){RZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RZ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=PZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PZ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LZ=["Webkit","Moz","O","ms"];function FZ(e){return FZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FZ(e)}function BZ(){return BZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BZ.apply(this,arguments)}function UZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UZ(Object(n),!0).forEach((function(t){YZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KZ(r.key),r)}}function $Z(e,t,n){return t=qZ(t),function(e,t){if(t&&("object"===FZ(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,HZ()?Reflect.construct(t,n||[],qZ(e).constructor):t.apply(e,n))}function HZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(HZ=function(){return!!e})()}function qZ(e){return qZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qZ(e)}function WZ(e,t){return WZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WZ(e,t)}function YZ(e,t,n){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KZ(e){var t=function(e,t){if("object"!=FZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FZ(t)?t:t+""}var GZ=function(e){return e.changedTouches&&!!e.changedTouches.length},XZ=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),YZ(n=$Z(this,t,[e]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),YZ(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),YZ(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),YZ(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),YZ(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),YZ(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),YZ(n,"handleSlideDragStart",(function(e){var t=GZ(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WZ(e,t)}(t,e),n=t,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,s=this.props,a=s.gap,o=s.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(i,l),d=t.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===o?o:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,s=pZ(n[e],i,e);return jU()(r)?r(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,s=this.props,a=s.x,o=s.width,l=s.travellerWidth,c=s.startIndex,u=s.endIndex,d=s.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+o-l-i,a+o-l-r):h<0&&(h=Math.max(h,a-r,a-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=GZ(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,s=t.startX,a=this.state[r],o=this.props,l=o.x,c=o.width,u=o.travellerWidth,d=o.onChange,h=o.gap,f=o.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(YZ(YZ({},r,a+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=f.length-1;return"startX"===r&&(i>s?y%h===0:v%h===0)||i<s&&v===e||"endX"===r&&(i>s?v%h===0:y%h===0)||i>s&&v===e}()&&d(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,s=r.startX,a=r.endX,o=this.state[t],l=i.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=s||this.setState(YZ({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,s=e.height,a=e.fill,o=e.stroke;return r.createElement("rect",{stroke:o,fill:a,x:t,y:n,width:i,height:s})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,s=e.height,a=e.data,o=e.children,l=e.padding,c=r.Children.only(o);return c?r.cloneElement(c,{x:t,y:n,width:i,height:s,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var i,s,a=this,o=this.props,l=o.y,c=o.travellerWidth,u=o.height,d=o.traveller,h=o.ariaLabel,f=o.data,p=o.startIndex,m=o.endIndex,g=Math.max(e,this.props.x),y=VZ(VZ({},KU(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(i=f[p])||void 0===i?void 0:i.name,", Max value: ").concat(null===(s=f[m])||void 0===s?void 0:s.name);return r.createElement(bV,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,i=n.y,s=n.height,a=n.stroke,o=n.travellerWidth,l=Math.min(e,t)+o,c=Math.max(Math.abs(t-e)-o,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:i,width:c,height:s})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,i=e.y,s=e.height,a=e.travellerWidth,o=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:o};return r.createElement(bV,{className:"recharts-brush-texts"},r.createElement(iW,BZ({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:i+s/2},d),this.getTextOfTick(t)),r.createElement(iW,BZ({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:i+s/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,i=e.children,s=e.x,a=e.y,o=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!dU(s)||!dU(a)||!dU(o)||!dU(l)||o<=0||l<=0)return null;var y=ZB("recharts-brush",n),v=1===r.Children.count(i),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=LZ.reduce((function(e,r){return DZ(DZ({},e),{},RZ({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return r.createElement(bV,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],s=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,i=e.width,s=e.height,a=e.stroke,o=Math.floor(n+s/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:t,y:n,width:i,height:s,fill:a,stroke:"none"}),r.createElement("line",{x1:t+1,y1:o,x2:t+i-1,y2:o,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:t+1,y1:o+2,x2:t+i-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return r.isValidElement(e)?r.cloneElement(e,n):jU()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,s=e.travellerWidth,a=e.updateId,o=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return VZ({prevData:n,prevTravellerWidth:s,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,s=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=wq().domain(oV()(0,o)).range([i,i+s-a]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:s,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([i,i+r-s]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:s,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],i&&zZ(n.prototype,i),s&&zZ(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.PureComponent);function QZ(e){return QZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QZ(e)}function ZZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZZ(Object(n),!0).forEach((function(t){eJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eJ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=QZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=QZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QZ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nJ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}YZ(XZ,"displayName","Brush"),YZ(XZ,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rJ=Math.PI/180,iJ=function(e){return 180*e/Math.PI},sJ=function(e,t,n,r){return{x:e+Math.cos(-rJ*r)*n,y:t+Math.sin(-rJ*r)*n}},aJ=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},oJ=function(e,t){var n=e.x,r=e.y,i=t.cx,s=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,s=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-s,2))}({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:iJ(l),angleInRadian:l}},lJ=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),s=Math.floor(r/360);return e+360*Math.min(i,s)},cJ=function(e,t){var n=e.x,r=e.y,i=oJ({x:n,y:r},t),s=i.radius,a=i.angle,o=t.innerRadius,l=t.outerRadius;if(s<o||s>l)return!1;if(0===s)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-360*s,endAngle:n-360*s}}(t),d=u.startAngle,h=u.endAngle,f=a;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?JZ(JZ({},t),{},{radius:s,angle:lJ(f,t)}):null},uJ=function(e){return(0,r.isValidElement)(e)||jU()(e)||"boolean"===typeof e?"":e.className};function dJ(e){return dJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dJ(e)}var hJ=["offset"];function fJ(e){return function(e){if(Array.isArray(e))return pJ(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return pJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mJ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gJ(Object(n),!0).forEach((function(t){vJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vJ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=dJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dJ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bJ(){return bJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bJ.apply(this,arguments)}var xJ=function(e,t,n){var i,s,a=e.position,o=e.viewBox,l=e.offset,c=e.className,u=o,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,b=function(e,t){return cU(t-e)*Math.min(Math.abs(t-e),360)}(m,g),x=b>=0?1:-1;"insideStart"===a?(i=m+x*l,s=y):"insideEnd"===a?(i=g-x*l,s=!y):"end"===a&&(i=g+x*l,s=y),s=b<=0?s:!s;var w=sJ(d,h,v,i),_=sJ(d,h,v,i+359*(s?1:-1)),j="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(s?0:1,",\n    ").concat(_.x,",").concat(_.y),S=wU()(e.id)?pU("recharts-radial-line-"):e.id;return r.createElement("text",bJ({},n,{dominantBaseline:"central",className:ZB("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:S,d:j})),r.createElement("textPath",{xlinkHref:"#".concat(S)},t))};function wJ(e){var t,n=e.offset,i=yJ({offset:void 0===n?5:n},mJ(e,hJ)),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=void 0===u?"":u,h=i.textBreakAll;if(!s||wU()(o)&&wU()(l)&&!(0,r.isValidElement)(c)&&!jU()(c))return null;if((0,r.isValidElement)(c))return(0,r.cloneElement)(c,i);if(jU()(c)){if(t=(0,r.createElement)(c,i),(0,r.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=wU()(e.children)?t:e.children;return jU()(n)?n(r):r}(i);var f=function(e){return"cx"in e&&dU(e.cx)}(s),p=KU(i,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return xJ(i,t,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,s=i.cx,a=i.cy,o=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=sJ(s,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=sJ(s,a,(o+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,s=t,a=s.x,o=s.y,l=s.width,c=s.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return yJ(yJ({},{x:a+l/2,y:o-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===i)return yJ(yJ({},{x:a+l/2,y:o+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return yJ(yJ({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return yJ(yJ({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===i?yJ({x:a+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===i?yJ({x:a+l-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===i?yJ({x:a+l/2,y:o+d,textAnchor:"middle",verticalAnchor:f},x):"insideBottom"===i?yJ({x:a+l/2,y:o+c-d,textAnchor:"middle",verticalAnchor:h},x):"insideTopLeft"===i?yJ({x:a+m,y:o+d,textAnchor:y,verticalAnchor:f},x):"insideTopRight"===i?yJ({x:a+l-m,y:o+d,textAnchor:g,verticalAnchor:f},x):"insideBottomLeft"===i?yJ({x:a+m,y:o+c-d,textAnchor:y,verticalAnchor:h},x):"insideBottomRight"===i?yJ({x:a+l-m,y:o+c-d,textAnchor:g,verticalAnchor:h},x):EU()(i)&&(dU(i.x)||uU(i.x))&&(dU(i.y)||uU(i.y))?yJ({x:a+mU(i.x,l),y:o+mU(i.y,c),textAnchor:"end",verticalAnchor:"end"},x):yJ({x:a+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(i);return r.createElement(iW,bJ({className:ZB("recharts-label",d)},p,m,{breakAll:h}),t)}wJ.displayName="Label";var _J=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,s=e.endAngle,a=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(dU(p)&&dU(m)){if(dU(u)&&dU(d))return{x:u,y:d,width:p,height:m};if(dU(h)&&dU(f))return{x:h,y:f,width:p,height:m}}return dU(u)&&dU(d)?{x:u,y:d,width:0,height:0}:dU(t)&&dU(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:l||0,outerRadius:c||o||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};wJ.parseViewBox=_J,wJ.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=_J(e),a=$U(i,wJ).map((function(e,n){return(0,r.cloneElement)(e,{viewBox:t||s,key:"label-".concat(n)})}));if(!n)return a;var o=function(e,t){return e?!0===e?r.createElement(wJ,{key:"label-implicit",viewBox:t}):hU(e)?r.createElement(wJ,{key:"label-implicit",viewBox:t,value:e}):(0,r.isValidElement)(e)?e.type===wJ?(0,r.cloneElement)(e,{key:"label-implicit",viewBox:t}):r.createElement(wJ,{key:"label-implicit",content:e,viewBox:t}):jU()(e)?r.createElement(wJ,{key:"label-implicit",content:e,viewBox:t}):EU()(e)?r.createElement(wJ,bJ({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||s);return[o].concat(fJ(a))};var jJ=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},SJ=n(1733),EJ=n.n(SJ),NJ=n(7002),kJ=n.n(NJ);function CJ(e){return CJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CJ(e)}function TJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PJ(r.key),r)}}function IJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IJ(Object(n),!0).forEach((function(t){OJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OJ(e,t,n){return(t=PJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PJ(e){var t=function(e,t){if("object"!=CJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CJ(t)?t:t+""}var MJ=function(e,t){var n=e.x,r=e.y,i=t.x,s=t.y;return{x:Math.min(n,i),y:Math.min(r,s),width:Math.abs(i-n),height:Math.abs(s-r)}},DJ=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&TJ(t.prototype,n),r&&TJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();OJ(DJ,"EPS",1e-4);var RJ=function(e){var t=Object.keys(e).reduce((function(t,n){return AJ(AJ({},t),{},OJ({},n,DJ.create(e[n])))}),{});return AJ(AJ({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return EJ()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return kJ()(e,(function(e,n){return t[n].isInRange(e)}))}})};function LJ(){return LJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LJ.apply(this,arguments)}function FJ(e){return FJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FJ(e)}function BJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BJ(Object(n),!0).forEach((function(t){WJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YJ(r.key),r)}}function zJ(e,t,n){return t=HJ(t),function(e,t){if(t&&("object"===FJ(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$J()?Reflect.construct(t,n||[],HJ(e).constructor):t.apply(e,n))}function $J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($J=function(){return!!e})()}function HJ(e){return HJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HJ(e)}function qJ(e,t){return qJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qJ(e,t)}function WJ(e,t,n){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YJ(e){var t=function(e,t){if("object"!=FJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FJ(t)?t:t+""}var KJ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zJ(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qJ(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,n=e.x,i=e.y,s=e.r,a=e.alwaysShow,o=e.clipPathId,l=hU(n),c=hU(i);if(bU(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,s=RJ({x:r.scale,y:i.scale}),a=s.apply({x:t,y:n},{bandAware:!0});return jJ(e,"discard")&&!s.isInRange(a)?null:a}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=UJ(UJ({clipPath:jJ(this.props,"hidden")?"url(#".concat(o,")"):void 0},KU(this.props,!0)),{},{cx:d,cy:h});return r.createElement(bV,{className:ZB("recharts-reference-dot",m)},t.renderDot(p,g),wJ.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}],i&&VJ(n.prototype,i),s&&VJ(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.Component);WJ(KJ,"displayName","ReferenceDot"),WJ(KJ,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),WJ(KJ,"renderDot",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):jU()(e)?e(t):r.createElement(j$,LJ({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var GJ=n(4597),XJ=n.n(GJ),QJ=(n(8990),n(5797)),ZJ=n.n(QJ)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var JJ=(0,r.createContext)(void 0),e0=(0,r.createContext)(void 0),t0=(0,r.createContext)(void 0),n0=(0,r.createContext)({}),r0=(0,r.createContext)(void 0),i0=(0,r.createContext)(0),s0=(0,r.createContext)(0),a0=function(e){var t=e.state,n=t.xAxisMap,i=t.yAxisMap,s=t.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,u=ZJ(s);return r.createElement(JJ.Provider,{value:n},r.createElement(e0.Provider,{value:i},r.createElement(n0.Provider,{value:s},r.createElement(t0.Provider,{value:u},r.createElement(r0.Provider,{value:a},r.createElement(i0.Provider,{value:c},r.createElement(s0.Provider,{value:l},o)))))))};function o0(e){return o0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o0(e)}function l0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g0(r.key),r)}}function c0(e,t,n){return t=d0(t),function(e,t){if(t&&("object"===o0(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u0()?Reflect.construct(t,n||[],d0(e).constructor):t.apply(e,n))}function u0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u0=function(){return!!e})()}function d0(e){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d0(e)}function h0(e,t){return h0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h0(e,t)}function f0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f0(Object(n),!0).forEach((function(t){m0(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m0(e,t,n){return(t=g0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g0(e){var t=function(e,t){if("object"!=o0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o0(t)?t:t+""}function y0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v0(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b0.apply(this,arguments)}function x0(e){var t=e.x,n=e.y,i=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=(0,r.useContext)(r0),d=function(e){var t=(0,r.useContext)(JJ);null==t&&dV(!1);var n=t[e];return null==n&&dV(!1),n}(s),h=function(e){var t=(0,r.useContext)(e0);null==t&&dV(!1);var n=t[e];return null==n&&dV(!1),n}(a),f=(0,r.useContext)(t0);if(!u||!f)return null;bU(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,s,a,o,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:s});if(jJ(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===o?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:s});if(jJ(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:s})}));return jJ(l,"discard")&&XJ()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(RJ({x:d.scale,y:h.scale}),hU(t),hU(n),i&&2===i.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=y0(p,2),g=m[0],y=g.x,v=g.y,b=m[1],x=b.x,w=b.y,_=p0(p0({clipPath:jJ(e,"hidden")?"url(#".concat(u,")"):void 0},KU(e,!0)),{},{x1:y,y1:v,x2:x,y2:w});return r.createElement(bV,{className:ZB("recharts-reference-line",l)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):jU()(e)?e(t):r.createElement("line",b0({},t,{className:"recharts-reference-line-line"}))}(o,_),wJ.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return MJ({x:t,y:n},{x:r,y:i})}({x1:y,y1:v,x2:x,y2:w})))}var w0=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c0(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h0(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(x0,this.props)}}])&&l0(n.prototype,i),s&&l0(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.Component);function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_0.apply(this,arguments)}function j0(e){return j0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(e)}function S0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S0(Object(n),!0).forEach((function(t){A0(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O0(r.key),r)}}function k0(e,t,n){return t=T0(t),function(e,t){if(t&&("object"===j0(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,C0()?Reflect.construct(t,n||[],T0(e).constructor):t.apply(e,n))}function C0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C0=function(){return!!e})()}function T0(e){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T0(e)}function I0(e,t){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I0(e,t)}function A0(e,t,n){return(t=O0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O0(e){var t=function(e,t){if("object"!=j0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j0(t)?t:t+""}m0(w0,"displayName","ReferenceLine"),m0(w0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var P0=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k0(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I0(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,n=e.x1,i=e.x2,s=e.y1,a=e.y2,o=e.className,l=e.alwaysShow,c=e.clipPathId;bU(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=hU(n),d=hU(i),h=hU(s),f=hU(a),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,n,r,i){var s=i.x1,a=i.x2,o=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=RJ({x:c.scale,y:u.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(o,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!jJ(i,"discard")||d.isInRange(h)&&d.isInRange(f)?MJ(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=jJ(this.props,"hidden")?"url(#".concat(c,")"):void 0;return r.createElement(bV,{className:ZB("recharts-reference-area",o)},t.renderRect(p,E0(E0({clipPath:g},KU(this.props,!0)),m)),wJ.renderCallByParent(this.props,m))}}],i&&N0(n.prototype,i),s&&N0(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.Component);function M0(e){return function(e){if(Array.isArray(e))return D0(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return D0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D0(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}A0(P0,"displayName","ReferenceArea"),A0(P0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),A0(P0,"renderRect",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):jU()(e)?e(t):r.createElement(cq,_0({},t,{className:"recharts-reference-area-rect"}))}));var R0=function(e,t,n,r,i){var s=$U(e,w0),a=$U(e,KJ),o=[].concat(M0(s),M0(a)),l=$U(e,P0),c="".concat(r,"Id"),u=r[0],d=t;if(o.length&&(d=o.reduce((function(e,t){if(t.props[c]===n&&jJ(t.props,"extendDomain")&&dU(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===n&&jJ(t.props,"extendDomain")&&dU(t.props[h])&&dU(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),d)}return i&&i.length&&(d=i.reduce((function(e,t){return dU(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},L0=n(7283),F0=new(n.n(L0)()),B0="recharts.syncMouseEvents";function U0(e){return U0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(e)}function V0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$0(r.key),r)}}function z0(e,t,n){return(t=$0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $0(e){var t=function(e,t){if("object"!=U0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=U0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U0(t)?t:t+""}var H0=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),z0(this,"activeIndex",0),z0(this,"coordinateList",[]),z0(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,s=void 0===i?null:i,a=e.layout,o=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==s&&void 0!==s?s:this.container,this.layout=null!==o&&void 0!==o?o:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,s=n.height,a=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+o,u=i+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&V0(e.prototype,t),n&&V0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();var q0=n(2322),W0=n.n(q0),Y0=n(6361),K0=n.n(Y0);function G0(e){return G0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(e)}function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X0.apply(this,arguments)}function Q0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Z0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z0(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function e1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J0(Object(n),!0).forEach((function(t){t1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function t1(e,t,n){return t=function(e){var t=function(e,t){if("object"!=G0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=G0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G0(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n1=function(e,t,n,r,i){var s,a=n-r;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-a/2,",").concat(t+i),s+="L ".concat(e+n-a/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z")},r1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i1=function(e){var t=e1(e1({},r1),e),n=(0,r.useRef)(),i=Q0((0,r.useState)(-1),2),s=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var o=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=ZB("recharts-trapezoid",h);return g?r.createElement(ZH,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:o,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:o,y:l},duration:p,animationEasing:f,isActive:g},(function(e){var i=e.upperWidth,a=e.lowerWidth,o=e.height,l=e.x,c=e.y;return r.createElement(ZH,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},r.createElement("path",X0({},KU(t,!0),{className:y,d:n1(l,c,i,a,o),ref:n})))})):r.createElement("g",null,r.createElement("path",X0({},KU(t,!0),{className:y,d:n1(o,l,c,u,d)})))};function s1(e){return s1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s1(e)}function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a1.apply(this,arguments)}function o1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o1(Object(n),!0).forEach((function(t){c1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c1(e,t,n){return t=function(e){var t=function(e,t){if("object"!=s1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s1(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u1=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,s=e.sign,a=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(a?1:-1)+r,u=Math.asin(o/c)/rJ,d=l?i:i+s*u,h=l?i-s*u:i;return{center:sJ(t,n,c,d),circleTangency:sJ(t,n,r,d),lineTangency:sJ(t,n,c*Math.cos(u*rJ),h),theta:u}},d1=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,s=e.startAngle,a=function(e,t){return cU(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),o=s+a,l=sJ(t,n,i,s),c=sJ(t,n,i,o),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(s>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=sJ(t,n,r,s),h=sJ(t,n,r,o);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(s<=o),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},h1={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},f1=function(e){var t=l1(l1({},h1),e),n=t.cx,i=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(a<s||u===d)return null;var f,p=ZB("recharts-sector",h),m=a-s,g=mU(o,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=cU(c-l),d=u1({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=u1({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=o?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):d1({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=u1({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),_=w.circleTangency,j=w.lineTangency,S=w.theta,E=u1({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),N=E.circleTangency,k=E.lineTangency,C=E.theta,T=o?Math.abs(l-c):Math.abs(l-c)-S-C;if(T<0&&0===s)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(k.x,",").concat(k.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):d1({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d}),r.createElement("path",a1({},KU(t,!0),{className:p,d:f,role:"img"}))},p1=["option","shapeType","propTransformer","activeClassName","isActive"];function m1(e){return m1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m1(e)}function g1(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y1(Object(n),!0).forEach((function(t){b1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b1(e,t,n){return t=function(e){var t=function(e,t){if("object"!=m1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m1(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x1(e,t){return v1(v1({},t),e)}function w1(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return r.createElement(cq,n);case"trapezoid":return r.createElement(i1,n);case"sector":return r.createElement(f1,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(Gz,n);break;default:return null}}function _1(e){var t,n=e.option,i=e.shapeType,s=e.propTransformer,a=void 0===s?x1:s,o=e.activeClassName,l=void 0===o?"recharts-active-shape":o,c=e.isActive,u=g1(e,p1);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,v1(v1({},u),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if(jU()(n))t=n(u);else if(W0()(n)&&!K0()(n)){var d=a(n,u);t=r.createElement(w1,{shapeType:i,elementProps:d})}else{var h=u;t=r.createElement(w1,{shapeType:i,elementProps:h})}return c?r.createElement(bV,{className:l},t):t}function j1(e,t){return null!=t&&"trapezoids"in e.props}function S1(e,t){return null!=t&&"sectors"in e.props}function E1(e,t){return null!=t&&"points"in e.props}function N1(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,s=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&s}function k1(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function C1(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function T1(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return j1(e,t)?n="trapezoids":S1(e,t)?n="sectors":E1(e,t)&&(n="points"),n}(n,t),s=function(e,t){var n,r;return j1(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:S1(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:E1(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=fQ()(s,e),o=n.props[i].filter((function(e){var r=function(e,t){var n;return j1(e,t)?n=N1:S1(e,t)?n=k1:E1(e,t)&&(n=C1),n}(n,t);return r(e,t)})),l=n.props[i].indexOf(o[o.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}function I1(){}function A1(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function O1(e){this._context=e}function P1(e){this._context=e}function M1(e){this._context=e}O1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:A1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:A1(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},P1.prototype={areaStart:I1,areaEnd:I1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:A1(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},M1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:A1(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class D1{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function R1(e){this._context=e}function L1(e){this._context=e}function F1(e){return new L1(e)}function B1(e){return e<0?-1:1}function U1(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(B1(s)+B1(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function V1(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function z1(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,i+o*t,s-o,a-o*n,s,a)}function $1(e){this._context=e}function H1(e){this._context=new q1(e)}function q1(e){this._context=e}function W1(e){this._context=e}function Y1(e){var t,n,r=e.length-1,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function K1(e,t){this._context=e,this._t=t}function G1(e){return e[0]}function X1(e){return e[1]}function Q1(e,t){var n=Oz(!0),r=null,i=F1,s=null,a=Bz(o);function o(o){var l,c,u,d=(o=nQ(o)).length,h=!1;for(null==r&&(s=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,o),+t(c,l,o));if(u)return s=null,u+""||null}return e="function"===typeof e?e:void 0===e?G1:Oz(e),t="function"===typeof t?t:void 0===t?X1:Oz(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:Oz(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:Oz(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:Oz(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(s=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=s=null:s=i(r=e),o):r},o}function Z1(e,t,n){var r=null,i=Oz(!0),s=null,a=F1,o=null,l=Bz(c);function c(c){var u,d,h,f,p,m=(c=nQ(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==s&&(o=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(y[h],v[h]);o.lineEnd(),o.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),o.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return o=null,p+""||null}function u(){return Q1().defined(i).curve(a).context(s)}return e="function"===typeof e?e:void 0===e?G1:Oz(+e),t="function"===typeof t?t:Oz(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?X1:Oz(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Oz(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Oz(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Oz(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Oz(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Oz(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Oz(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:Oz(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=s&&(o=a(s)),c):a},c.context=function(e){return arguments.length?(null==e?s=o=null:o=a(s=e),c):s},c}function J1(e){return J1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J1(e)}function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e2.apply(this,arguments)}function t2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t2(Object(n),!0).forEach((function(t){r2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r2(e,t,n){return t=function(e){var t=function(e,t){if("object"!=J1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=J1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==J1(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}R1.prototype={areaStart:I1,areaEnd:I1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},L1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z1(this,this._t0,V1(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,z1(this,V1(this,n=U1(this,e,t)),n);break;default:z1(this,this._t0,n=U1(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(H1.prototype=Object.create($1.prototype)).point=function(e,t){$1.prototype.point.call(this,t,e)},q1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}},W1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Y1(e),i=Y1(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},K1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var i2={curveBasisClosed:function(e){return new P1(e)},curveBasisOpen:function(e){return new M1(e)},curveBasis:function(e){return new O1(e)},curveBumpX:function(e){return new D1(e,!0)},curveBumpY:function(e){return new D1(e,!1)},curveLinearClosed:function(e){return new R1(e)},curveLinear:F1,curveMonotoneX:function(e){return new $1(e)},curveMonotoneY:function(e){return new H1(e)},curveNatural:function(e){return new W1(e)},curveStep:function(e){return new K1(e,.5)},curveStepAfter:function(e){return new K1(e,1)},curveStepBefore:function(e){return new K1(e,0)}},s2=function(e){return e.x===+e.x&&e.y===+e.y},a2=function(e){return e.x},o2=function(e){return e.y},l2=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,s=void 0===i?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(jU()(e))return e;var n="curve".concat(cz()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?i2[n]||F1:i2["".concat(n).concat("vertical"===t?"Y":"X")]}(r,o),d=c?s.filter((function(e){return s2(e)})):s;if(Array.isArray(a)){var h=c?a.filter((function(e){return s2(e)})):a,f=d.map((function(e,t){return n2(n2({},e),{},{base:h[t]})}));return t="vertical"===o?Z1().y(o2).x1(a2).x0((function(e){return e.base.x})):Z1().x(a2).y1(o2).y0((function(e){return e.base.y})),t.defined(s2).curve(u),t(f)}return(t="vertical"===o&&dU(a)?Z1().y(o2).x1(a2).x0(a):dU(a)?Z1().x(a2).y1(o2).y0(a):Q1().x(a2).y(o2)).defined(s2).curve(u),t(d)},c2=function(e){var t=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?l2(e):i;return r.createElement("path",e2({},KU(e,!1),PU(e),{className:ZB("recharts-curve",t),d:a,ref:s}))};function u2(e){return u2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u2(e)}var d2=["x","y","top","left","width","height","className"];function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h2.apply(this,arguments)}function f2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p2(e,t,n){return t=function(e){var t=function(e,t){if("object"!=u2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u2(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m2(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var g2=function(e,t,n,r,i,s){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n)},y2=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,s=void 0===i?0:i,a=e.top,o=void 0===a?0:a,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f2(Object(n),!0).forEach((function(t){p2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:s,top:o,left:c,width:d,height:f},m2(e,d2));return dU(n)&&dU(s)&&dU(d)&&dU(f)&&dU(o)&&dU(c)?r.createElement("path",h2({},KU(m,!0),{className:ZB("recharts-cross",p),d:g2(n,s,d,f,o,c)})):null};function v2(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,s=e.endAngle;return{points:[sJ(t,n,r,i),sJ(t,n,r,s)],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function b2(e,t,n){var r,i,s,a;if("horizontal"===e)s=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,s=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return v2(t);var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=sJ(o,l,c,d),f=sJ(o,l,u,d);r=h.x,i=h.y,s=f.x,a=f.y}return[{x:r,y:i},{x:s,y:a}]}function x2(e){return x2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x2(e)}function w2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w2(Object(n),!0).forEach((function(t){j2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j2(e,t,n){return t=function(e){var t=function(e,t){if("object"!=x2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x2(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S2(e){var t,n,i,s=e.element,a=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(t=s.props.cursor)&&void 0!==t?t:null===(n=s.type.defaultProps)||void 0===n?void 0:n.cursor;if(!s||!m||!o||!l||"ScatterChart"!==p&&"axis"!==a)return null;var g=c2;if("ScatterChart"===p)i=l,g=y2;else if("BarChart"===p)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=cq;else if("radial"===f){var y=v2(l),v=y.cx,b=y.cy,x=y.radius;i={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:x,outerRadius:x},g=f1}else i={points:b2(f,l,u)},g=c2;var w=_2(_2(_2(_2({stroke:"#ccc",pointerEvents:"none"},u),i),KU(m,!1)),{},{payload:c,payloadIndex:d,className:ZB("recharts-tooltip-cursor",m.className)});return(0,r.isValidElement)(m)?(0,r.cloneElement)(m,w):(0,r.createElement)(g,w)}var E2=["item"],N2=["children","className","width","height","style","compact","title","desc"];function k2(e){return k2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k2(e)}function C2(){return C2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C2.apply(this,arguments)}function T2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||L2(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I2(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z2(r.key),r)}}function O2(e,t,n){return t=M2(t),function(e,t){if(t&&("object"===k2(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P2()?Reflect.construct(t,n||[],M2(e).constructor):t.apply(e,n))}function P2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P2=function(){return!!e})()}function M2(e){return M2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M2(e)}function D2(e,t){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D2(e,t)}function R2(e){return function(e){if(Array.isArray(e))return F2(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L2(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L2(e,t){if(e){if("string"===typeof e)return F2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F2(e,t):void 0}}function F2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B2(Object(n),!0).forEach((function(t){V2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V2(e,t,n){return(t=z2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z2(e){var t=function(e,t){if("object"!=k2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k2(t)?t:t+""}var $2={xAxis:["bottom","top"],yAxis:["left","right"]},H2={width:"100%",height:"100%"},q2={x:0,y:0};function W2(e){return e}var Y2=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,s=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(R2(e),R2(n)):e}),[]);return s.length>0?s:e&&e.length&&dU(r)&&dU(i)?e.slice(r,i+1):[]};function K2(e){return"number"===e?[0,"auto"]:void 0}var G2=function(e,t,n,r){var i=e.graphicalItems,s=e.tooltipAxis,a=Y2(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,o){var l,c,u=null!==(l=o.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=vU(void 0===u?a:u,s.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(R2(i),[OZ(o,c)]):i}),[])},X2=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var o=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(cU(u-c)!==cU(d-u)){var f=[];if(cU(d-u)===cU(o[1]-o[0])){h=d;var p=u+o[1]-o[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+o[1]-o[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){s=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){s=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){s=n[b].index;break}return s}(s,a,l,o);if(c>=0&&l){var u=l[c]&&l[c].value,d=G2(e,t,c,u),h=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var s=i.coordinate,a=r.radius;return U2(U2(U2({},r),sJ(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,l=r.angle;return U2(U2(U2({},r),sJ(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return q2}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},Q2=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,s=t.axisIdKey,a=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=bZ(c,i);return n.reduce((function(t,n){var f,p=void 0!==n.type.defaultProps?U2(U2({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,x=p.ticks,w=p.includeHidden,_=p[s];if(t[_])return t;var j,S,E,N=Y2(e.data,{graphicalItems:r.filter((function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===_})),dataStartIndex:o,dataEndIndex:l}),k=N.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&dU(r)&&dU(i))return!0}return!1})(p.domain,y,m)&&(j=TZ(p.domain,null,y),!h||"number"!==m&&"auto"===b||(E=mZ(N,g,"category")));var C=K2(m);if(!j||0===j.length){var T,I=null!==(T=p.domain)&&void 0!==T?T:C;if(g){if(j=mZ(N,g,m),"category"===m&&h){var A=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(j);v&&A?(S=j,j=oV()(0,k)):v||(j=AZ(I,j,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(R2(e),[t])}),[]))}else if("category"===m)j=v?j.filter((function(e){return""!==e&&!wU()(e)})):AZ(I,j,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||wU()(t)?e:[].concat(R2(e),[t])}),[]);else if("number"===m){var O=function(e,t,n,r,i){var s=t.map((function(t){return yZ(e,t,n,i,r)})).filter((function(e){return!wU()(e)}));return s&&s.length?s.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(N,r.filter((function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===_&&(w||!i)})),g,i,c);O&&(j=O)}!h||"number"!==m&&"auto"===b||(E=mZ(N,g,"category"))}else j=h?oV()(0,k):a&&a[_]&&a[_].hasStack&&"number"===m?"expand"===d?[0,1]:NZ(a[_].stackGroups,o,l):vZ(N,r.filter((function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===_&&(w||!n)})),m,c,!0);if("number"===m)j=R0(u,j,_,i,x),I&&(j=TZ(I,j,y));else if("category"===m&&I){var P=I;j.every((function(e){return P.indexOf(e)>=0}))&&(j=P)}}return U2(U2({},t),{},V2({},_,U2(U2({},p),{},{axisType:i,domain:j,categoricalDomain:E,duplicateDomain:S,originalDomain:null!==(f=p.domain)&&void 0!==f?f:C,isCategorical:h,layout:c})))}),{})},Z2=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,s=t.graphicalItems,a=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=$U(c,i),h={};return d&&d.length?h=Q2(e,{axes:d,graphicalItems:s,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:o,dataEndIndex:l}):s&&s.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,s=t.axisIdKey,a=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=Y2(e.data,{graphicalItems:n,dataStartIndex:o,dataEndIndex:l}),h=d.length,f=bZ(c,i),p=-1;return n.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?U2(U2({},t.type.defaultProps),t.props):t.props)[s],y=K2("number");return e[g]?e:(p++,f?m=oV()(0,h):a&&a[g]&&a[g].hasStack?(m=NZ(a[g].stackGroups,o,l),m=R0(u,m,g,i)):(m=TZ(y,vZ(d,n.filter((function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i})),"number",c),r.defaultProps.allowDataOverflow),m=R0(u,m,g,i)),U2(U2({},e),{},V2({},g,U2(U2({axisType:i},r.defaultProps),{},{hide:!0,orientation:aU()($2,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:s,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:o,dataEndIndex:l})),h},J2=function(e){var t=e.children,n=e.defaultShowTooltip,r=HU(t,XZ),i=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(s=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},e5=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},t5=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,s=e.yAxisMap,a=void 0===s?{}:s,o=n.width,l=n.height,c=n.children,u=n.margin||{},d=HU(c,XZ),h=HU(c,w$),f=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:U2(U2({},e),{},V2({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:U2(U2({},e),{},V2({},r,aU()(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=U2(U2({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||XZ.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,s=n.width,a=n.margin,o=s-(a.left||0)-(a.right||0),l=oZ({children:i,legendWidth:o});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&dU(e[h]))return hZ(hZ({},e),{},fZ({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&dU(e[f]))return hZ(hZ({},e),{},fZ({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=o-m.left-m.right,v=l-m.top-m.bottom;return U2(U2({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},n5=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},r5=["points","className","baseLinePoints","connectNulls"];function i5(){return i5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i5.apply(this,arguments)}function s5(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a5(e){return function(e){if(Array.isArray(e))return o5(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o5(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l5=function(e){return e&&e.x===+e.x&&e.y===+e.y},c5=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){l5(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),l5(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(a5(e),a5(t))}),[])]);var r=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},u5=function(e){var t=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,a=s5(e,r5);if(!t||!t.length)return null;var o=ZB("recharts-polygon",n);if(i&&i.length){var l=a.stroke&&"none"!==a.stroke,c=function(e,t,n){var r=c5(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(c5(t.reverse(),n).slice(1))}(t,i,s);return r.createElement("g",{className:o},r.createElement("path",i5({},KU(a,!0),{fill:"Z"===c.slice(-1)?a.fill:"none",stroke:"none",d:c})),l?r.createElement("path",i5({},KU(a,!0),{fill:"none",d:c5(t,s)})):null,l?r.createElement("path",i5({},KU(a,!0),{fill:"none",d:c5(i,s)})):null)}var u=c5(t,s);return r.createElement("path",i5({},KU(a,!0),{fill:"Z"===u.slice(-1)?a.fill:"none",className:o,d:u}))};function d5(e){return d5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d5(e)}function h5(){return h5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h5.apply(this,arguments)}function f5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f5(Object(n),!0).forEach((function(t){x5(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w5(r.key),r)}}function g5(e,t,n){return t=v5(t),function(e,t){if(t&&("object"===d5(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y5()?Reflect.construct(t,n||[],v5(e).constructor):t.apply(e,n))}function y5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y5=function(){return!!e})()}function v5(e){return v5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v5(e)}function b5(e,t){return b5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b5(e,t)}function x5(e,t,n){return(t=w5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w5(e){var t=function(e,t){if("object"!=d5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d5(t)?t:t+""}var _5=Math.PI/180,j5=1e-5,S5=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g5(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b5(e,t)}(t,e),n=t,i=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,s=t.orientation,a=t.tickSize||8,o=sJ(n,r,i,e.coordinate),l=sJ(n,r,i+("inner"===s?-1:1)*a,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*_5);return n>j5?"outer"===t?"start":"end":n<-j5?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,i=e.radius,s=e.axisLine,a=e.axisLineType,o=p5(p5({},KU(this.props,!1)),{},{fill:"none"},KU(s,!1));if("circle"===a)return r.createElement(j$,h5({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:n,r:i}));var l=this.props.ticks.map((function(e){return sJ(t,n,i,e.coordinate)}));return r.createElement(u5,h5({className:"recharts-polar-angle-axis-line"},o,{points:l}))}},{key:"renderTicks",value:function(){var e=this,n=this.props,i=n.ticks,s=n.tick,a=n.tickLine,o=n.tickFormatter,l=n.stroke,c=KU(this.props,!1),u=KU(s,!1),d=p5(p5({},c),{},{fill:"none"},KU(a,!1)),h=i.map((function(n,i){var h=e.getTickLineCoord(n),f=p5(p5(p5({textAnchor:e.getTickTextAnchor(n)},c),{},{stroke:"none",fill:l},u),{},{index:i,payload:n,x:h.x2,y:h.y2});return r.createElement(bV,h5({className:ZB("recharts-polar-angle-axis-tick",uJ(s)),key:"tick-".concat(n.coordinate)},MU(e.props,n,i)),a&&r.createElement("line",h5({className:"recharts-polar-angle-axis-tick-line"},d,h)),s&&t.renderTickItem(s,f,o?o(n.value,i):n.value))}));return r.createElement(bV,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,i=e.axisLine;return n<=0||!t||!t.length?null:r.createElement(bV,{className:ZB("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],s=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):jU()(e)?e(t):r.createElement(iW,h5({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],i&&m5(n.prototype,i),s&&m5(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.PureComponent);x5(S5,"displayName","PolarAngleAxis"),x5(S5,"axisType","angleAxis"),x5(S5,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var E5=n(2794),N5=n.n(E5),k5=n(9364),C5=n.n(k5),T5=["cx","cy","angle","ticks","axisLine"],I5=["ticks","tick","angle","tickFormatter","stroke"];function A5(e){return A5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A5(e)}function O5(){return O5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O5.apply(this,arguments)}function P5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P5(Object(n),!0).forEach((function(t){V5(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D5(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function R5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z5(r.key),r)}}function L5(e,t,n){return t=B5(t),function(e,t){if(t&&("object"===A5(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,F5()?Reflect.construct(t,n||[],B5(e).constructor):t.apply(e,n))}function F5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(F5=function(){return!!e})()}function B5(e){return B5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B5(e)}function U5(e,t){return U5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U5(e,t)}function V5(e,t,n){return(t=z5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z5(e){var t=function(e,t){if("object"!=A5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A5(t)?t:t+""}var $5=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L5(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U5(e,t)}(t,e),n=t,i=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,s=n.cy;return sJ(i,s,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,s=N5()(i,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:C5()(i,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:s.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,i=e.angle,s=e.ticks,a=e.axisLine,o=D5(e,T5),l=s.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=sJ(t,n,l[0],i),u=sJ(t,n,l[1],i),d=M5(M5(M5({},KU(o,!1)),{},{fill:"none"},KU(a,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return r.createElement("line",O5({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,n=this.props,i=n.ticks,s=n.tick,a=n.angle,o=n.tickFormatter,l=n.stroke,c=D5(n,I5),u=this.getTickTextAnchor(),d=KU(c,!1),h=KU(s,!1),f=i.map((function(n,i){var c=e.getTickValueCoord(n),f=M5(M5(M5(M5({textAnchor:u,transform:"rotate(".concat(90-a,", ").concat(c.x,", ").concat(c.y,")")},d),{},{stroke:"none",fill:l},h),{},{index:i},c),{},{payload:n});return r.createElement(bV,O5({className:ZB("recharts-polar-radius-axis-tick",uJ(s)),key:"tick-".concat(n.coordinate)},MU(e.props,n,i)),t.renderTickItem(s,f,o?o(n.value,i):n.value))}));return r.createElement(bV,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,i=e.tick;return t&&t.length?r.createElement(bV,{className:ZB("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),i&&this.renderTicks(),wJ.renderCallByParent(this.props,this.getViewBox())):null}}],s=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):jU()(e)?e(t):r.createElement(iW,O5({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],i&&R5(n.prototype,i),s&&R5(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.PureComponent);V5($5,"displayName","PolarRadiusAxis"),V5($5,"axisType","radiusAxis"),V5($5,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var H5=n(4065),q5=n.n(H5);function W5(e){return W5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W5(e)}var Y5=["valueAccessor"],K5=["data","dataKey","clockWise","id","textBreakAll"];function G5(e){return function(e){if(Array.isArray(e))return X5(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return X5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X5(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q5(){return Q5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q5.apply(this,arguments)}function Z5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z5(Object(n),!0).forEach((function(t){e3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function e3(e,t,n){return t=function(e){var t=function(e,t){if("object"!=W5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=W5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==W5(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t3(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var n3=function(e){return Array.isArray(e.value)?q5()(e.value):e.value};function r3(e){var t=e.valueAccessor,n=void 0===t?n3:t,i=t3(e,Y5),s=i.data,a=i.dataKey,o=i.clockWise,l=i.id,c=i.textBreakAll,u=t3(i,K5);return s&&s.length?r.createElement(bV,{className:"recharts-label-list"},s.map((function(e,t){var i=wU()(a)?n(e,t):pZ(e&&e.payload,a),s=wU()(l)?{}:{id:"".concat(l,"-").concat(t)};return r.createElement(wJ,Q5({},KU(e,!0),u,s,{parentViewBox:e.parentViewBox,value:i,textBreakAll:c,viewBox:wJ.parseViewBox(wU()(o)?e:J5(J5({},e),{},{clockWise:o})),key:"label-".concat(t),index:t}))}))):null}r3.displayName="LabelList",r3.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=$U(e.children,r3).map((function(e,n){return(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));if(!n)return i;var s=function(e,t){return e?!0===e?r.createElement(r3,{key:"labelList-implicit",data:t}):r.isValidElement(e)||jU()(e)?r.createElement(r3,{key:"labelList-implicit",data:t,content:e}):EU()(e)?r.createElement(r3,Q5({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[s].concat(G5(i))};var i3,s3=function(e){return null};function a3(e){return a3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a3(e)}function o3(){return o3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o3.apply(this,arguments)}function l3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l3(Object(n),!0).forEach((function(t){m3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g3(r.key),r)}}function d3(e,t,n){return t=f3(t),function(e,t){if(t&&("object"===a3(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h3()?Reflect.construct(t,n||[],f3(e).constructor):t.apply(e,n))}function h3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h3=function(){return!!e})()}function f3(e){return f3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f3(e)}function p3(e,t){return p3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p3(e,t)}function m3(e,t,n){return(t=g3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g3(e){var t=function(e,t){if("object"!=a3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a3(t)?t:t+""}s3.displayName="Cell";var y3=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m3(n=d3(this,t,[e]),"pieRef",null),m3(n,"sectorRefs",[]),m3(n,"id",pU("recharts-pie-")),m3(n,"handleAnimationEnd",(function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),jU()(e)&&e()})),m3(n,"handleAnimationStart",(function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),jU()(e)&&e()})),n.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p3(e,t)}(t,e),n=t,i=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.label,s=n.labelLine,a=n.dataKey,o=n.valueKey,l=KU(this.props,!1),c=KU(i,!1),u=KU(s,!1),d=i&&i.offsetRadius||20,h=e.map((function(e,n){var h=(e.startAngle+e.endAngle)/2,f=sJ(e.cx,e.cy,e.outerRadius+d,h),p=c3(c3(c3(c3({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:t.getTextAnchor(f.x,e.cx)},f),m=c3(c3(c3(c3({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[sJ(e.cx,e.cy,e.outerRadius,h),f]}),g=a;return wU()(a)&&wU()(o)?g="value":wU()(a)&&(g=o),r.createElement(bV,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},s&&t.renderLabelLineItem(s,m,"line"),t.renderLabelItem(i,p,pZ(e,g)))}));return r.createElement(bV,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,i=n.activeShape,s=n.blendStroke,a=n.inactiveShape;return e.map((function(n,o){if(0===(null===n||void 0===n?void 0:n.startAngle)&&0===(null===n||void 0===n?void 0:n.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(o),c=a&&t.hasActiveIndex()?a:null,u=l?i:c,d=c3(c3({},n),{},{stroke:s?n.fill:n.stroke,tabIndex:-1});return r.createElement(bV,o3({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},MU(t.props,n,o),{key:"sector-".concat(null===n||void 0===n?void 0:n.startAngle,"-").concat(null===n||void 0===n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(o)}),r.createElement(_1,o3({option:u,isActive:l,shapeType:"sector"},d)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,i=t.isAnimationActive,s=t.animationBegin,a=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state,u=c.prevSectors,d=c.prevIsAnimationActive;return r.createElement(ZH,{begin:s,duration:a,isActive:i,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var i=t.t,s=[],a=(n&&n[0]).startAngle;return n.forEach((function(e,t){var n=u&&u[t],r=t>0?aU()(e,"paddingAngle",0):0;if(n){var o=yU(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=c3(c3({},e),{},{startAngle:a+r,endAngle:a+o(i)+r});s.push(l),a=l.endAngle}else{var c=e.endAngle,d=e.startAngle,h=yU(0,c-d)(i),f=c3(c3({},e),{},{startAngle:a+r,endAngle:a+h+r});s.push(f),a=f.endAngle}})),r.createElement(bV,null,e.renderSectorsStatically(s))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&fQ()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,i=t.sectors,s=t.className,a=t.label,o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,h=this.state.isAnimationFinished;if(n||!i||!i.length||!dU(o)||!dU(l)||!dU(c)||!dU(u))return null;var f=ZB("recharts-pie",s);return r.createElement(bV,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),a&&this.renderLabels(i),wJ.renderCallByParent(this.props,null,!1),(!d||h)&&r3.renderCallByParent(this.props,i,!1))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);if(jU()(e))return e(t);var i=ZB("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return r.createElement(c2,o3({},t,{key:n,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);var i=n;if(jU()(e)&&(i=e(t),r.isValidElement(i)))return i;var s=ZB("recharts-pie-label-text","boolean"===typeof e||jU()(e)?"":e.className);return r.createElement(iW,o3({},t,{alignmentBaseline:"middle",className:s}),i)}}],i&&u3(n.prototype,i),s&&u3(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,s}(r.PureComponent);i3=y3,m3(y3,"displayName","Pie"),m3(y3,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!WV.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),m3(y3,"parseDeltaAngle",(function(e,t){return cU(t-e)*Math.min(Math.abs(t-e),360)})),m3(y3,"getRealPieData",(function(e){var t=e.data,n=e.children,r=KU(e,!1),i=$U(n,s3);return t&&t.length?t.map((function(e,t){return c3(c3(c3({payload:e},r),e),i&&i[t]&&i[t].props)})):i&&i.length?i.map((function(e){return c3(c3({},r),e.props)})):[]})),m3(y3,"parseCoordinateOfPie",(function(e,t){var n=t.top,r=t.left,i=t.width,s=t.height,a=aJ(i,s);return{cx:r+mU(e.cx,i,i/2),cy:n+mU(e.cy,s,s/2),innerRadius:mU(e.innerRadius,a,0),outerRadius:mU(e.outerRadius,a,.8*a),maxRadius:e.maxRadius||Math.sqrt(i*i+s*s)/2}})),m3(y3,"getComposedData",(function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?c3(c3({},t.type.defaultProps),t.props):t.props,i=i3.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,h=r.tooltipType,f=Math.abs(r.minAngle),p=i3.parseCoordinateOfPie(r,n),m=i3.parseDeltaAngle(a,o),g=Math.abs(m),y=c;wU()(c)&&wU()(d)?(bU(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):wU()(c)&&(bU(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=d);var v,b,x=i.filter((function(e){return 0!==pZ(e,y,0)})).length,w=g-x*f-(g>=360?x:x-1)*l,_=i.reduce((function(e,t){var n=pZ(t,y,0);return e+(dU(n)?n:0)}),0);_>0&&(v=i.map((function(e,t){var n,r=pZ(e,y,0),i=pZ(e,u,t),o=(dU(r)?r:0)/_,c=(n=t?b.endAngle+cU(m)*l*(0!==r?1:0):a)+cU(m)*((0!==r?f:0)+o*w),d=(n+c)/2,g=(p.innerRadius+p.outerRadius)/2,v=[{name:i,value:r,payload:e,dataKey:y,type:h}],x=sJ(p.cx,p.cy,g,d);return b=c3(c3(c3({percent:o,cornerRadius:s,name:i,tooltipPayload:v,midAngle:d,middleRadius:g,tooltipPosition:x},e),p),{},{value:pZ(e,y),startAngle:n,endAngle:c,payload:e,paddingAngle:cU(m)*l})})));return c3(c3({},p),{},{sectors:v,data:i})}));var v3=function(e){var t=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=void 0===i?"axis":i,a=e.validateTooltipEventTypes,o=void 0===a?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,s=t.updateId,a=t.dataStartIndex,o=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=e5(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=BU(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),v=[];return n.forEach((function(n,p){var b=Y2(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:o}),x=void 0!==n.type.defaultProps?U2(U2({},n.type.defaultProps),n.props):n.props,w=x.dataKey,_=x.maxBarSize,j=x["".concat(m,"Id")],S=x["".concat(g,"Id")],E=l.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=x["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||dV(!1);var s=r[i];return U2(U2({},e),{},V2(V2({},n.axisType,s),"".concat(n.axisType,"Ticks"),xZ(s)))}),{}),N=E[g],k=E["".concat(g,"Ticks")],C=r&&r[j]&&r[j].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?hZ(hZ({},e.type.defaultProps),e.props):e.props).stackId;if(hU(r)){var i=t[r];if(i){var s=i.items.indexOf(e);return s>=0?i.stackedData[s]:null}}return null}(n,r[j].stackGroups),T=BU(n.type).indexOf("Bar")>=0,I=IZ(N,k),A=[],O=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var s={},a=Object.keys(i),o=0,l=a.length;o<l;o++)for(var c=i[a[o]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter((function(e){return BU(e.type).indexOf("Bar")>=0}));if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?hZ(hZ({},y),g[0].props):g[0].props,b=v.barSize,x=v[m];s[x]||(s[x]=[]);var w=wU()(b)?t:b;s[x].push({item:g[0],stackList:g.slice(1),barSize:wU()(w)?void 0:mU(w,n,0)})}}return s}({barSize:c,stackGroups:r,totalSize:n5(E,g)});if(T){var P,M,D=wU()(_)?f:_,R=null!==(P=null!==(M=IZ(N,k,!0))&&void 0!==M?M:D)&&void 0!==P?P:0;A=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,s=void 0===i?[]:i,a=e.maxBarSize,o=s.length;if(o<1)return null;var l,c=mU(t,r,0,!0),u=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=r/o,f=s.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(o-1)*c)>=r&&(f-=(o-1)*c,c=0),f>=r&&h>0&&(d=!0,f=o*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=s.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(cZ(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),u)}else{var m=mU(n,r,0,!0);r-2*m-(o-1)*c<=0&&(c=0);var g=(r-2*m-(o-1)*c)/o;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;l=s.reduce((function(e,t,n){var r=[].concat(cZ(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==I?R:I,sizeList:O[S],maxBarSize:D}),R!==I&&(A=A.map((function(e){return U2(U2({},e),{},{position:U2(U2({},e.position),{},{offset:e.position.offset-R/2})})})))}var L=n&&n.type&&n.type.getComposedData;L&&v.push({props:U2(U2({},L(U2(U2({},E),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:I,barPosition:A,offset:i,stackedData:C,layout:u,dataStartIndex:a,dataEndIndex:o}))),{},V2(V2(V2({key:n.key||"item-".concat(p)},m,E[m]),g,E[g]),"animationId",s)),childIndex:ZU(n,e.children),item:n})})),v},f=function(e,r){var i=e.props,s=e.dataStartIndex,a=e.dataEndIndex,o=e.updateId;if(!qU({props:i}))return null;var c=i.children,d=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,g=e5(d),y=g.numericAxisName,v=g.cateAxisName,b=$U(c,n),x=function(e,t,n,r,i,s){if(!e)return null;var a=(s?t.reverse():t).reduce((function(e,t){var i,s=null!==(i=t.type)&&void 0!==i&&i.defaultProps?hZ(hZ({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(s.hide)return e;var o=s[n],l=e[o]||{hasStack:!1,stackGroups:{}};if(hU(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[pU("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return hZ(hZ({},e),{},fZ({},o,l))}),{});return Object.keys(a).reduce((function(t,s){var o=a[s];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce((function(t,s){var a=o.stackGroups[s];return hZ(hZ({},t),{},fZ({},s,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:EZ(e,a.items,i)}))}),{})),hZ(hZ({},t),{},fZ({},s,o))}),{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),f,m),w=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return U2(U2({},e),{},V2({},n,Z2(i,U2(U2({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&x,dataStartIndex:s,dataEndIndex:a}))))}),{}),_=t5(U2(U2({},w),{},{props:i,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(w).forEach((function(e){w[e]=u(i,w[e],_,e.replace("Map",""),t)}));var j=function(e){var t=gU(e),n=xZ(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:cV()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:IZ(t,n)}}(w["".concat(v,"Map")]),S=h(i,U2(U2({},w),{},{dataStartIndex:s,dataEndIndex:a,updateId:o,graphicalItems:b,stackGroups:x,offset:_}));return U2(U2({formattedGraphicalItems:S,graphicalItems:b,offset:_,stackGroups:x},j),w)},p=function(e){function n(e){var i,s,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),V2(a=O2(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),V2(a,"accessibilityManager",new H0),V2(a,"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(U2({legendBBox:e},f({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},U2(U2({},a.state),{},{legendBBox:e}))))}})),V2(a,"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),V2(a,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return U2({dataStartIndex:t,dataEndIndex:n},f({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),V2(a,"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=U2(U2({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;jU()(r)&&r(n,e)}})),V2(a,"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?U2(U2({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;jU()(r)&&r(n,e)})),V2(a,"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),V2(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),V2(a,"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),V2(a,"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;jU()(n)&&n(t,e)})),V2(a,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&FU[t]?FU[t]:null}(e),r=aU()(a.props,"".concat(n));n&&jU()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),V2(a,"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=U2(U2({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;jU()(r)&&r(n,e)}})),V2(a,"handleMouseDown",(function(e){var t=a.props.onMouseDown;jU()(t)&&t(a.getMouseInfo(e),e)})),V2(a,"handleMouseUp",(function(e){var t=a.props.onMouseUp;jU()(t)&&t(a.getMouseInfo(e),e)})),V2(a,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),V2(a,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),V2(a,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),V2(a,"handleDoubleClick",(function(e){var t=a.props.onDoubleClick;jU()(t)&&t(a.getMouseInfo(e),e)})),V2(a,"handleContextMenu",(function(e){var t=a.props.onContextMenu;jU()(t)&&t(a.getMouseInfo(e),e)})),V2(a,"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&F0.emit(B0,a.props.syncId,e,a.eventEmitterSymbol)})),V2(a,"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,s=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(U2({dataStartIndex:s,dataEndIndex:o},f({props:a.props,dataStartIndex:s,dataEndIndex:o,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=U2(U2({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,x=G2(a.state,a.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:q2;a.setState(U2(U2({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else a.setState(e)})),V2(a,"renderCursor",(function(e){var n,i=a.state,s=i.isTooltipActive,o=i.activeCoordinate,l=i.activePayload,c=i.offset,u=i.activeTooltipIndex,d=i.tooltipAxisBandSize,h=a.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:s,p=a.props.layout,m=e.key||"_recharts-cursor";return r.createElement(S2,{key:m,activeCoordinate:o,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})})),V2(a,"renderPolarAxis",(function(e,t,n){var i=aU()(e,"type.axisType"),s=aU()(a.state,"".concat(i,"Map")),o=e.type.defaultProps,l=void 0!==o?U2(U2({},o),e.props):e.props,c=s&&s[l["".concat(i,"Id")]];return(0,r.cloneElement)(e,U2(U2({},c),{},{className:ZB(i,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:xZ(c,!0)}))})),V2(a,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,i=t.polarAngles,s=t.polarRadius,o=a.state,l=o.radiusAxisMap,c=o.angleAxisMap,u=gU(l),d=gU(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,r.cloneElement)(e,{polarAngles:Array.isArray(i)?i:xZ(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(s)?s:xZ(u,!0).map((function(e){return e.coordinate})),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),V2(a,"renderLegend",(function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,i=t.width,s=t.height,o=a.props.margin||{},l=i-(o.left||0)-(o.right||0),u=oZ({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=I2(u,E2);return(0,r.cloneElement)(d,U2(U2({},h),{},{chartWidth:i,chartHeight:s,margin:o,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),V2(a,"renderTooltip",(function(){var e,t=a.props,n=t.children,i=t.accessibilityLayer,s=HU(n,oz);if(!s)return null;var o=a.state,l=o.isTooltipActive,c=o.activeCoordinate,u=o.activePayload,d=o.activeLabel,h=o.offset,f=null!==(e=s.props.active)&&void 0!==e?e:l;return(0,r.cloneElement)(s,{viewBox:U2(U2({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:i})})),V2(a,"renderBrush",(function(e){var t=a.props,n=t.margin,i=t.data,s=a.state,o=s.offset,l=s.dataStartIndex,c=s.dataEndIndex,u=s.updateId;return(0,r.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:_Z(a.handleBrushChange,e.props.onChange),data:i,x:dU(e.props.x)?e.props.x:o.left,y:dU(e.props.y)?e.props.y:o.top+o.height+o.brushBottom-(n.bottom||0),width:dU(e.props.width)?e.props.width:o.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),V2(a,"renderReferenceElement",(function(e,t,n){if(!e)return null;var i=a.clipPathId,s=a.state,o=s.xAxisMap,l=s.yAxisMap,c=s.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,r.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:o[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})})),V2(a,"renderActivePoints",(function(e){var t=e.item,r=e.activePoint,i=e.basePoint,s=e.childIndex,a=e.isRange,o=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?U2(U2({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=U2(U2({index:s,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:gZ(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},KU(u,!1)),PU(u));return o.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(s))),i?o.push(n.renderActiveDot(u,U2(U2({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(s))):a&&o.push(null),o})),V2(a,"renderGraphicChild",(function(e,t,n){var i=a.filterFormatItem(e,t,n);if(!i)return null;var s=a.getTooltipEventType(),o=a.state,l=o.isTooltipActive,c=o.tooltipAxis,u=o.activeTooltipIndex,d=o.activeLabel,h=HU(a.props.children,oz),f=i.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==i.item.type.defaultProps?U2(U2({},i.item.type.defaultProps),i.item.props):i.item.props,v=y.activeDot,b=y.hide,x=y.activeBar,w=y.activeShape,_=Boolean(!b&&l&&h&&(v||x||w)),j={};"axis"!==s&&h&&"click"===h.props.trigger?j={onClick:_Z(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==s&&(j={onMouseLeave:_Z(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:_Z(a.handleItemMouseEnter,e.props.onMouseEnter)});var S=(0,r.cloneElement)(e,U2(U2({},i.props),j));if(_){if(!(u>=0)){var E,N=(null!==(E=a.getItemByXY(a.state.activeCoordinate))&&void 0!==E?E:{graphicalItem:S}).graphicalItem,k=N.item,C=void 0===k?e:k,T=N.childIndex,I=U2(U2(U2({},i.props),j),{},{activeIndex:T});return[(0,r.cloneElement)(C,I),null,null]}var A,O;if(c.dataKey&&!c.allowDuplicatedCategory){var P="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());A=vU(p,P,d),O=m&&g&&vU(g,P,d)}else A=null===p||void 0===p?void 0:p[u],O=m&&g&&g[u];if(w||x){var M=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,r.cloneElement)(e,U2(U2(U2({},i.props),j),{},{activeIndex:M})),null,null]}if(!wU()(A))return[S].concat(R2(a.renderActivePoints({item:i,activePoint:A,basePoint:O,childIndex:u,isRange:m})))}return m?[S,null,null]:[S,null]})),V2(a,"renderCustomized",(function(e,t,n){return(0,r.cloneElement)(e,U2(U2({key:"recharts-customized-".concat(n)},a.props),a.state))})),V2(a,"renderMap",{CartesianGrid:{handler:W2,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:W2},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:W2},YAxis:{handler:W2},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(i=e.id)&&void 0!==i?i:pU("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=eU()(a.triggeredAfterMouseMove,null!==(s=e.throttleDelay)&&void 0!==s?s:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D2(e,t)}(n,e),i=n,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,s=HU(t,oz);if(s){var a=s.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=G2(this.state,n,a,o),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=U2(U2({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(s),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){GU([HU(e.children,oz)],[HU(this.props.children,oz)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=HU(this.props.children,oz);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return o.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,o=this.inRange(s.chartX,s.chartY,a);if(!o)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&u){var d=gU(c).scale,h=gU(u).scale,f=d&&d.invert?d.invert(s.chartX):null,p=h&&h.invert?h.invert(s.chartY):null;return U2(U2({},s),{},{xValue:f,yValue:p})}var m=X2(this.state,this.props.data,this.props.layout,o);return m?U2(U2({},s),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,s=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&s>=a.top&&s<=a.top+a.height?{x:i,y:s}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var u=gU(l);return cJ({x:i,y:s},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=HU(e,oz),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),U2(U2({},PU(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){F0.on(B0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){F0.removeListener(B0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,s=r.length;i<s;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===BU(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,i=t.top,s=t.height,a=t.width;return r.createElement("defs",null,r.createElement("clipPath",{id:e},r.createElement("rect",{x:n,y:i,height:s,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=T2(t,2),r=n[0],i=n[1];return U2(U2({},e),{},V2({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=T2(t,2),r=n[0],i=n[1];return U2(U2({},e),{},V2({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,s=n.length;i<s;i++){var a=n[i],o=a.props,l=a.item,c=void 0!==l.type.defaultProps?U2(U2({},l.type.defaultProps),l.props):l.props,u=BU(l.type);if("Bar"===u){var d=(o.data||[]).find((function(t){return oq(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var h=(o.data||[]).find((function(t){return cJ(e,t)}));if(h)return{graphicalItem:a,payload:h}}else if(j1(a,r)||S1(a,r)||E1(a,r)){var f=T1({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:U2(U2({},a),{},{childIndex:p}),payload:E1(a,r)?c.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!qU(this))return null;var t,n,i=this.props,s=i.children,a=i.className,o=i.width,l=i.height,c=i.style,u=i.compact,d=i.title,h=i.desc,f=I2(i,N2),p=KU(f,!1);if(u)return r.createElement(a0,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement(mV,C2({},p,{width:o,height:l,title:d,desc:h}),this.renderClipPath(),QU(s,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return r.createElement(a0,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",C2({className:ZB("recharts-wrapper",a),style:U2({position:"relative",cursor:"default",width:o,height:l},c)},m,{ref:function(t){e.container=t}}),r.createElement(mV,C2({},p,{width:o,height:l,title:d,desc:h,style:H2}),this.renderClipPath(),QU(s,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&A2(i.prototype,a),l&&A2(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a,l}(r.Component);V2(p,"displayName",t),V2(p,"defaultProps",U2({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),V2(p,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,s=e.width,a=e.height,o=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=J2(e);return U2(U2(U2({},h),{},{updateId:0},f(U2(U2({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:a,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||s!==t.prevWidth||a!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!kU(c,t.prevMargin)){var p=J2(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=U2(U2({},X2(t,r,o)),{},{updateId:t.updateId+1}),y=U2(U2(U2({},p),m),g);return U2(U2(U2({},y),f(U2({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:a,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!GU(i,t.prevChildren)){var v,b,x,w,_=HU(i,XZ),j=_&&null!==(v=null===(b=_.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,S=_&&null!==(x=null===(w=_.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,E=j!==u||S!==d,N=!wU()(r)&&!E?t.updateId:t.updateId+1;return U2(U2({updateId:N},f(U2(U2({props:e},t),{},{updateId:N,dataStartIndex:j,dataEndIndex:S}),t)),{},{prevChildren:i,dataStartIndex:j,dataEndIndex:S})}return null})),V2(p,"renderActiveDot",(function(e,t,n){var i;return i=(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):jU()(e)?e(t):r.createElement(j$,t),r.createElement(bV,{className:"recharts-active-dot",key:n},i)}));var m=(0,r.forwardRef)((function(e,t){return r.createElement(p,C2({},e,{ref:t}))}));return m.displayName=p.displayName,m}({chartName:"PieChart",GraphicalChild:y3,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:S5},{axisType:"radiusAxis",AxisComp:$5}],formatAxisMap:function(t,n,r,i,s){var a=t.width,o=t.height,l=t.startAngle,c=t.endAngle,u=mU(t.cx,a,a/2),d=mU(t.cy,o,o/2),h=aJ(a,o,r),f=mU(t.innerRadius,h,0),p=mU(t.outerRadius,h,.8*h);return Object.keys(n).reduce((function(t,r){var a,o=n[r],h=o.domain,m=o.reversed;if(wU()(o.range))"angleAxis"===i?a=[l,c]:"radiusAxis"===i&&(a=[f,p]),m&&(a=[a[1],a[0]]);else{var g=tJ(a=o.range,2);l=g[0],c=g[1]}var y=function(t,n,r){var i=t.scale,s=t.type,a=t.layout,o=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===o?{scale:bq(),realScaleType:"band"}:"radial"===a&&"angleAxis"===o?{scale:$Y(),realScaleType:"linear"}:"category"===s&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:wq(),realScaleType:"point"}:"category"===s?{scale:bq(),realScaleType:"band"}:{scale:$Y(),realScaleType:"linear"};if(nU()(i)){var l="scale".concat(cz()(i));return{scale:(e[l]||wq)(),realScaleType:e[l]?l:"point"}}return jU()(i)?{scale:i}:{scale:wq(),realScaleType:"point"}}(o,s),v=y.realScaleType,b=y.scale;b.domain(h).range(a),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-jZ,s=Math.max(r[0],r[1])+jZ,a=e(t[0]),o=e(t[n-1]);(a<i||a>s||o<i||o>s)&&e.domain([t[0],t[n-1]])}}(b);var x=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,s=t.originalDomain,a=t.allowDecimals,o=n||t.scale;if("auto"!==o&&"linear"!==o)return null;if(i&&"number"===r&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=VQ(l,i,a);return e.domain([cQ()(c),oQ()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:zQ(u,i,a)}}return null}(b,JZ(JZ({},o),{},{realScaleType:v})),w=JZ(JZ(JZ({},o),x),{},{range:a,radius:p,realScaleType:v,scale:b,cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:l,endAngle:c});return JZ(JZ({},t),{},eJ({},r,w))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function b3(e,t){const n=PO(e,t?.in);return n.setHours(0,0,0,0),n}function x3(e,t,n){const[r,i]=DO(n?.in,e,t),s=b3(r),a=b3(i),o=+s-MO(s),l=+a-MO(a);return Math.round((o-l)/864e5)}function w3(e,t){const n=PO(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _3(e,t){const n=PO(e,t?.in);return x3(n,w3(n))+1}function j3(e,t){const n=OO(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=PO(e,t?.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function S3(e,t){return j3(e,{...t,weekStartsOn:1})}function E3(e,t){const n=PO(e,t?.in),r=n.getFullYear(),i=bO(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=S3(i),a=bO(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=S3(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function N3(e,t){const n=E3(e,t),r=bO(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),S3(r)}function k3(e,t){const n=PO(e,t?.in),r=+S3(n)-+N3(n);return Math.round(r/pO)+1}function C3(e,t){const n=PO(e,t?.in),r=n.getFullYear(),i=OO(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=bO(t?.in||e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=j3(a,t),l=bO(t?.in||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=j3(l,t);return+n>=+o?r+1:+n>=+c?r:r-1}function T3(e,t){const n=OO(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=C3(e,t),s=bO(t?.in||e,0);s.setFullYear(i,0,r),s.setHours(0,0,0,0);return j3(s,t)}function I3(e,t){const n=PO(e,t?.in),r=+j3(n,t)-+T3(n,t);return Math.round(r/pO)+1}function A3(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const O3={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return A3("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):A3(n+1,2)},d:(e,t)=>A3(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>A3(e.getHours()%12||12,t.length),H:(e,t)=>A3(e.getHours(),t.length),m:(e,t)=>A3(e.getMinutes(),t.length),s:(e,t)=>A3(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return A3(Math.trunc(r*Math.pow(10,n-3)),t.length)}},P3="midnight",M3="noon",D3="morning",R3="afternoon",L3="evening",F3="night",B3={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return O3.y(e,t)},Y:function(e,t,n,r){const i=C3(e,r),s=i>0?i:1-i;if("YY"===t){return A3(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):A3(s,t.length)},R:function(e,t){return A3(E3(e),t.length)},u:function(e,t){return A3(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return A3(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return A3(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return O3.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return A3(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=I3(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):A3(i,t.length)},I:function(e,t,n){const r=k3(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):A3(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):O3.d(e,t)},D:function(e,t,n){const r=_3(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):A3(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return A3(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return A3(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return A3(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?M3:0===r?P3:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?L3:r>=12?R3:r>=4?D3:F3,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return O3.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):O3.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):A3(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):A3(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):O3.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):O3.s(e,t)},S:function(e,t){return O3.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return V3(r);case"XXXX":case"XX":return z3(r);default:return z3(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return V3(r);case"xxxx":case"xx":return z3(r);default:return z3(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+U3(r,":");default:return"GMT"+z3(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+U3(r,":");default:return"GMT"+z3(r,":")}},t:function(e,t,n){return A3(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return A3(+e,t.length)}};function U3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+t+A3(s,2)}function V3(e,t){if(e%60===0){return(e>0?"-":"+")+A3(Math.abs(e)/60,2)}return z3(e,t)}function z3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+A3(Math.trunc(r/60),2)+t+A3(r%60,2)}const $3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},H3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},q3={p:H3,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return $3(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",$3(r,t)).replace("{{time}}",H3(i,t))}},W3=/^D+$/,Y3=/^Y+$/,K3=["D","DD","YY","YYYY"];function G3(e){return W3.test(e)}function X3(e){return Y3.test(e)}function Q3(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),K3.includes(e))throw new RangeError(r)}function Z3(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function J3(e){return!(!Z3(e)&&"number"!==typeof e||isNaN(+PO(e)))}const e4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,t4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,n4=/^'([^]*?)'?$/,r4=/''/g,i4=/[a-zA-Z]/;function s4(e,t,n){const r=OO(),i=n?.locale??r.locale??IO,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=PO(e,n?.in);if(!J3(o))throw new RangeError("Invalid time value");let l=t.match(t4).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,q3[t])(e,i.formatLong)}return e})).join("").match(e4).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:a4(e)};if(B3[t])return{isToken:!0,value:e};if(t.match(i4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map((r=>{if(!r.isToken)return r.value;const s=r.value;(!n?.useAdditionalWeekYearTokens&&X3(s)||!n?.useAdditionalDayOfYearTokens&&G3(s))&&Q3(s,t,String(e));return(0,B3[s[0]])(o,s,i.localize,c)})).join("")}function a4(e){const t=e.match(n4);return t?t[1].replace(r4,"'"):e}function o4(e,t){const n=()=>bO(t?.in,NaN),r=t?.additionalDigits??2,i=function(e){const t={},n=e.split(l4.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],l4.timeZoneDelimiter.test(t.date)&&(t.date=e.split(l4.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=l4.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let s;if(i.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?i:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,r);s=function(e,t){if(null===t)return new Date(NaN);const n=e.match(c4);if(!n)return new Date(NaN);const r=!!n[4],i=h4(n[1]),s=h4(n[2])-1,a=h4(n[3]),o=h4(n[4]),l=h4(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,s=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}(t,o,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(p4[t]||(m4(e)?29:28))}(t,s,a)&&function(e,t){return t>=1&&t<=(m4(e)?366:365)}(t,i)?(e.setUTCFullYear(t,s,Math.max(i,a)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!s||isNaN(+s))return n();const a=+s;let o,l=0;if(i.time&&(l=function(e){const t=e.match(u4);if(!t)return NaN;const n=f4(t[1]),r=f4(t[2]),i=f4(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i))return NaN;return n*gO+r*mO+1e3*i}(i.time),isNaN(l)))return n();if(!i.timezone){const e=new Date(a+l),n=PO(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return o=function(e){if("Z"===e)return 0;const t=e.match(d4);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return n*(r*gO+i*mO)}(i.timezone),isNaN(o)?n():PO(a+l+o,t?.in)}const l4={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,d4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function h4(e){return e?parseInt(e):1}function f4(e){return e&&parseFloat(e.replace(",","."))||0}const p4=[31,null,31,30,31,30,31,31,30,31,30,31];function m4(e){return e%400===0||e%4===0&&e%100!==0}function g4(e,t,n){const[r,i]=DO(n?.in,e,t);return+b3(r)===+b3(i)}function y4(e,t){return g4(bO(t?.in||e,e),xO(t?.in||e))}const v4=()=>{const e=Array.from({length:30},(()=>({x:100*Math.random(),y:100*Math.random(),speedX:.3*(Math.random()-.5),speedY:.3*(Math.random()-.5)})));return(0,o_.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(((e,t)=>(0,o_.jsx)(nT.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:`${e.x}vw`,y:`${e.y}vh`,opacity:.6},animate:{x:`${e.x+50*e.speedX}vw`,y:`${e.y+50*e.speedY}vh`,opacity:[.6,.8,.6]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}},t)))})},b4=()=>{var e;const[t,n]=(0,r.useState)(null),{currentUser:i}=c_(),s=te(),[a,o]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!0),[h,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(null),[g,y]=(0,r.useState)([]);(0,r.useEffect)((()=>{const e=localStorage.getItem("userData");e&&n(JSON.parse(e)),i&&"student"===localStorage.getItem("userRole")||s("/login");(async()=>{if(i)try{d(!0);const e=ag(xm(s_,"students"),lg("uid","==",i.uid)),t=await Ng(e);if(!t.empty){const e=t.docs[0],r={id:e.id,...e.data()};n(r);const i=ag(xm(s_,"attendance"),lg("studentId","==",r.id)),s=await Ng(i);o(s.docs.map((e=>e.data())));const a=ag(xm(s_,"notifications"),lg("studentId","==",r.id),dg("date","desc"),fg(5)),l=await Ng(a);if(c(l.docs.map((e=>e.data()))),r.section){const e=ag(xm(s_,"sections"),lg("code","==",r.section)),t=await Ng(e);if(!t.empty){const e={id:t.docs[0].id,...t.docs[0].data(),schedules:t.docs[0].data().schedules||[]};if(f(e),e.instructorId){const t=await Sg(wm(s_,"teachers",e.instructorId));if(t.exists()){const e={id:t.id,...t.data()};m(e);const n=xm(s_,"subjects"),r=await Ng(n),i=r.docs.map((e=>({id:e.id,...e.data()}))).filter((t=>{var n;return null===(n=e.subjects)||void 0===n?void 0:n.includes(t.name)}));y(i)}}}}}}catch(Zg){console.error("Error fetching student data:",Zg)}finally{d(!1)}})()}),[i,s]);const v=()=>{const e=(()=>{if(!h)return[];const e=a.filter((e=>e.sectionId===h.id)),t=new Date;return e.filter((e=>s4(o4(e.date),"yyyy-MM")===s4(t,"yyyy-MM")))})(),t=e.filter((e=>"present"===e.status)).length,n=e.filter((e=>"late"===e.status)).length,r=e.filter((e=>"absent"===e.status)).length;return[{name:"Present",value:t},{name:"Late",value:n},{name:"Absent",value:r}]},b=["#00b4d8","#22d3ee","#ff6b6b"];if(u)return(0,o_.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 flex items-center justify-center",children:(0,o_.jsx)(nT.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full"})});if(!t)return(0,o_.jsx)("div",{className:"p-8 text-center text-cyan-300 bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 min-h-screen",children:"No student data found."});const x=a.length>0?(a.filter((e=>"present"===e.status)).length/a.length*100).toFixed(1):"0",w=t.enrolledSubjects||[],_=w.length,j=(null===p||void 0===p||null===(e=p.schedules)||void 0===e?void 0:e.filter((e=>w.includes(e.subject||"")&&y4(new Date(e.day)))))||[];return(0,o_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 text-white font-mono relative overflow-hidden",children:[(0,o_.jsx)(v4,{}),(0,o_.jsx)(WB,{student:t}),(0,o_.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-12",children:[(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-8 mb-10 border border-cyan-800 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[(0,o_.jsxs)("div",{className:"flex items-center gap-6",children:[(0,o_.jsx)(nT.div,{whileHover:{scale:1.1},className:"bg-gray-700 p-4 rounded-full border border-cyan-800",children:(0,o_.jsx)(KB,{className:"h-12 w-12 text-cyan-400"})}),(0,o_.jsxs)("div",{children:[(0,o_.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-cyan-100 mb-2",children:["Welcome, ",t.fullName,"!"]}),(0,o_.jsxs)("p",{className:"text-sm md:text-base text-cyan-300",children:[t.department," \u2022 Year ",t.yearLevel," \u2022 ",t.section]})]})]}),(0,o_.jsxs)("div",{className:"bg-gray-700 rounded-xl p-4 text-center border border-cyan-800",children:[(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:"Student ID"}),(0,o_.jsx)("p",{className:"text-xl font-semibold text-cyan-100",children:t.idNumber||"N/A"})]})]})]}),(0,o_.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[{title:"Attendance Rate",value:`${x}%`,icon:(0,o_.jsx)(sO,{className:"h-6 w-6 text-cyan-400"}),color:"bg-gray-700"},{title:"Total Subjects",value:_,icon:(0,o_.jsx)(tO,{className:"h-6 w-6 text-cyan-400"}),color:"bg-gray-700"},{title:"Classes Today",value:j.length,icon:(0,o_.jsx)(cO,{className:"h-6 w-6 text-cyan-400"}),color:"bg-gray-700"},{title:"Pending Notifications",value:l.length,icon:(0,o_.jsx)(XB,{className:"h-6 w-6 text-cyan-400"}),color:"bg-gray-700"}].map(((e,t)=>(0,o_.jsx)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},whileHover:{scale:1.05},className:`${e.color} rounded-xl p-6 shadow-lg border border-cyan-800 hover:shadow-2xl transition-all`,children:(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:e.title}),(0,o_.jsx)("p",{className:"text-2xl font-bold text-cyan-100",children:e.value})]}),(0,o_.jsx)("div",{className:"bg-gray-600 p-3 rounded-lg",children:e.icon})]})},e.title)))}),(0,o_.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,o_.jsxs)("div",{className:"space-y-8 lg:col-span-2",children:[(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-6 border border-cyan-800 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)("h2",{className:"text-2xl font-bold text-cyan-100 mb-6 flex items-center gap-2",children:[(0,o_.jsx)(KB,{className:"h-7 w-7 text-cyan-400"}),"Your Profile"]}),(0,o_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o_.jsxs)("div",{className:"space-y-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:"Full Name"}),(0,o_.jsx)("p",{className:"text-lg font-medium text-cyan-100",children:t.fullName})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:"Email"}),(0,o_.jsx)("p",{className:"text-lg font-medium text-cyan-100",children:t.email})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:"Student ID"}),(0,o_.jsx)("p",{className:"text-lg font-medium text-cyan-100",children:t.idNumber||"N/A"})]})]}),(0,o_.jsxs)("div",{className:"space-y-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:"Department"}),(0,o_.jsx)("p",{className:"text-lg font-medium text-cyan-100",children:t.department})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:"Year Level"}),(0,o_.jsx)("p",{className:"text-lg font-medium text-cyan-100",children:t.yearLevel})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:"Section"}),(0,o_.jsx)("p",{className:"text-lg font-medium text-cyan-100",children:t.section})]})]})]})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-6 border border-cyan-800 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)("h2",{className:"text-2xl font-bold text-cyan-100 mb-6 flex items-center gap-2",children:[(0,o_.jsx)(tO,{className:"h-7 w-7 text-cyan-400"}),"Enrolled Subjects"]}),w.length>0?(0,o_.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(((e,t)=>(0,o_.jsx)(nT.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*t},className:"px-3 py-1 bg-cyan-700 text-cyan-100 rounded-full text-sm",children:e},t)))}):(0,o_.jsx)("p",{className:"text-cyan-300 text-center",children:"No subjects enrolled yet."})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-6 border border-cyan-800 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)("h2",{className:"text-2xl font-bold text-cyan-100 mb-6 flex items-center gap-2",children:[(0,o_.jsx)(cO,{className:"h-7 w-7 text-cyan-400"}),"Your Schedule"]}),w.length>0&&null!==p&&void 0!==p&&p.schedules&&p.schedules.length>0?(0,o_.jsx)("div",{className:"space-y-4",children:p.schedules.filter((e=>w.includes(e.subject||""))).map(((e,t)=>(0,o_.jsx)(nT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:`p-4 rounded-xl border border-cyan-800 ${y4(new Date(e.day))?"bg-gray-700 border-l-4 border-l-cyan-500":"bg-gray-800"} hover:bg-gray-700 transition-colors`,children:(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o_.jsx)("div",{className:"bg-gray-600 p-3 rounded-xl",children:(0,o_.jsx)(oO,{className:"h-6 w-6 text-cyan-400"})}),(0,o_.jsxs)("div",{children:[(0,o_.jsxs)("p",{className:"font-medium text-cyan-100",children:[e.day," \u2022 ",e.subject||"N/A"]}),(0,o_.jsxs)("p",{className:"text-sm text-cyan-300",children:[e.startTime," - ",e.endTime," \u2022 Room: ",e.room||"TBD"]})]})]}),y4(new Date(e.day))&&(0,o_.jsx)("span",{className:"px-3 py-1 bg-cyan-700 text-cyan-100 rounded-full text-sm font-medium",children:"Today"})]})},t)))}):(0,o_.jsx)("p",{className:"text-cyan-300 text-center",children:0===w.length?"Please select subjects to view your schedule.":"No schedule available."})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-6 border border-cyan-800 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsx)("h2",{className:"text-2xl font-bold text-cyan-100 mb-4",children:"Manage Enrollment"}),(0,o_.jsx)("p",{className:"text-cyan-300 mb-4",children:"Choose the subjects you want to enroll in."}),(0,o_.jsx)(Ce,{to:"/student/subject-selection",className:"inline-block px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors",children:"Select Subjects"})]})]})]}),(0,o_.jsxs)("div",{className:"space-y-8",children:[(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-6 border border-cyan-800 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)("h2",{className:"text-2xl font-bold text-cyan-100 mb-6 flex items-center gap-2",children:[(0,o_.jsx)(sO,{className:"h-7 w-7 text-cyan-400"}),"Attendance Overview"]}),(0,o_.jsx)("div",{className:"h-64",children:(0,o_.jsx)(sV,{width:"100%",height:"100%",children:(0,o_.jsxs)(v3,{children:[(0,o_.jsx)(y3,{data:v(),cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:v().map(((e,t)=>(0,o_.jsx)(s3,{fill:b[t%b.length]},`cell-${t}`)))}),(0,o_.jsx)(oz,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #22d3ee",borderRadius:"8px",color:"#e0f7fa"}})]})})}),(0,o_.jsx)("div",{className:"grid grid-cols-3 gap-4 mt-6",children:v().map(((e,t)=>(0,o_.jsxs)("div",{className:"text-center",children:[(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:e.name}),(0,o_.jsx)("p",{className:"text-lg font-bold text-cyan-100",children:e.value})]},e.name)))})]})]}),p&&(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-6 border border-cyan-800 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)("h2",{className:"text-2xl font-bold text-cyan-100 mb-6 flex items-center gap-2",children:[(0,o_.jsx)(aT,{className:"h-7 w-7 text-cyan-400"}),"Your Instructor"]}),(0,o_.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,o_.jsx)("div",{className:"bg-gray-600 p-3 rounded-xl",children:(0,o_.jsx)(aT,{className:"h-6 w-6 text-cyan-400"})}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-lg font-medium text-cyan-100",children:p.fullName}),(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:p.email}),(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:p.department})]})]}),(0,o_.jsxs)("div",{className:"mt-4",children:[(0,o_.jsx)("p",{className:"text-sm font-medium text-cyan-200 mb-2",children:"Assigned Subjects"}),p.subjects&&p.subjects.filter((e=>w.includes(e))).length>0?p.subjects.filter((e=>w.includes(e))).map(((e,t)=>(0,o_.jsx)("span",{className:"inline-block px-3 py-1 bg-cyan-700 text-cyan-100 rounded-full text-sm mr-2 mb-2",children:e},t))):(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:"No matching subjects assigned."})]})]})]})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-6 mt-8 border border-cyan-800 relative overflow-hidden",children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)("h2",{className:"text-2xl font-bold text-cyan-100 mb-6 flex items-center gap-2",children:[(0,o_.jsx)(XB,{className:"h-7 w-7 text-cyan-400"}),"Recent Notifications"]}),l.length>0?(0,o_.jsx)("div",{className:"space-y-4",children:l.map((e=>(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-4 bg-gray-700 rounded-xl border border-cyan-800 hover:bg-gray-600 transition-colors",children:[(0,o_.jsx)("p",{className:"font-medium text-cyan-100",children:e.title}),(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:e.message}),(0,o_.jsx)("p",{className:"text-xs text-cyan-400 mt-1",children:s4(o4(e.date),"MMM d, yyyy")})]},e.id)))}):(0,o_.jsx)("p",{className:"text-cyan-300 text-center",children:"No notifications available."})]})]})]})]})};function x4(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const w4=r.forwardRef(x4);function _4(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const j4=r.forwardRef(_4);function S4(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}const E4=r.forwardRef(S4);function N4(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const k4=r.forwardRef(N4);function C4(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const T4=r.forwardRef(C4);function I4(){return Object.assign({},OO())}function A4(e,t){const n=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):bO(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class O4{subPriority=0;validate(e,t){return!0}}class P4 extends O4{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class M4 extends O4{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>bO(t,e))}set(e,t){return t.timestampIsSet?e:bO(e,A4(e,this.context))}}class D4{run(e,t,n,r){const i=this.parse(e,t,n,r);return i?{setter:new P4(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,n){return!0}}const R4=/^(1[0-2]|0?\d)/,L4=/^(3[0-1]|[0-2]?\d)/,F4=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,B4=/^(5[0-3]|[0-4]?\d)/,U4=/^(2[0-3]|[0-1]?\d)/,V4=/^(2[0-4]|[0-1]?\d)/,z4=/^(1[0-1]|0?\d)/,$4=/^(1[0-2]|0?\d)/,H4=/^[0-5]?\d/,q4=/^[0-5]?\d/,W4=/^\d/,Y4=/^\d{1,2}/,K4=/^\d{1,3}/,G4=/^\d{1,4}/,X4=/^-?\d+/,Q4=/^-?\d/,Z4=/^-?\d{1,2}/,J4=/^-?\d{1,3}/,e7=/^-?\d{1,4}/,t7=/^([+-])(\d{2})(\d{2})?|Z/,n7=/^([+-])(\d{2})(\d{2})|Z/,r7=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,i7=/^([+-])(\d{2}):(\d{2})|Z/,s7=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function a7(e,t){return e?{value:t(e.value),rest:e.rest}:e}function o7(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function l7(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*gO+s*mO+1e3*a),rest:t.slice(n[0].length)}}function c7(e){return o7(X4,e)}function u7(e,t){switch(e){case 1:return o7(W4,t);case 2:return o7(Y4,t);case 3:return o7(K4,t);case 4:return o7(G4,t);default:return o7(new RegExp("^\\d{1,"+e+"}"),t)}}function d7(e,t){switch(e){case 1:return o7(Q4,t);case 2:return o7(Z4,t);case 3:return o7(J4,t);case 4:return o7(e7,t);default:return o7(new RegExp("^-?\\d{1,"+e+"}"),t)}}function h7(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function f7(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const t=r+50;i=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?i:1-i}function p7(e){return e%400===0||e%4===0&&e%100!==0}function m7(e,t,n){const r=PO(e,n?.in),i=I3(r,n)-t;return r.setDate(r.getDate()-7*i),PO(r,n?.in)}function g7(e,t,n){const r=PO(e,n?.in),i=k3(r,n)-t;return r.setDate(r.getDate()-7*i),r}const y7=[31,28,31,30,31,30,31,31,30,31,30,31],v7=[31,29,31,30,31,30,31,31,30,31,30,31];function b7(e,t,n){const r=PO(e,n?.in);return isNaN(t)?bO(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function x7(e,t,n){const r=OO(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=PO(e,n?.in),a=s.getDay(),o=7-i;return b7(s,t<0||t>6?t-(a+o)%7:((t%7+7)%7+o)%7-(a+o)%7,n)}function w7(e,t){const n=PO(e,t?.in).getDay();return 0===n?7:n}function _7(e,t,n){const r=PO(e,n?.in);return b7(r,t-w7(r,n),n)}const j7={G:new class extends D4{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends D4{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return a7(u7(4,e),r);case"yo":return a7(n.ordinalNumber(e,{unit:"year"}),r);default:return a7(u7(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=f7(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}},Y:new class extends D4{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return a7(u7(4,e),r);case"Yo":return a7(n.ordinalNumber(e,{unit:"year"}),r);default:return a7(u7(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const i=C3(e,r);if(n.isTwoDigitYear){const t=f7(n.year,i);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),j3(e,r)}const s="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(s,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),j3(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends D4{priority=130;parse(e,t){return d7("R"===t?4:t.length,e)}set(e,t,n){const r=bO(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),S3(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends D4{priority=130;parse(e,t){return d7("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends D4{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return u7(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends D4{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return u7(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends D4{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return a7(o7(R4,e),r);case"MM":return a7(u7(2,e),r);case"Mo":return a7(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends D4{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return a7(o7(R4,e),r);case"LL":return a7(u7(2,e),r);case"Lo":return a7(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends D4{priority=100;parse(e,t,n){switch(t){case"w":return o7(B4,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return u7(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return j3(m7(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends D4{priority=100;parse(e,t,n){switch(t){case"I":return o7(B4,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return u7(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return S3(g7(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends D4{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return o7(L4,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return u7(t.length,e)}}validate(e,t){const n=p7(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=v7[r]:t>=1&&t<=y7[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends D4{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return o7(F4,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return u7(t.length,e)}}validate(e,t){return p7(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends D4{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=x7(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends D4{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return a7(u7(t.length,e),i);case"eo":return a7(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=x7(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends D4{priority=90;parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return a7(u7(t.length,e),i);case"co":return a7(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=x7(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends D4{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return u7(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return a7(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return a7(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return a7(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return a7(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=_7(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends D4{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(h7(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends D4{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(h7(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends D4{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(h7(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends D4{priority=70;parse(e,t,n){switch(t){case"h":return o7($4,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return u7(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends D4{priority=70;parse(e,t,n){switch(t){case"H":return o7(U4,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return u7(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends D4{priority=70;parse(e,t,n){switch(t){case"K":return o7(z4,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return u7(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends D4{priority=70;parse(e,t,n){switch(t){case"k":return o7(V4,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return u7(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends D4{priority=60;parse(e,t,n){switch(t){case"m":return o7(H4,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return u7(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends D4{priority=50;parse(e,t,n){switch(t){case"s":return o7(q4,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return u7(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends D4{priority=30;parse(e,t){return a7(u7(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends D4{priority=10;parse(e,t){switch(t){case"X":return l7(t7,e);case"XX":return l7(n7,e);case"XXXX":return l7(r7,e);case"XXXXX":return l7(s7,e);default:return l7(i7,e)}}set(e,t,n){return t.timestampIsSet?e:bO(e,e.getTime()-MO(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends D4{priority=10;parse(e,t){switch(t){case"x":return l7(t7,e);case"xx":return l7(n7,e);case"xxxx":return l7(r7,e);case"xxxxx":return l7(s7,e);default:return l7(i7,e)}}set(e,t,n){return t.timestampIsSet?e:bO(e,e.getTime()-MO(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends D4{priority=40;parse(e){return c7(e)}set(e,t,n){return[bO(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends D4{priority=20;parse(e){return c7(e)}set(e,t,n){return[bO(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},S7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,E7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N7=/^'([^]*?)'?$/,k7=/''/g,C7=/\S/,T7=/[a-zA-Z]/;function I7(e,t,n,r){const i=()=>bO(r?.in||n,NaN),s=I4(),a=r?.locale??s.locale??IO,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!t)return e?i():PO(n,r?.in);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:a},u=[new M4(r?.in,n)],d=t.match(E7).map((e=>{const t=e[0];if(t in q3){return(0,q3[t])(e,a.formatLong)}return e})).join("").match(S7),h=[];for(let g of d){!r?.useAdditionalWeekYearTokens&&X3(g)&&Q3(g,t,e),!r?.useAdditionalDayOfYearTokens&&G3(g)&&Q3(g,t,e);const n=g[0],s=j7[n];if(s){const{incompatibleTokens:t}=s;if(Array.isArray(t)){const e=h.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${g}\` at the same time`)}else if("*"===s.incompatibleTokens&&h.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);h.push({token:n,fullToken:g});const r=s.run(e,g,a.match,c);if(!r)return i();u.push(r.setter),e=r.rest}else{if(n.match(T7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===g?g="'":"'"===n&&(g=g.match(N7)[1].replace(k7,"'")),0!==e.indexOf(g))return i();e=e.slice(g.length)}}if(e.length>0&&C7.test(e))return i();const f=u.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>u.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let p=PO(n,r?.in);if(isNaN(+p))return i();const m={};for(const g of f){if(!g.validate(p,c))return i();const e=g.set(p,m,c);Array.isArray(e)?(p=e[0],Object.assign(m,e[1])):p=e}return p}function A7(e,t,n){return bO(n?.in||e,+PO(e)+t)}function O7(e,t,n){return A7(e,1e3*t,n)}function P7(e,t,n){const r=PO(e,n?.in);return r.setTime(r.getTime()+t*mO),r}function M7(e,t,n){return A7(e,t*gO,n)}function D7(e,t,n){return b7(e,7*t,n)}function R7(e,t,n){const r=PO(e,n?.in);if(isNaN(t))return bO(n?.in||e,NaN);if(!t)return r;const i=r.getDate(),s=bO(n?.in||e,r.getTime());s.setMonth(r.getMonth()+t+1,0);return i>=s.getDate()?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function L7(e,t,n){return R7(e,3*t,n)}function F7(e,t,n){return R7(e,12*t,n)}function B7(e,t,n){const r=$O(e,t)/mO;return zO(n?.roundingMethod)(r)}function U7(e,t,n){const[r,i]=DO(n?.in,e,t),s=(+r-+i)/gO;return zO(n?.roundingMethod)(s)}function V7(e,t,n){const[r,i]=DO(n?.in,e,t),s=z7(r,i),a=Math.abs(x3(r,i));r.setDate(r.getDate()-s*a);const o=s*(a-Number(z7(r,i)===-s));return 0===o?0:o}function z7(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function $7(e,t,n){const r=V7(e,t,n)/7;return zO(n?.roundingMethod)(r)}function H7(e,t,n){const r=VO(e,t,n)/3;return zO(n?.roundingMethod)(r)}function q7(e,t,n){const[r,i]=DO(n?.in,e,t);return r.getFullYear()-i.getFullYear()}function W7(e,t,n){const[r,i]=DO(n?.in,e,t),s=RO(r,i),a=Math.abs(q7(r,i));r.setFullYear(1584),i.setFullYear(1584);const o=s*(a-+(RO(r,i)===-s));return 0===o?0:o}function Y7(e,t){const n=PO(e,t?.in);return n.setMilliseconds(0),n}function K7(e,t){const n=PO(e,t?.in);return n.setSeconds(0,0),n}function G7(e,t){const n=PO(e,t?.in);return n.setMinutes(0,0,0),n}function X7(e,t){const n=PO(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Q7(e,t){const n=PO(e,t?.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function Z7(e,t){const n=PO(e,t?.in);return n.setMilliseconds(999),n}function J7(e,t){const n=PO(e,t?.in);return n.setSeconds(59,999),n}function e6(e,t){const n=PO(e,t?.in);return n.setMinutes(59,59,999),n}function t6(e,t){const n=OO(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=PO(e,t?.in),s=i.getDay(),a=6+(s<r?-7:0)-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function n6(e,t){const n=PO(e,t?.in),r=n.getMonth(),i=r-r%3+3;return n.setMonth(i,0),n.setHours(23,59,59,999),n}function r6(e,t){const n=PO(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}const i6={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};lL._date.override({_id:"date-fns",formats:function(){return i6},parse:function(e,t){if(null===e||"undefined"===typeof e)return null;const n=typeof e;return"number"===n||e instanceof Date?e=PO(e):"string"===n&&(e="string"===typeof t?I7(e,t,new Date,this.options):o4(e,this.options)),J3(e)?e.getTime():null},format:function(e,t){return s4(e,t,this.options)},add:function(e,t,n){switch(n){case"millisecond":return A7(e,t);case"second":return O7(e,t);case"minute":return P7(e,t);case"hour":return M7(e,t);case"day":return b7(e,t);case"week":return D7(e,t);case"month":return R7(e,t);case"quarter":return L7(e,t);case"year":return F7(e,t);default:return e}},diff:function(e,t,n){switch(n){case"millisecond":return $O(e,t);case"second":return HO(e,t);case"minute":return B7(e,t);case"hour":return U7(e,t);case"day":return V7(e,t);case"week":return $7(e,t);case"month":return VO(e,t);case"quarter":return H7(e,t);case"year":return W7(e,t);default:return 0}},startOf:function(e,t,n){switch(t){case"second":return Y7(e);case"minute":return K7(e);case"hour":return G7(e);case"day":return b3(e);case"week":return j3(e);case"isoWeek":return j3(e,{weekStartsOn:+n});case"month":return X7(e);case"quarter":return Q7(e);case"year":return w3(e);default:return e}},endOf:function(e,t){switch(t){case"second":return Z7(e);case"minute":return J7(e);case"hour":return e6(e);case"day":return FO(e);case"week":return t6(e);case"month":return BO(e);case"quarter":return n6(e);case"year":return r6(e);default:return e}}}),PF.register($F,qF,bB,kB,QF,hB,GF);const s6={apiKey:"AIzaSyDQIMqO4bJ-k4-pjjGnHGwCbCYUFUQe7Hw",databaseURL:"https://smartecolock-default-rtdb.asia-southeast1.firebasedatabase.app/"};0===Array.from(Dn.values()).length&&qn(s6);const a6=n_(),o6=e=>{let{title:t,value:n,icon:r}=e;return(0,o_.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-md p-6 flex items-center gap-4 hover:shadow-lg hover:scale-105 transition-all duration-300 animate-fade-in-delay",children:[(0,o_.jsx)("div",{className:"bg-indigo-100 p-3 rounded-full",children:r}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:t}),(0,o_.jsx)("p",{className:"text-2xl font-extrabold text-gray-900",children:n})]})]})},l6=e=>{let{uid:t,timestamp:n,weight:r,type:i}=e;return(0,o_.jsxs)("div",{className:"p-4 border-b border-gray-200 hover:bg-indigo-50 transition-colors duration-200 animate-fade-in",children:[(0,o_.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[i," UID: ",(0,o_.jsx)("span",{className:"text-indigo-600",children:t})]}),(0,o_.jsxs)("p",{className:"text-sm text-gray-600",children:["Time: ",n]}),r&&(0,o_.jsxs)("p",{className:"text-sm text-gray-600",children:["Weight: ",(0,o_.jsxs)("span",{className:"font-medium",children:[r," kg"]})]})]})},c6=e=>{let{event:t,timestamp:n}=e;return(0,o_.jsxs)("div",{className:"p-4 border-b border-gray-200 hover:bg-indigo-50 transition-colors duration-200 animate-fade-in",children:[(0,o_.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:["Event: ",(0,o_.jsx)("span",{className:"text-indigo-600",children:t})]}),(0,o_.jsxs)("p",{className:"text-sm text-gray-600",children:["Time: ",n]})]})},u6=document.createElement("style");u6.innerHTML="\n  .custom-scrollbar::-webkit-scrollbar {\n    width: 8px;\n  }\n  .custom-scrollbar::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 10px;\n  }\n  .custom-scrollbar::-webkit-scrollbar-thumb {\n    background: #888;\n    border-radius: 10px;\n  }\n  .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n  @keyframes fade-in {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n  @keyframes fade-in-delay {\n    0% { opacity: 0; transform: translateY(20px); }\n    100% { opacity: 1; transform: translateY(0); }\n  }\n  @keyframes slide-in {\n    from { transform: translateX(-100%); }\n    to { transform: translateX(0); }\n  }\n  @keyframes pulse-once {\n    0%, 100% { opacity: 1; }\n    50% { opacity: 0.6; }\n  }\n  .animate-fade-in { animation: fade-in 0.5s ease-in-out; }\n  .animate-fade-in-delay { animation: fade-in-delay 0.7s ease-in-out; }\n  .animate-slide-in { animation: slide-in 0.5s ease-out; }\n  .animate-pulse-once { animation: pulse-once 1.5s ease-in-out 1; }\n",document.head.appendChild(u6);const d6=()=>{const[e,t]=(0,r.useState)({}),[n,i]=(0,r.useState)({}),[s,a]=(0,r.useState)({}),[o,l]=(0,r.useState)({}),[c,u]=(0,r.useState)({}),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!0),[m,g]=(0,r.useState)(null),[y,v]=(0,r.useState)(""),[b,x]=(0,r.useState)(""),[w,_]=(0,r.useState)("All");(0,r.useEffect)((()=>{const e=Hw(a6,"/Instructors"),n=Hw(a6,"/Students"),r=Hw(a6,"/Admin"),s=Hw(a6,"/SystemLogs"),o=Hw(a6,"/UnregisteredUIDs"),c=Hw(a6,"/Alerts/Tamper"),d=e=>{g("Failed to connect to Firebase: "+e.message),p(!1)},f=[Xw(e,(e=>t(e.val()||{})),d),Xw(n,(e=>{i(e.val()||{}),p(!1)}),d),Xw(r,(e=>a(e.val()||{})),d),Xw(s,(e=>l(e.val()||{})),d),Xw(o,(e=>u(e.val()||{})),d),Xw(c,(e=>h(e.val()?{Tamper:e.val()}:null)),d)];return()=>f.forEach(((t,i)=>Qw([e,n,r,s,o,c][i],"value",t)))}),[]);const j=Object.keys(e).length,S=Object.keys(n).length,E=Object.keys(s).length,N=Object.keys(c).length,k=Object.values(n).filter((e=>e.Weight)).reduce(((e,t)=>e+parseFloat(t.Weight||"0")),0)/(S||1),C=Object.values(e).filter((e=>{var t;return null===(t=e.PZEMData)||void 0===t?void 0:t.Energy})).reduce(((e,t)=>e+parseFloat(t.PZEMData.Energy||"0")),0),T=d?1:0,I=Object.entries(e).filter((e=>{let[t,n]=e;const r=!y||n.AccessLogs.includes(y),i=!b||t.toLowerCase().includes(b.toLowerCase());return r&&i&&("All"===w||"Instructor"===w)})),A=Object.entries(n).filter((e=>{let[t,n]=e;const r=!y||n.AttendanceRecords.includes(y),i=!b||t.toLowerCase().includes(b.toLowerCase());return r&&i&&("All"===w||"Student"===w)})),O=Object.entries(s).filter((e=>{let[t,n]=e;const r=!y||n.AccessLogs.includes(y),i=!b||t.toLowerCase().includes(b.toLowerCase());return r&&i&&("All"===w||"Admin"===w)})),P=Object.entries(c).filter((e=>{let[t,n]=e;const r=!y||n.AccessLogs.includes(y),i=!b||t.toLowerCase().includes(b.toLowerCase());return r&&i&&("All"===w||"Unregistered"===w)})),M=Object.entries(o).filter((e=>{let[t,n]=e;const r=n.split(" Time:")[1];return!y||(null===r||void 0===r?void 0:r.includes(y))})),D=I.filter((e=>{let[,t]=e;return t.PZEMData})).map((e=>{let[,t]=e;return{timestamp:t.AccessLogs,voltage:parseFloat(t.PZEMData.Voltage||"0"),current:parseFloat(t.PZEMData.Current||"0"),power:parseFloat(t.PZEMData.Power||"0"),energy:parseFloat(t.PZEMData.Energy||"0"),frequency:parseFloat(t.PZEMData.Frequency||"0"),powerFactor:parseFloat(t.PZEMData.PowerFactor||"0")}})),R={labels:D.map((e=>new Date(e.timestamp))),datasets:[{label:"Voltage (V)",data:D.map((e=>e.voltage)),borderColor:"#FF6384",fill:!1},{label:"Current (A)",data:D.map((e=>e.current)),borderColor:"#36A2EB",fill:!1},{label:"Power (W)",data:D.map((e=>e.power)),borderColor:"#FFCE56",fill:!1},{label:"Energy (Wh)",data:D.map((e=>e.energy)),borderColor:"#4BC0C0",fill:!1},{label:"Frequency (Hz)",data:D.map((e=>e.frequency)),borderColor:"#9966FF",fill:!1},{label:"Power Factor",data:D.map((e=>e.powerFactor)),borderColor:"#FF9F40",fill:!1}]},L={labels:A.map((e=>{let[,t]=e;return new Date(t.AttendanceRecords)})),datasets:[{label:"Student Weight (kg)",data:A.map((e=>{let[,t]=e;return parseFloat(t.Weight||"0")})),borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.2)",fill:!0,tension:.4}]},F={responsive:!0,scales:{x:{type:"time",time:{unit:"day"},title:{display:!0,text:"Time"}},y:{title:{display:!0,text:"Value"}}},plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}}};return(0,o_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 flex flex-col md:flex-row animate-fade-in",children:[(0,o_.jsx)(GA,{}),(0,o_.jsxs)("main",{className:"flex-1 ml-0 md:ml-64 p-6 transition-all duration-300",children:[(0,o_.jsxs)("header",{className:"mb-8",children:[(0,o_.jsxs)("h1",{className:"text-4xl font-extrabold text-gray-900 flex items-center gap-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent animate-pulse-once",children:[(0,o_.jsx)(w4,{className:"h-9 w-9 text-indigo-600"}),"Smart Ecolock Insights"]}),(0,o_.jsx)("p",{className:"text-gray-700 mt-2 text-lg animate-fade-in-delay",children:"Real-time insights into RFID, attendance, power, and system status."})]}),m&&(0,o_.jsxs)("div",{className:"mb-6 p-4 bg-red-50 text-red-800 rounded-xl flex items-center gap-3 shadow-md animate-slide-in",children:[(0,o_.jsx)(j4,{className:"h-6 w-6"}),(0,o_.jsx)("span",{className:"font-medium",children:m})]}),(0,o_.jsxs)("div",{className:"mb-8 flex flex-col md:flex-row gap-4",children:[(0,o_.jsxs)("div",{className:"relative w-full md:w-auto",children:[(0,o_.jsx)("input",{type:"date",value:y?s4(new Date(y),"yyyy-MM-dd"):"",onChange:e=>v(e.target.value?s4(new Date(e.target.value),"MM-dd-yyyy"):""),className:"w-full p-3 pl-10 rounded-xl border border-gray-300 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:shadow-md"}),(0,o_.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"\ud83d\udcc5"})]}),(0,o_.jsxs)("div",{className:"relative w-full md:w-auto",children:[(0,o_.jsx)("input",{type:"text",value:b,onChange:e=>x(e.target.value),className:"w-full p-3 pl-10 rounded-xl border border-gray-300 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:shadow-md",placeholder:"Filter by UID"}),(0,o_.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"\ud83d\udd0d"})]}),(0,o_.jsxs)("select",{value:w,onChange:e=>_(e.target.value),className:"w-full md:w-auto p-3 rounded-xl border border-gray-300 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:shadow-md",children:[(0,o_.jsx)("option",{value:"All",children:"All Types"}),(0,o_.jsx)("option",{value:"Instructor",children:"Instructor"}),(0,o_.jsx)("option",{value:"Student",children:"Student"}),(0,o_.jsx)("option",{value:"Admin",children:"Admin"}),(0,o_.jsx)("option",{value:"Unregistered",children:"Unregistered"})]})]}),f?(0,o_.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o_.jsx)("div",{className:"animate-spin h-12 w-12 border-4 border-indigo-600 border-t-transparent rounded-full"})}):(0,o_.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,o_.jsx)(o6,{title:"Total Instructors",value:j,icon:(0,o_.jsx)(YI,{className:"h-6 w-6 text-indigo-600"})}),(0,o_.jsx)(o6,{title:"Total Students",value:S,icon:(0,o_.jsx)(gI,{className:"h-6 w-6 text-indigo-600"})}),(0,o_.jsx)(o6,{title:"Avg. Student Weight",value:`${k.toFixed(2)} kg`,icon:(0,o_.jsx)(E4,{className:"h-6 w-6 text-indigo-600"})}),(0,o_.jsx)(o6,{title:"Total Energy Usage",value:`${C.toFixed(2)} Wh`,icon:(0,o_.jsx)(w4,{className:"h-6 w-6 text-indigo-600"})}),(0,o_.jsx)(o6,{title:"Admin Access",value:E,icon:(0,o_.jsx)(k4,{className:"h-6 w-6 text-indigo-600"})}),(0,o_.jsx)(o6,{title:"Unregistered UIDs",value:N,icon:(0,o_.jsx)(T4,{className:"h-6 w-6 text-indigo-600"})}),(0,o_.jsx)(o6,{title:"Tamper Events",value:T,icon:(0,o_.jsx)(j4,{className:"h-6 w-6 text-indigo-600"})}),(0,o_.jsxs)("div",{className:"col-span-1 sm:col-span-2 bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 animate-fade-in",children:[(0,o_.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,o_.jsx)(YI,{className:"h-6 w-6 text-indigo-600"}),"Instructor Logs"]}),(0,o_.jsx)("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:I.length>0?I.map((e=>{let[t,n]=e;return(0,o_.jsx)(l6,{uid:t,timestamp:n.AccessLogs,type:"Instructor"},t)})):(0,o_.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No matching logs found."})})]}),(0,o_.jsxs)("div",{className:"col-span-1 sm:col-span-2 bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 animate-fade-in",children:[(0,o_.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,o_.jsx)(gI,{className:"h-6 w-6 text-indigo-600"}),"Student Attendance"]}),(0,o_.jsx)("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:A.length>0?A.map((e=>{let[t,n]=e;return(0,o_.jsx)(l6,{uid:t,timestamp:n.AttendanceRecords,weight:n.Weight,type:"Student"},t)})):(0,o_.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No matching logs found."})})]}),(0,o_.jsxs)("div",{className:"col-span-1 sm:col-span-2 bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 animate-fade-in",children:[(0,o_.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,o_.jsx)(k4,{className:"h-6 w-6 text-indigo-600"}),"Admin Logs"]}),(0,o_.jsx)("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:O.length>0?O.map((e=>{let[t,n]=e;return(0,o_.jsx)(l6,{uid:t,timestamp:n.AccessLogs,type:"Admin"},t)})):(0,o_.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No matching logs found."})})]}),(0,o_.jsxs)("div",{className:"col-span-1 sm:col-span-2 bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 animate-fade-in",children:[(0,o_.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,o_.jsx)(T4,{className:"h-6 w-6 text-indigo-600"}),"Unregistered UID Logs"]}),(0,o_.jsx)("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:P.length>0?P.map((e=>{let[t,n]=e;return(0,o_.jsx)(l6,{uid:t,timestamp:n.AccessLogs,type:"Unregistered"},t)})):(0,o_.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No matching logs found."})})]}),(0,o_.jsxs)("div",{className:"col-span-1 sm:col-span-2 lg:col-span-4 bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 animate-fade-in",children:[(0,o_.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,o_.jsx)(pI,{className:"h-6 w-6 text-indigo-600"}),"System Logs"]}),(0,o_.jsx)("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:M.length>0?M.map(((e,t)=>{let[n,r]=e;const[i,s]=r.split(" Time:");return(0,o_.jsx)(c6,{event:i.replace("System:",""),timestamp:s},t)})):(0,o_.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No matching logs found."})})]}),(0,o_.jsxs)("div",{className:"col-span-1 sm:col-span-2 lg:col-span-4 bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 animate-fade-in",children:[(0,o_.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,o_.jsx)(w4,{className:"h-6 w-6 text-indigo-600"}),"Power Metrics Trend"]}),(0,o_.jsx)(RB,{data:R,options:{...F,scales:{...F.scales,y:{title:{display:!0,text:"Value"}}}}})]}),(0,o_.jsxs)("div",{className:"col-span-1 sm:col-span-2 lg:col-span-4 bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 animate-fade-in",children:[(0,o_.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,o_.jsx)(E4,{className:"h-6 w-6 text-indigo-600"}),"Student Weight Trend"]}),(0,o_.jsx)(RB,{data:L,options:{...F,scales:{...F.scales,y:{title:{display:!0,text:"Weight (kg)"}}}}})]}),d&&(0,o_.jsxs)("div",{className:"col-span-1 sm:col-span-2 lg:col-span-4 bg-red-50 rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 animate-slide-in",children:[(0,o_.jsxs)("h2",{className:"text-xl font-semibold text-red-800 mb-4 flex items-center gap-2",children:[(0,o_.jsx)(j4,{className:"h-6 w-6 text-red-600"}),"Tamper Alert"]}),(0,o_.jsxs)("p",{className:"text-sm text-red-600",children:["Tamper Detected: ",d.Tamper]})]})]})]})]})};function h6(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))}const f6=r.forwardRef(h6);function p6(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const m6=r.forwardRef(p6),g6=()=>{const e=Array.from({length:30},(()=>({x:100*Math.random(),y:100*Math.random(),speedX:.3*(Math.random()-.5),speedY:.3*(Math.random()-.5)})));return(0,o_.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(((e,t)=>(0,o_.jsx)(nT.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:`${e.x}vw`,y:`${e.y}vh`,opacity:.6},animate:{x:`${e.x+50*e.speedX}vw`,y:`${e.y+50*e.speedY}vh`,opacity:[.6,.8,.6]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}},t)))})},y6=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)("all"),[d,h]=(0,r.useState)("all"),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)("name"),[y,v]=(0,r.useState)("asc"),[b,x]=(0,r.useState)([]),[w,_]=(0,r.useState)(!1),[j,S]=(0,r.useState)([]),[E,N]=(0,r.useState)(null),[k,C]=(0,r.useState)({subjects:[],schedules:[]}),[T,I]=(0,r.useState)(!1),[A,O]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{l(!0);const e=xm(s_,"users"),n=xm(s_,"teachers"),r=xm(s_,"students"),[i,s,a]=await Promise.all([Ng(e),Ng(n),Ng(r)]),o=i.docs.map((e=>({id:e.id,...e.data()}))),c=s.docs.map((e=>({id:e.id,fullName:e.data().fullName,email:e.data().email,role:"instructor",department:e.data().department,uid:e.data().uid}))),u=a.docs.map((e=>({id:e.id,fullName:e.data().fullName,email:e.data().email,role:"student",department:e.data().department,studentId:e.data().studentId,uid:e.data().uid}))),d=[...o,...c.filter((e=>!o.some((t=>t.uid===e.uid)))),...u.filter((e=>!o.some((t=>t.uid===e.uid))))];t(d),l(!1)}catch(Zg){console.error("Error fetching users:",Zg),vT().fire("Error","Failed to fetch users","error"),l(!1)}})()}),[]),(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"rooms"),t=(await Ng(e)).docs.map((e=>({id:e.id,name:e.data().name||e.id,status:e.data().status||"available"})));i(t.filter((e=>"available"===e.status)))}catch(Zg){console.error("Error fetching rooms:",Zg),vT().fire({icon:"error",title:"Fetch Error",text:"Failed to fetch rooms"})}})()}),[]),(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"subjects"),t=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()})));S(t.filter((e=>"active"===e.status)))}catch(Zg){console.error("Error fetching subjects:",Zg),vT().fire({icon:"error",title:"Fetch Error",text:"Failed to fetch subjects"})}})()}),[]),(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"sections"),t=(await Ng(e)).docs.map((e=>({id:e.id,name:e.data().name,code:e.data().code,teacherId:e.data().teacherId})));a(t)}catch(Zg){console.error("Error fetching sections:",Zg),vT().fire({icon:"error",title:"Fetch Error",text:"Failed to fetch sections"})}})()}),[]);const P=()=>{C((e=>({...e,schedules:[...e.schedules||[],{day:"",startTime:"",endTime:"",section:"",room:"",subject:"",instructorUid:null===E||void 0===E?void 0:E.uid}]})))},M=async()=>{try{if(!A)return void vT().fire({icon:"error",title:"Error",text:"Please select a teacher first"});const e=(k.subjects||[]).map((e=>{const t=j.find((t=>t.id===e));return t?t.name:""})).filter((e=>""!==e)),t=(k.schedules||[]).filter((e=>e.startTime&&e.endTime&&e.section&&e.day)).map((e=>({...e,instructorUid:null===E||void 0===E?void 0:E.uid}))),n={subjects:e,schedules:t},r=wm(s_,"teachers",A),i=(await Sg(r)).data();await Cg(r,n);const s=xm(s_,"subjects"),a=[...e,...t.map((e=>e.subject||"")).filter(Boolean)];for(const o of a){const e=ag(s,lg("name","==",o),lg("department","==",null===i||void 0===i?void 0:i.department));(await Ng(e)).empty&&await Ig(s,{name:o,department:(null===i||void 0===i?void 0:i.department)||"Unassigned",status:"active",createdAt:new Date})}vT().fire({icon:"success",title:"Assignments Saved",text:"Teacher assignments and subjects have been successfully updated",timer:2e3,showConfirmButton:!1,background:"#1e293b",iconColor:"#22d3ee",confirmButtonColor:"#0891b2"}),I(!1)}catch(Zg){console.error("Error saving assignments:",Zg),vT().fire({icon:"error",title:"Save Error",text:Zg instanceof Error?Zg.message:"Failed to save teacher assignments"})}},D=()=>(k.schedules||[]).map(((e,t)=>(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"grid grid-cols-1 md:grid-cols-7 gap-6 mb-8 items-center bg-gray-700/50 p-4 rounded-lg border border-cyan-800",children:[(0,o_.jsxs)("select",{value:e.day,onChange:e=>{const n=[...k.schedules||[]];n[t]={...n[t],day:e.target.value},C((e=>({...e,schedules:n})))},className:"col-span-1 w-full px-4 py-3 rounded-md bg-gray-600 text-cyan-100 border border-cyan-700 focus:ring-2 focus:ring-cyan-500",children:[(0,o_.jsx)("option",{value:"",children:"Select Day"}),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((e=>(0,o_.jsx)("option",{value:e,children:e},e)))]}),(0,o_.jsx)("input",{type:"time",value:e.startTime,onChange:e=>{const n=[...k.schedules||[]];n[t]={...n[t],startTime:e.target.value},C((e=>({...e,schedules:n})))},className:"col-span-1 px-4 py-3 rounded-md bg-gray-600 text-cyan-100 border border-cyan-700 focus:ring-2 focus:ring-cyan-500"}),(0,o_.jsx)("input",{type:"time",value:e.endTime,onChange:e=>{const n=[...k.schedules||[]];n[t]={...n[t],endTime:e.target.value},C((e=>({...e,schedules:n})))},className:"col-span-1 px-4 py-3 rounded-md bg-gray-600 text-cyan-100 border border-cyan-700 focus:ring-2 focus:ring-cyan-500"}),(0,o_.jsxs)("select",{value:e.section,onChange:e=>{const n=[...k.schedules||[]];n[t]={...n[t],section:e.target.value},C((e=>({...e,schedules:n})))},className:"col-span-1 w-full px-4 py-3 rounded-md bg-gray-600 text-cyan-100 border border-cyan-700 focus:ring-2 focus:ring-cyan-500",children:[(0,o_.jsx)("option",{value:"",children:"Select Section"}),s.map((e=>(0,o_.jsx)("option",{value:e.name,children:e.name},e.id)))]}),(0,o_.jsxs)("select",{value:e.room||"",onChange:e=>{const n=[...k.schedules||[]];n[t]={...n[t],room:e.target.value},C((e=>({...e,schedules:n})))},className:"col-span-1 w-full px-4 py-3 rounded-md bg-gray-600 text-cyan-100 border border-cyan-700 focus:ring-2 focus:ring-cyan-500",children:[(0,o_.jsx)("option",{value:"",children:"Select Room"}),n.map((e=>(0,o_.jsx)("option",{value:e.name,children:e.name},e.id)))]}),(0,o_.jsxs)("select",{value:e.subject||"",onChange:e=>((e,t)=>{C((n=>{const r=[...n.schedules||[]];return r[e]={...r[e],subject:t},{...n,schedules:r}}))})(t,e.target.value),className:"col-span-1 w-full px-4 py-3 rounded-md bg-gray-600 text-cyan-100 border border-cyan-700 focus:ring-2 focus:ring-cyan-500",children:[(0,o_.jsx)("option",{value:"",children:"Select Subject"}),j.map((e=>(0,o_.jsx)("option",{value:e.name,children:e.name},e.id)))]}),(0,o_.jsx)("button",{onClick:()=>{C((e=>({...e,schedules:(e.schedules||[]).filter(((e,n)=>n!==t))})))},className:"col-span-1 flex items-center justify-center text-red-400 hover:text-red-500",children:(0,o_.jsx)(f6,{className:"w-5 h-5"})})]},t))),R=e.filter((e=>{var t,n,r,i;return("all"===c||e.role===c)&&("all"===d||(null===(t=e.department)||void 0===t?void 0:t.toLowerCase())===d.toLowerCase())&&(""===f||(null===(n=e.fullName)||void 0===n?void 0:n.toLowerCase().includes(f.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(f.toLowerCase()))||(null===(i=e.department)||void 0===i?void 0:i.toLowerCase().includes(f.toLowerCase())))})).sort(((e,t)=>{var n,r,i,s,a,o;let l,c;switch(m){case"name":l=(null===(n=e.fullName)||void 0===n?void 0:n.toLowerCase())||"",c=(null===(r=t.fullName)||void 0===r?void 0:r.toLowerCase())||"";break;case"role":l=(null===(i=e.role)||void 0===i?void 0:i.toLowerCase())||"",c=(null===(s=t.role)||void 0===s?void 0:s.toLowerCase())||"";break;case"department":l=(null===(a=e.department)||void 0===a?void 0:a.toLowerCase())||"",c=(null===(o=t.department)||void 0===o?void 0:o.toLowerCase())||"";break;default:l="",c=""}return"asc"===y?l.localeCompare(c):c.localeCompare(l)})),L=Array.from(new Set(e.map((e=>e.department||"Unknown"))));return(0,o_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 text-white font-mono",children:[(0,o_.jsx)(g6,{}),(0,o_.jsx)(GA,{}),(0,o_.jsxs)("div",{className:"ml-64 p-8 space-y-8",children:[(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-6 border border-cyan-800",children:[(0,o_.jsxs)("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h1",{className:"text-3xl font-bold text-cyan-100",children:"Users Management"}),(0,o_.jsxs)("p",{className:"mt-2 text-cyan-300",children:[R.length," users found"]})]}),(0,o_.jsx)("div",{className:"relative",children:(0,o_.jsx)("input",{type:"text",placeholder:"Search users...",value:f,onChange:e=>p(e.target.value),className:"w-full md:w-64 px-4 py-2 rounded-lg bg-gray-700 text-cyan-100 border border-cyan-800 focus:ring-2 focus:ring-cyan-500"})})]}),(0,o_.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-4 mt-6",children:[(0,o_.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,o_.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-cyan-100 border border-cyan-800 focus:ring-2 focus:ring-cyan-500",children:[(0,o_.jsx)("option",{value:"all",children:"All Roles"}),(0,o_.jsx)("option",{value:"admin",children:"Admin"}),(0,o_.jsx)("option",{value:"instructor",children:"Instructor"}),(0,o_.jsx)("option",{value:"student",children:"Student"})]}),(0,o_.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-cyan-100 border border-cyan-800 focus:ring-2 focus:ring-cyan-500",children:[(0,o_.jsx)("option",{value:"all",children:"All Departments"}),L.map((e=>(0,o_.jsx)("option",{value:e,children:e||"Unknown"},e)))]})]}),(0,o_.jsxs)("div",{className:"flex gap-4",children:[(0,o_.jsxs)("select",{value:m,onChange:e=>{return t=e.target.value,void(m===t?v("asc"===y?"desc":"asc"):(g(t),v("asc")));var t},className:"px-4 py-2 rounded-lg bg-gray-700 text-cyan-100 border border-cyan-800 focus:ring-2 focus:ring-cyan-500",children:[(0,o_.jsx)("option",{value:"name",children:"Sort by Name"}),(0,o_.jsx)("option",{value:"role",children:"Sort by Role"}),(0,o_.jsx)("option",{value:"department",children:"Sort by Department"})]}),(0,o_.jsx)("button",{onClick:()=>v("asc"===y?"desc":"asc"),className:"px-4 py-2 bg-gray-700 border border-cyan-800 hover:bg-gray-600 text-cyan-100 rounded-lg",children:"asc"===y?"\u2191":"\u2193"})]})]}),b.length>0&&(0,o_.jsxs)("div",{className:"mt-6 bg-cyan-900/30 p-4 rounded-lg flex items-center justify-between border border-cyan-800",children:[(0,o_.jsxs)("span",{className:"text-cyan-100",children:[b.length," users selected"]}),(0,o_.jsx)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Selected"})]})]}),o?(0,o_.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,o_.jsx)(nT.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},className:"w-12 h-12 border-4 border-cyan-400 border-t-transparent rounded-full"})}):(0,o_.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map((e=>(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`backdrop-blur-lg bg-gray-800/80 rounded-xl shadow-xl p-6 border ${b.includes(e.id)?"border-cyan-400":"border-cyan-800"} hover:shadow-2xl transition-all relative overflow-hidden`,children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o_.jsx)("input",{type:"checkbox",checked:b.includes(e.id),onChange:t=>{t.target.checked?x([...b,e.id]):x(b.filter((t=>t!==e.id)))},className:"rounded border-gray-600 text-cyan-400 focus:ring-cyan-500 bg-gray-700"}),(0,o_.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center "+("admin"===e.role?"bg-blue-900/50":"instructor"===e.role?"bg-purple-900/50":"bg-green-900/50"),children:"student"===e.role?(0,o_.jsx)(JA,{className:"w-6 h-6 text-cyan-400"}):(0,o_.jsx)(aT,{className:"w-6 h-6 text-cyan-400"})}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h3",{className:"text-lg font-semibold text-cyan-100",children:e.fullName||"Unknown"}),(0,o_.jsx)("p",{className:"text-sm text-cyan-300",children:e.email||"No email"})]})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:["instructor"===e.role&&(0,o_.jsxs)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>(async e=>{try{var t;const n=(await Sg(wm(s_,"teachers",e.id))).data()||{};N(e),O(e.id),C({subjects:n.subjects||[],schedules:(null===(t=n.schedules)||void 0===t?void 0:t.map((t=>({...t,instructorUid:e.uid}))))||[]}),I(!0)}catch(Zg){console.error("Error fetching instructor details:",Zg),vT().fire("Error","Failed to load instructor details","error")}})(e),className:"p-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors flex items-center space-x-2",children:[(0,o_.jsx)(m6,{className:"w-5 h-5"}),(0,o_.jsx)("span",{children:"Assign"})]}),(0,o_.jsx)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>(async(e,t)=>{try{const n="instructor"===t?"teachers":"student"===t?"students":"users";await Tg(wm(s_,n,e)),vT().fire({icon:"success",title:"User Deleted",text:"The user has been successfully removed.",background:"#1e293b",iconColor:"#22d3ee",confirmButtonColor:"#0891b2"})}catch(Zg){console.error("Error deleting user:",Zg),vT().fire("Error","Failed to delete user","error")}})(e.id,e.role),className:"p-2 text-red-400 hover:text-red-500",children:(0,o_.jsx)(f6,{className:"w-5 h-5"})})]})]}),(0,o_.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,o_.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("admin"===e.role?"bg-blue-700 text-cyan-100":"instructor"===e.role?"bg-purple-700 text-cyan-100":"student"===e.role?"bg-green-700 text-cyan-100":"bg-gray-700 text-cyan-300"),children:e.role?e.role.charAt(0).toUpperCase()+e.role.slice(1):"Unknown"}),e.department&&(0,o_.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-700 text-cyan-100",children:e.department}),e.studentId&&(0,o_.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-700 text-cyan-100",children:["ID: ",e.studentId]})]})]})]},e.id)))}),w&&(0,o_.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,o_.jsxs)(nT.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-cyan-800",children:[(0,o_.jsx)("h3",{className:"text-xl font-semibold text-cyan-100 mb-4",children:"Delete Selected Users"}),(0,o_.jsxs)("p",{className:"text-cyan-300 mb-6",children:["Are you sure you want to delete ",b.length," selected users? This action cannot be undone."]}),(0,o_.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,o_.jsx)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_(!1),className:"px-4 py-2 bg-gray-700 text-cyan-200 rounded-lg hover:bg-gray-600",children:"Cancel"}),(0,o_.jsx)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{try{await Promise.all(b.map((t=>{const n=e.find((e=>e.id===t));if(n){const e="instructor"===n.role?"teachers":"student"===n.role?"students":"users";return Tg(wm(s_,e,t))}}))),x([]),_(!1),vT().fire({icon:"success",title:"Users Deleted",text:"Selected users have been removed successfully.",background:"#1e293b",iconColor:"#22d3ee",confirmButtonColor:"#0891b2"})}catch(Zg){console.error("Error deleting users:",Zg),vT().fire("Error","Failed to delete users","error")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete Users"})]})]})}),T&&E?(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,o_.jsx)(nT.div,{initial:{scale:.9,y:50},animate:{scale:1,y:0},transition:{type:"spring",stiffness:300,damping:20},className:"bg-gray-800/80 backdrop-blur-lg rounded-xl shadow-xl max-w-6xl w-full max-h-[80vh] overflow-y-auto border border-cyan-800",children:(0,o_.jsxs)("div",{className:"p-8",children:[(0,o_.jsxs)("h3",{className:"text-2xl font-bold text-cyan-100 mb-6 flex items-center",children:[(0,o_.jsx)(oO,{className:"w-7 h-7 text-cyan-400 mr-3"}),"Assign Schedule for ",E.fullName]}),(0,o_.jsxs)("div",{className:"space-y-6",children:[D(),(0,o_.jsx)("div",{className:"flex justify-center",children:(0,o_.jsxs)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:P,className:"px-6 py-3 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors flex items-center space-x-2",children:[(0,o_.jsx)(m6,{className:"w-5 h-5"}),(0,o_.jsx)("span",{children:"Add New Schedule"})]})})]}),(0,o_.jsxs)("div",{className:"mt-8 flex justify-end space-x-4 border-t border-cyan-800 pt-6",children:[(0,o_.jsx)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>I(!1),className:"px-6 py-2 bg-gray-700 text-cyan-200 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,o_.jsxs)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M,className:"px-6 py-3 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 flex items-center",children:[(0,o_.jsx)(lT,{className:"w-5 h-5 mr-2"}),(0,o_.jsx)("span",{children:"Save Assignments"})]})]})]})})}):null]})]})};let v6={data:""},b6=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||v6,x6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,w6=/\/\*[^]*?\*\/|  +/g,_6=/\n+/g,j6=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+a+";":r+="f"==s[1]?j6(a,s):s+"{"+j6(a,"k"==s[1]?"":t)+"}":"object"==typeof a?r+=j6(a,t?t.replace(/([^,])+/g,(e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):s):null!=a&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=j6.p?j6.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},S6={},E6=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+E6(e[n]);return t}return e},N6=(e,t,n,r,i)=>{let s=E6(e),a=S6[s]||(S6[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!S6[a]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=x6.exec(e.replace(w6,""));)t[4]?r.shift():t[3]?(n=t[3].replace(_6," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(_6," ").trim();return r[0]})(e);S6[a]=j6(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let o=n&&S6.g?S6.g:null;return n&&(S6.g=S6[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(S6[a],t,r,o),a};function k6(e){let t=this||{},n=e.call?e(t.p):e;return N6(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":j6(e,""):!1===e?"":e}return e+r+(null==s?"":s)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,b6(t.target),t.g,t.o,t.k)}k6.bind({g:1});let C6,T6,I6,A6=k6.bind({k:1});function O6(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:T6&&T6()},o),n.o=/ *go\d+/.test(l),o.className=k6.apply(n,r)+(l?" "+l:""),t&&(o.ref=a);let c=e;return e[0]&&(c=o.as||e,delete o.as),I6&&c[0]&&I6(o),C6(c,o)}return t?t(i):i}}var P6=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,M6=(()=>{let e=0;return()=>(++e).toString()})(),D6=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),R6=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return R6(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},L6=[],F6={toasts:[],pausedAt:void 0},B6=e=>{F6=R6(F6,e),L6.forEach((e=>{e(F6)}))},U6=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||M6()}}(t,e,n);return B6({type:2,toast:r}),r.id},V6=(e,t)=>U6("blank")(e,t);V6.error=U6("error"),V6.success=U6("success"),V6.loading=U6("loading"),V6.custom=U6("custom"),V6.dismiss=e=>{B6({type:3,toastId:e})},V6.remove=e=>B6({type:4,toastId:e}),V6.promise=(e,t,n)=>{let r=V6.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let i=t.success?P6(t.success,e):void 0;return i?V6.success(i,{id:r,...n,...null==n?void 0:n.success}):V6.dismiss(r),e})).catch((e=>{let i=t.error?P6(t.error,e):void 0;i?V6.error(i,{id:r,...n,...null==n?void 0:n.error}):V6.dismiss(r)})),e};new Map;var z6=A6`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$6=A6`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,H6=A6`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,q6=O6("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$6} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${H6} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,W6=A6`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Y6=O6("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${W6} 1s linear infinite;
`,K6=A6`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,G6=A6`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,X6=O6("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${K6} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${G6} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Q6=O6("div")`
  position: absolute;
`,Z6=O6("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,J6=A6`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,e9=O6("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${J6} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,t9=e=>{let{toast:t}=e,{icon:n,type:i,iconTheme:s}=t;return void 0!==n?"string"==typeof n?r.createElement(e9,null,n):n:"blank"===i?null:r.createElement(Z6,null,r.createElement(Y6,{...s}),"loading"!==i&&r.createElement(Q6,null,"error"===i?r.createElement(q6,{...s}):r.createElement(X6,{...s})))},n9=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,r9=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,i9=O6("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,s9=O6("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`;r.memo((e=>{let{toast:t,position:n,style:i,children:s}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=D6()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[n9(n),r9(n)];return{animation:t?`${A6(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${A6(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||n||"top-center",t.visible):{opacity:0},o=r.createElement(t9,{toast:t}),l=r.createElement(s9,{...t.ariaProps},P6(t.message,t));return r.createElement(i9,{className:t.className,style:{...a,...i,...t.style}},"function"==typeof s?s({icon:o,message:l}):r.createElement(r.Fragment,null,o,l))}));!function(e,t,n,r){j6.p=t,C6=e,T6=n,I6=r}(r.createElement);k6`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const a9=()=>{const{currentUser:e}=c_(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)([]),[a,o]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)("all"),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!0),[g,y]=(0,r.useState)("");(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"subjects"),t=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()}))),r=xm(s_,"teachers"),i=(await Ng(r)).docs.map((e=>({id:e.id,...e.data()}))),s=Array.from(new Set(i.map((e=>e.department)))).filter(Boolean);o(t),n(i),c(s),m(!1)}catch(Zg){console.error("Error fetching data:",Zg),V6.error("Failed to load teachers"),m(!1)}})()}),[]),(0,r.useEffect)((()=>{v()}),[u,t,g]);const v=()=>{let e=[...t];if("all"!==u&&(e=e.filter((e=>e.department===u))),g){const t=g.toLowerCase();e=e.filter((e=>e.fullName.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.department.toLowerCase().includes(t)))}s(e)},b=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{const t=a.find((t=>t.id===e));return t?t.name:e}))};return(0,o_.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("div",{className:"flex-1 transition-all duration-300 ml-[80px] lg:ml-64 p-8 overflow-y-auto",children:(0,o_.jsxs)("div",{className:"container mx-auto",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsxs)("h1",{className:"text-3xl font-bold text-blue-800 flex items-center",children:[(0,o_.jsx)(_I,{className:"h-10 w-10 mr-3 text-blue-600"}),"Teachers Management"]}),(0,o_.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage and view all registered instructors"})]}),(0,o_.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[(0,o_.jsx)(m6,{className:"h-5 w-5 mr-2"}),"Add Teacher"]})]}),(0,o_.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:(0,o_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Teachers"}),(0,o_.jsx)("input",{type:"text",placeholder:"Search by name, email, or department...",value:g,onChange:e=>y(e.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Department"}),(0,o_.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,o_.jsx)("option",{value:"all",children:"All Departments"}),l.map((e=>(0,o_.jsx)("option",{value:e,children:e},e)))]})]}),(0,o_.jsx)("div",{className:"flex items-end",children:(0,o_.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 w-full",children:[(0,o_.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Total Teachers"}),(0,o_.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.length})]})})]})}),(0,o_.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6",children:p?(0,o_.jsx)("div",{className:"flex justify-center items-center h-48",children:(0,o_.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,o_.jsxs)("div",{className:"overflow-x-auto",children:[(0,o_.jsxs)("table",{className:"w-full text-left",children:[(0,o_.jsx)("thead",{children:(0,o_.jsxs)("tr",{className:"border-b",children:[(0,o_.jsx)("th",{className:"py-3 px-4",children:"Name"}),(0,o_.jsx)("th",{className:"py-3 px-4",children:"Department"}),(0,o_.jsx)("th",{className:"py-3 px-4",children:"Email"}),(0,o_.jsx)("th",{className:"py-3 px-4",children:"Status"}),(0,o_.jsx)("th",{className:"py-3 px-4",children:"Subjects"})]})}),(0,o_.jsx)("tbody",{children:i.map((e=>(0,o_.jsxs)("tr",{className:"border-b hover:bg-blue-50 transition",children:[(0,o_.jsx)("td",{className:"py-3 px-4",children:(0,o_.jsxs)("div",{className:"flex items-center",children:[e.photoURL?(0,o_.jsx)("img",{src:e.photoURL,alt:e.fullName,className:"h-8 w-8 rounded-full mr-3"}):(0,o_.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:(0,o_.jsx)(_I,{className:"h-4 w-4 text-blue-600"})}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("div",{className:"font-medium",children:e.fullName}),(0,o_.jsxs)("div",{className:"text-sm text-gray-500",children:["Joined ",new Date(e.dateJoined).toLocaleDateString()]})]})]})}),(0,o_.jsx)("td",{className:"py-3 px-4",children:(0,o_.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[(0,o_.jsx)(JA,{className:"h-4 w-4 mr-1"}),e.department]})}),(0,o_.jsx)("td",{className:"py-3 px-4",children:e.email}),(0,o_.jsx)("td",{className:"py-3 px-4",children:(0,o_.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),(0,o_.jsx)("td",{className:"py-3 px-4",children:(0,o_.jsx)("div",{className:"flex flex-wrap gap-1",children:b(e.subjects).map(((e,t)=>(0,o_.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:e},t)))})}),(0,o_.jsx)("td",{className:"py-3 px-4",children:(0,o_.jsx)("div",{className:"flex space-x-2"})})]},e.id)))})]}),0===i.length&&(0,o_.jsx)("div",{className:"text-center py-8",children:(0,o_.jsx)("div",{className:"text-gray-500",children:"No teachers found"})})]})})]})}),(0,o_.jsx)(hA,{isOpen:h,onClose:()=>f(!1),title:"Add New Teacher",children:(0,o_.jsx)("div",{className:"p-6",children:(0,o_.jsx)("p",{children:"Teacher form coming soon..."})})})]})};function o9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const l9=r.forwardRef(o9);function c9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const u9=r.forwardRef(c9);function d9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const h9=r.forwardRef(d9);function f9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"}))}const p9=r.forwardRef(f9);function m9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const g9=r.forwardRef(m9),y9={button:{primary:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",secondary:"flex items-center px-4 py-2 border border-purple-200 text-purple-700 rounded-lg hover:bg-purple-50 transition-colors",danger:"flex items-center px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition-colors"},card:"bg-white rounded-xl shadow-sm border border-blue-100/50 p-6",input:"w-full p-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",badge:{success:"bg-green-100 text-green-800",error:"bg-rose-100 text-rose-800",warning:"bg-amber-100 text-amber-800",info:"bg-blue-100 text-blue-800"}},v9={h1:"text-4xl font-bold",h2:"text-3xl font-bold",h3:"text-2xl font-bold",h4:"text-xl font-bold",body:"text-base",small:"text-sm"},b9=e=>{var t,n,i;let{isOpen:s,onClose:a,userId:o,userType:l}=e;const[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)([]),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(!0),[y,v]=(0,r.useState)(!1);(0,r.useEffect)((()=>{s&&o&&b()}),[s,o]);const b=async()=>{try{g(!0);const e=wm(s_,"student"===l?"students":"teachers",o),t=await Sg(e);let n=null;if(!t.exists())return console.error("User document does not exist"),void g(!1);{const e=t.data();n={...e,id:o},u(n),p(e.roomAssigned||"")}const r=xm(s_,"rooms"),i=(await Ng(r)).docs.map((e=>({id:e.id,...e.data()}))).filter((e=>{var t;return"available"===e.status||e.id===(null===(t=n)||void 0===t?void 0:t.roomAssigned)}));h(i),g(!1)}catch(Zg){console.error("Error fetching data:",Zg),g(!1),vT().fire("Error","Failed to load user or room data","error")}};return s?(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,o_.jsxs)(nT.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,o_.jsxs)("h2",{className:v9.h3,children:[null===c||void 0===c?void 0:c.fullName," - ","student"===l?"Student":"Teacher"," Details"]}),(0,o_.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:(0,o_.jsx)(g9,{className:"w-6 h-6"})})]}),m?(0,o_.jsx)("div",{className:"p-6 text-center",children:(0,o_.jsx)("p",{className:"text-gray-500",children:"Loading..."})}):(0,o_.jsxs)(o_.Fragment,{children:[(0,o_.jsxs)("div",{className:"p-6 space-y-4",children:[(0,o_.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,o_.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-gray-500",children:"ID Number"}),(0,o_.jsx)("p",{className:"font-medium",children:null===c||void 0===c?void 0:c.idNumber})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,o_.jsx)("p",{className:"font-medium",children:null===c||void 0===c?void 0:c.email})]}),(null===c||void 0===c?void 0:c.department)&&(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-gray-500",children:"Department"}),(0,o_.jsx)("p",{className:"font-medium",children:c.department})]}),(null===c||void 0===c?void 0:c.major)&&(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-gray-500",children:"Major"}),(0,o_.jsx)("p",{className:"font-medium",children:c.major})]})]})}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Room"}),(0,o_.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:y9.input,children:[(0,o_.jsx)("option",{value:"",children:"No Room Assigned"}),d.map((e=>(0,o_.jsxs)("option",{value:e.id,children:[e.name," - ",e.building,", Floor ",e.floor]},e.id)))]}),f&&(0,o_.jsxs)("div",{className:`mt-4 ${y?"bg-green-50":"bg-blue-50"} p-3 rounded-lg flex items-start transition-colors duration-300`,children:[(0,o_.jsx)(RA,{className:`w-5 h-5 ${y?"text-green-500":"text-blue-500"} mt-0.5 mr-2`}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm font-medium "+(y?"text-green-700":"text-blue-700"),children:y?"Room Assignment Updated!":"Current Room Assignment"}),(0,o_.jsxs)("p",{className:"text-sm "+(y?"text-green-600":"text-blue-600"),children:[null===(t=d.find((e=>e.id===f)))||void 0===t?void 0:t.name," -",null===(n=d.find((e=>e.id===f)))||void 0===n?void 0:n.building,", Floor ",null===(i=d.find((e=>e.id===f)))||void 0===i?void 0:i.floor]})]})]})]})]}),(0,o_.jsxs)("div",{className:"flex justify-end space-x-4 p-6 border-t",children:[(0,o_.jsx)("button",{type:"button",onClick:a,className:y9.button.secondary,children:"Cancel"}),(0,o_.jsx)("button",{onClick:async()=>{try{if(!c||!c.id)return console.error("User data is missing or incomplete"),void vT().fire({icon:"error",title:"Error",text:"User data is missing or incomplete"});console.log("Updating user:",c.id,"with room:",f);const e=wm(s_,"student"===l?"students":"teachers",c.id);if(await Cg(e,{roomAssigned:f}),f){const e=wm(s_,"rooms",f);await Cg(e,{status:"occupied"})}if(c.roomAssigned&&c.roomAssigned!==f){const e=wm(s_,"rooms",c.roomAssigned);await Cg(e,{status:"available"})}vT().fire({icon:"success",title:"Room Assigned Successfully",showConfirmButton:!1,timer:1500,position:"top-end",toast:!0}),u((e=>e?{...e,roomAssigned:f}:null)),b(),v(!0),setTimeout((()=>{v(!1)}),3e3)}catch(Zg){console.error("Error assigning room:",Zg),vT().fire({icon:"error",title:"Error",text:`Failed to assign room: ${Zg instanceof Error?Zg.message:"Unknown error"}`}),v(!1)}},className:y9.button.primary,children:f?"Assign Selected Room":"Clear Room Assignment"})]})]})]})}):null},x9=()=>{const{currentUser:e}=c_(),[t,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(""),[g,y]=(0,r.useState)({department:"all",yearLevel:"all",status:"all"}),[v,b]=(0,r.useState)({key:"name",direction:"asc"}),[x,w]=(0,r.useState)(!1),[_,j]=(0,r.useState)("");(0,r.useEffect)((()=>{const e=Ag(ag(xm(s_,"students"),dg("createdAt","desc")),(e=>{const t=[];e.forEach((e=>{t.push({id:e.id,...e.data()})})),s(t),o(!1)}),(e=>{console.error("Error fetching students:",e),vT().fire("Error","Failed to fetch students data","error"),o(!1)}));return()=>e()}),[]);const S=(0,r.useMemo)((()=>Array.from(new Set(i.map((e=>e.department))))),[i]),E=(0,r.useMemo)((()=>Array.from(new Set(i.map((e=>e.yearLevel)))).sort()),[i]),N=(0,r.useMemo)((()=>i.filter((e=>("all"===g.department||e.department===g.department)&&("all"===g.yearLevel||e.yearLevel.toString()===g.yearLevel)&&("all"===g.status||e.status===g.status)&&(""===p||e.name.toLowerCase().includes(p.toLowerCase())||e.email.toLowerCase().includes(p.toLowerCase())||e.studentId.toLowerCase().includes(p.toLowerCase())))).sort(((e,t)=>{const n=e[v.key],r=t[v.key];return"string"===typeof n&&"string"===typeof r?"asc"===v.direction?n.localeCompare(r):r.localeCompare(n):"asc"===v.direction?n-r:r-n}))),[i,g,p,v]),k=(0,r.useMemo)((()=>(e=>{const t={total:e.length,active:e.filter((e=>"active"===e.status)).length,inactive:e.filter((e=>"inactive"===e.status)).length,byDepartment:{},byYearLevel:{},byStatus:{active:0,inactive:0}};return e.forEach((e=>{var n;e.department&&(t.byDepartment[e.department]||(t.byDepartment[e.department]=0),t.byDepartment[e.department]++);const r=null===(n=e.yearLevel)||void 0===n?void 0:n.toString();r&&(t.byYearLevel[r]||(t.byYearLevel[r]=0),t.byYearLevel[r]++),t.byStatus[e.status]++})),t})(N)),[N]),C=e=>1===e?"st":2===e?"nd":3===e?"rd":"th";return(0,o_.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("main",{className:`flex-1 transition-all duration-300 ${t?"ml-20":"ml-64"} p-8 overflow-y-auto`,children:(0,o_.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,o_.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)(JA,{className:"h-10 w-10 text-indigo-600 mr-3"}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Students"}),(0,o_.jsx)("p",{className:"text-gray-600",children:"Manage and monitor student records"})]})]}),(0,o_.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)(l9,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,o_.jsx)("input",{type:"text",placeholder:"Search students...",value:p,onChange:e=>m(e.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,o_.jsxs)("select",{value:g.department,onChange:e=>y((t=>({...t,department:e.target.value}))),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,o_.jsx)("option",{value:"all",children:"All Departments"}),S.map((e=>(0,o_.jsx)("option",{value:e,children:e},e)))]}),(0,o_.jsxs)("select",{value:g.yearLevel,onChange:e=>y((t=>({...t,yearLevel:e.target.value}))),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,o_.jsx)("option",{value:"all",children:"All Year Levels"}),E.map((e=>(0,o_.jsx)("option",{value:e,children:e},e)))]}),(0,o_.jsx)("button",{onClick:()=>d(!0),className:"p-2 rounded-lg bg-indigo-100 hover:bg-indigo-200 text-indigo-600",children:(0,o_.jsx)(sO,{className:"h-5 w-5"})})]})]}),(0,o_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,o_.jsx)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-gray-600",children:"Total Students"}),(0,o_.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:k.total})]}),(0,o_.jsx)(JA,{className:"h-8 w-8 text-indigo-600"})]})}),(0,o_.jsx)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-gray-600",children:"Active Students"}),(0,o_.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:k.active})]}),(0,o_.jsx)(QI,{className:"h-8 w-8 text-green-600"})]})}),(0,o_.jsx)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6",children:(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-gray-600",children:"Inactive Students"}),(0,o_.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:k.inactive})]}),(0,o_.jsx)(JI,{className:"h-8 w-8 text-red-600"})]})})]}),(0,o_.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(0,o_.jsx)("div",{className:"overflow-x-auto",children:(0,o_.jsxs)("table",{className:"w-full",children:[(0,o_.jsx)("thead",{className:"bg-gray-50",children:(0,o_.jsxs)("tr",{children:[(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>{return e="name",void b((t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})));var e},children:(0,o_.jsxs)("div",{className:"flex items-center gap-2",children:["Name","name"===v.key&&("asc"===v.direction?(0,o_.jsx)(u9,{className:"h-4 w-4"}):(0,o_.jsx)(h9,{className:"h-4 w-4"}))]})}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Year Level"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,o_.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,o_.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(0,o_.jsx)(NA,{children:N.map((e=>(0,o_.jsxs)(nT.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"hover:bg-gray-50 transition",children:[(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o_.jsx)("div",{className:"flex items-center",children:(0,o_.jsxs)("div",{className:"ml-4",children:[(0,o_.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,o_.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})})}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o_.jsx)("div",{className:"text-sm text-gray-900",children:e.studentId})}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o_.jsx)("div",{className:"text-sm text-gray-900",children:e.department})}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o_.jsx)("div",{className:"text-sm text-gray-900",children:e.yearLevel})}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o_.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,o_.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o_.jsx)("button",{onClick:()=>f(e),className:"text-indigo-600 hover:text-indigo-900",children:(0,o_.jsx)(p9,{className:"h-5 w-5"})}),(0,o_.jsx)("button",{onClick:()=>(async e=>{try{await vT().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async t=>{t.isConfirmed&&(await Tg(wm(s_,"students",e)),vT().fire("Deleted!","Student has been deleted.","success"))}))}catch(Zg){console.error("Error deleting student:",Zg),vT().fire("Error","Failed to delete student","error")}})(e.id),className:"text-red-600 hover:text-red-900",children:(0,o_.jsx)(f6,{className:"h-5 w-5"})}),(0,o_.jsx)("button",{onClick:()=>{return t=e.id,j(t),void w(!0);var t},className:y9.button.secondary,children:"View/Edit Details"})]})})]},e.id)))})})]})})})]})}),(0,o_.jsx)(NA,{children:u&&(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,o_.jsxs)(nT.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-xl p-6 max-w-lg w-full",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o_.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Student Statistics"}),(0,o_.jsx)("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,o_.jsx)(cA,{className:"h-6 w-6 text-gray-500"})})]}),(0,o_.jsxs)("div",{className:"space-y-6",children:[(0,o_.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o_.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,o_.jsx)("p",{className:"text-sm text-indigo-600 mb-1",children:"Total Students"}),(0,o_.jsx)("p",{className:"text-2xl font-bold text-indigo-900",children:k.total})]}),(0,o_.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,o_.jsx)("p",{className:"text-sm text-green-600 mb-1",children:"Active Students"}),(0,o_.jsx)("p",{className:"text-2xl font-bold text-green-900",children:k.active})]})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Students by Department"}),(0,o_.jsx)("div",{className:"space-y-2",children:Object.entries(k.byDepartment).map((e=>{let[t,n]=e;return(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsx)("span",{className:"text-gray-600",children:t}),(0,o_.jsx)("span",{className:"font-semibold text-gray-800",children:n})]},t)}))})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Students by Year Level"}),(0,o_.jsx)("div",{className:"space-y-2",children:Object.entries(k.byYearLevel).map((e=>{let[t,n]=e;return(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsx)("span",{className:"text-gray-600",children:`${t}${C(parseInt(t))} Year`}),(0,o_.jsx)("span",{className:"font-semibold text-gray-800",children:n})]},t)}))})]})]})]})},"stats-modal")}),(0,o_.jsx)(b9,{isOpen:x,onClose:()=>w(!1),userId:_,userType:"student"})]})};function w9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"}))}const _9=r.forwardRef(w9);function j9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 0 1-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 0 1 6.126 3.537ZM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 0 1 0 .75l-1.732 3c-.229.397-.76.5-1.067.161A5.23 5.23 0 0 1 6.75 12a5.23 5.23 0 0 1 1.37-3.536ZM10.878 17.13c-.447-.098-.623-.608-.394-1.004l1.733-3.002a.75.75 0 0 1 .65-.375h3.465c.457 0 .81.407.672.842a5.252 5.252 0 0 1-6.126 3.539Z"}),r.createElement("path",{fillRule:"evenodd",d:"M21 12.75a.75.75 0 1 0 0-1.5h-.783a8.22 8.22 0 0 0-.237-1.357l.734-.267a.75.75 0 1 0-.513-1.41l-.735.268a8.24 8.24 0 0 0-.689-1.192l.6-.503a.75.75 0 1 0-.964-1.149l-.6.504a8.3 8.3 0 0 0-1.054-.885l.391-.678a.75.75 0 1 0-1.299-.75l-.39.676a8.188 8.188 0 0 0-1.295-.47l.136-.77a.75.75 0 0 0-1.477-.26l-.136.77a8.36 8.36 0 0 0-1.377 0l-.136-.77a.75.75 0 1 0-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 0 0-1.3.75l.392.678a8.29 8.29 0 0 0-1.054.885l-.6-.504a.75.75 0 1 0-.965 1.149l.6.503a8.243 8.243 0 0 0-.689 1.192L3.8 8.216a.75.75 0 1 0-.513 1.41l.735.267a8.222 8.222 0 0 0-.238 1.356h-.783a.75.75 0 0 0 0 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 0 0 .513 1.41l.735-.268c.197.417.428.816.69 1.191l-.6.504a.75.75 0 0 0 .963 1.15l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 0 0 1.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.77a.75.75 0 0 0 1.477.261l.137-.772a8.332 8.332 0 0 0 1.376 0l.136.772a.75.75 0 1 0 1.477-.26l-.136-.771a8.19 8.19 0 0 0 1.294-.47l.391.677a.75.75 0 0 0 1.3-.75l-.393-.679a8.29 8.29 0 0 0 1.054-.885l.601.504a.75.75 0 0 0 .964-1.15l-.6-.503c.261-.375.492-.774.69-1.191l.735.267a.75.75 0 1 0 .512-1.41l-.734-.267c.115-.439.195-.892.237-1.356h.784Zm-2.657-3.06a6.744 6.744 0 0 0-1.19-2.053 6.784 6.784 0 0 0-1.82-1.51A6.705 6.705 0 0 0 12 5.25a6.8 6.8 0 0 0-1.225.11 6.7 6.7 0 0 0-2.15.793 6.784 6.784 0 0 0-2.952 3.489.76.76 0 0 1-.036.098A6.74 6.74 0 0 0 5.251 12a6.74 6.74 0 0 0 3.366 5.842l.009.005a6.704 6.704 0 0 0 2.18.798l.022.003a6.792 6.792 0 0 0 2.368-.004 6.704 6.704 0 0 0 2.205-.811 6.785 6.785 0 0 0 1.762-1.484l.009-.01.009-.01a6.743 6.743 0 0 0 1.18-2.066c.253-.707.39-1.469.39-2.263a6.74 6.74 0 0 0-.408-2.309Z",clipRule:"evenodd"}))}const S9=r.forwardRef(j9),E9=()=>{var e,t;const{currentUser:n}=c_(),[i,s]=(0,r.useState)(!1),a={profile:{icon:aT,title:"Profile Settings",description:"Manage your personal information",content:(0,o_.jsxs)("div",{className:"space-y-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Full Name"}),(0,o_.jsx)("input",{type:"text",defaultValue:null!==(e=null===n||void 0===n?void 0:n.fullName)&&void 0!==e?e:void 0,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Email"}),(0,o_.jsx)("input",{type:"email",defaultValue:null!==(t=null===n||void 0===n?void 0:n.email)&&void 0!==t?t:void 0,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})},security:{icon:iT,title:"Security Settings",description:"Update your password and security preferences",content:(0,o_.jsxs)("div",{className:"space-y-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Current Password"}),(0,o_.jsx)("input",{type:"password",className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"New Password"}),(0,o_.jsx)("input",{type:"password",className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Confirm New Password"}),(0,o_.jsx)("input",{type:"password",className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})},notifications:{icon:_9,title:"Notification Settings",description:"Manage your notification preferences",content:(0,o_.jsx)("div",{})},general:{icon:S9,title:"General Settings",description:"Configure general application settings",content:(0,o_.jsx)("div",{})}},[o,l]=(0,r.useState)(0);return(0,o_.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("div",{className:`flex-1 transition-all duration-300 ${i?"ml-20":"ml-64"} p-8 overflow-y-auto`,children:(0,o_.jsxs)("div",{className:"container mx-auto",children:[(0,o_.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,o_.jsxs)("h1",{className:"text-3xl font-bold text-blue-800 flex items-center",children:[(0,o_.jsx)(S9,{className:"h-10 w-10 mr-3 text-blue-600"}),"Settings"]})}),(0,o_.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,o_.jsx)("div",{className:"col-span-3 bg-white rounded-xl shadow-md p-4",children:Object.keys(a).map(((e,t)=>(0,o_.jsx)("button",{onClick:()=>l(t),className:"w-full text-left px-4 py-3 rounded-lg mb-2 transition "+(o===t?"bg-blue-100 text-blue-800":"hover:bg-blue-50 text-blue-600"),children:(0,o_.jsx)("div",{className:"flex items-center",children:(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"font-semibold",children:a[e].title}),(0,o_.jsx)("p",{className:"text-xs text-blue-400",children:a[e].description})]})})},t)))}),(0,o_.jsxs)("div",{className:"col-span-9 bg-white rounded-xl shadow-md p-6",children:[(0,o_.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-6 flex items-center",children:"profile"===Object.keys(a)[o]?"Profile Settings":"security"===Object.keys(a)[o]?"Security Settings":"notifications"===Object.keys(a)[o]?"Notification Settings":"General Settings"}),"profile"===Object.keys(a)[o]?a.profile.content:"security"===Object.keys(a)[o]?a.security.content:"notifications"===Object.keys(a)[o]?a.notifications.content:a.general.content,(0,o_.jsx)("div",{className:"mt-6 flex justify-end",children:(0,o_.jsxs)("button",{className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[(0,o_.jsx)(_9,{className:"h-5 w-5 mr-2"}),"Save Changes"]})})]})]})]})})]})},N9=()=>{const{currentUser:e}=c_(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,o]=(0,r.useState)(new Date),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{if(null!==e&&void 0!==e&&e.uid)try{const i=ag(xm(s_,"classes"),lg("instructorId","==",e.uid)),a=await Ng(i),o=[],l=new Set;for(const e of a.docs){var t,r;const n=e.data(),i=await Ng(ag(xm(s_,"subjects"),lg("code","==",n.subjectCode))),s=ag(xm(s_,"enrollments"),lg("classId","==",e.id)),a=await Ng(s);l.add(n.department),o.push({...n,id:e.id,subjectName:(null===(t=i.docs[0])||void 0===t||null===(r=t.data())||void 0===r?void 0:r.name)||"Unknown Subject",studentCount:a.size})}n(o),c(Array.from(l)),s(!1)}catch(Zg){console.error("Error fetching classes:",Zg),s(!1)}})()}),[e]);const h=()=>{const e=s4(a,"EEEE").toLowerCase();return t.filter((t=>t.days.includes(e)))};return i?(0,o_.jsxs)("div",{className:"flex h-screen",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("div",{className:"flex-1 p-8",children:(0,o_.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,o_.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})})]}):(0,o_.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("div",{className:`flex-1 transition-all duration-300 ease-in-out ${u?"ml-20":"ml-64"} overflow-y-auto`,children:(0,o_.jsxs)("div",{className:"p-8",children:[(0,o_.jsxs)("div",{className:"mb-6",children:[(0,o_.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"My Classes"}),(0,o_.jsx)("input",{type:"date",value:s4(a,"yyyy-MM-dd"),onChange:e=>o(new Date(e.target.value)),className:"px-4 py-2 border rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),l.map((e=>{const t=(e=>h().filter((t=>t.department===e)))(e);return 0===t.length?null:(0,o_.jsxs)("div",{className:"mb-8",children:[(0,o_.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:e}),(0,o_.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((e=>(0,o_.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.subjectName}),(0,o_.jsx)("p",{className:"text-sm text-gray-600",children:e.subjectCode})]}),(0,o_.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:["Room ",e.roomNumber]})]}),(0,o_.jsxs)("div",{className:"space-y-2",children:[(0,o_.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,o_.jsx)("span",{className:"text-gray-600",children:"Time:"}),(0,o_.jsxs)("span",{className:"text-gray-800",children:[e.startTime," - ",e.endTime]})]}),(0,o_.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,o_.jsx)("span",{className:"text-gray-600",children:"Students:"}),(0,o_.jsx)("span",{className:"text-gray-800",children:e.studentCount||0})]}),(0,o_.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,o_.jsx)("span",{className:"text-gray-600",children:"Days:"}),(0,o_.jsx)("span",{className:"text-gray-800",children:e.days.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(", ")})]})]})]},e.id)))})]},e)})),0===h().length&&(0,o_.jsx)("div",{className:"text-center py-12",children:(0,o_.jsxs)("p",{className:"text-gray-600 text-lg",children:["No classes scheduled for ",s4(a,"EEEE, MMMM do, yyyy")]})})]})})]})},k9=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)({department:"all",day:"all",semester:"all"}),{currentUser:f}=c_(),p="admin"===(null===f||void 0===f?void 0:f.role),m=(null===f||void 0===f||f.role,async()=>{try{a(!0);const e=xm(s_,"subjects"),n=await Ng(e),r=new Map(n.docs.map((e=>{const t=e.data();return[e.id,{id:e.id,code:t.code||"",name:t.name||""}]}))),i=xm(s_,"teachers"),s=await Ng(i),o=[];s.docs.forEach((e=>{const t=e.data(),n=(t.schedules||[]).map(((n,i)=>{const s=n.subject?r.get(n.subject):null;return{...n,id:`${e.id}-${n.section}`,subject:s?s.name:n.subject,subjectCode:s?s.code:n.subjectCode,instructor:t.fullName,department:t.department,semester:t.currentSemester||"Current Semester"}}));o.push(...n)})),o.sort(((e,t)=>{const n=e=>{const[t,n]=e.split(":").map(Number);return 60*t+n};return n(e.startTime)-n(t.startTime)})),t(o),a(!1)}catch(Zg){console.error("Error fetching schedules:",Zg),vT().fire("Error","Failed to fetch schedules","error"),a(!1)}});(0,r.useEffect)((()=>{if(f&&"admin"===f.role)m();else{if(f){const e=Ag(ag(xm(s_,"teachers"),lg("uid","==",f.uid)),(async e=>{if(!e.empty){const n=e.docs[0],r=n.data().schedules||[];t(r.map(((e,t)=>({...e,id:`${n.id}_${t}`}))))}a(!1)}),(e=>{console.error("Error fetching schedules:",e),vT().fire({icon:"error",title:"Fetch Error",text:e.message||"Failed to fetch schedules",confirmButtonColor:"#3b82f6"}),a(!1)}));return()=>e()}a(!1)}}),[f]);const g=(0,r.useMemo)((()=>e.filter((e=>{var t,n,r,i;const s=!c||(null===(t=e.subject)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.instructor)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.department)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))||(null===(i=e.roomNumber)||void 0===i?void 0:i.toLowerCase().includes(c.toLowerCase())),a="all"===d.department||e.department===d.department,o="all"===d.day||e.days&&e.days.includes(d.day),l="all"===d.semester||e.semester===d.semester;return s&&a&&o&&l}))),[e,c,d]),{departments:y,days:v,semesters:b}=(()=>{const t=Array.from(new Set(e.map((e=>e.department||"Unassigned")))),n=Array.from(new Set(e.flatMap((e=>e.days||[])))),r=Array.from(new Set(e.map((e=>e.semester||"Current Semester"))));return{departments:t,days:n,semesters:r}})();return(0,o_.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,o_.jsx)(GA,{}),(0,o_.jsxs)("div",{className:`\n        flex-1 p-8 transition-all duration-300 \n        ${n?"ml-20":"ml-64"}\n        overflow-y-auto\n      `,children:[(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,o_.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Course Schedules"}),(0,o_.jsx)("p",{className:"text-gray-600",children:"View and manage course schedules across departments"})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8 flex flex-wrap gap-4 items-center justify-between",children:[(0,o_.jsx)("div",{className:"flex-grow max-w-md",children:(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("input",{type:"text",placeholder:"Search schedules...",value:c,onChange:e=>u(e.target.value),className:" w-full px-4 py-2 pl-10  border border-gray-300 rounded-lg  focus:outline-none focus:ring-2 focus:ring-primary-500 "}),(0,o_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-3 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o_.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),(0,o_.jsxs)("div",{className:"flex space-x-4",children:[(0,o_.jsxs)("select",{value:d.department,onChange:e=>h((t=>({...t,department:e.target.value}))),className:" px-4 py-2 border border-gray-300 rounded-lg  focus:outline-none focus:ring-2 focus:ring-primary-500 ",children:[(0,o_.jsx)("option",{value:"all",children:"All Departments"}),y.map((e=>(0,o_.jsx)("option",{value:e,children:e},e)))]}),(0,o_.jsxs)("select",{value:d.day,onChange:e=>h((t=>({...t,day:e.target.value}))),className:" px-4 py-2 border border-gray-300 rounded-lg  focus:outline-none focus:ring-2 focus:ring-primary-500 ",children:[(0,o_.jsx)("option",{value:"all",children:"All Days"}),v.map((e=>(0,o_.jsx)("option",{value:e,children:e},e)))]}),(0,o_.jsxs)("select",{value:d.semester,onChange:e=>h((t=>({...t,semester:e.target.value}))),className:" px-4 py-2 border border-gray-300 rounded-lg  focus:outline-none focus:ring-2 focus:ring-primary-500 ",children:[(0,o_.jsx)("option",{value:"all",children:"All Semesters"}),b.map((e=>(0,o_.jsx)("option",{value:e,children:e},e)))]}),p&&(0,o_.jsxs)("button",{onClick:()=>l(!0),className:" px-4 py-2 bg-primary-500 text-white  rounded-lg hover:bg-primary-600  transition-colors flex items-center ",children:[(0,o_.jsx)(m6,{className:"w-5 h-5 mr-2"}),"Add Schedule"]})]})]}),s?(0,o_.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o_.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-primary-500"})}):0===g.length?(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16 bg-white rounded-2xl shadow-md",children:[(0,o_.jsx)("p",{className:"text-xl text-gray-600 mb-4",children:"No schedules found"}),(0,o_.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or filter options"})]}):(0,o_.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((e=>(e=>{var t;const n={"Computer Science":"bg-blue-50 border-blue-200 text-blue-800",Mathematics:"bg-green-50 border-green-200 text-green-800",Physics:"bg-purple-50 border-purple-200 text-purple-800",Engineering:"bg-indigo-50 border-indigo-200 text-indigo-800",default:"bg-gray-50 border-gray-200 text-gray-800"}[e.department||"default"];return(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`\n          ${n}\n          rounded-2xl p-6 \n          border \n          shadow-md \n          hover:shadow-lg \n          transition-all \n          duration-300 \n          transform \n          hover:-translate-y-2\n          space-y-4\n        `,children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.subject||"Unassigned Subject"}),(0,o_.jsxs)("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[(0,o_.jsxs)("span",{className:"flex items-center",children:[(0,o_.jsx)(oO,{className:"w-4 h-4 mr-1"}),e.startTime," - ",e.endTime]}),(0,o_.jsxs)("span",{className:"flex items-center",children:[(0,o_.jsx)(cO,{className:"w-4 h-4 mr-1"}),(null===(t=e.days)||void 0===t?void 0:t.join(", "))||"N/A"]})]})]}),(0,o_.jsxs)("div",{className:"text-right",children:[(0,o_.jsxs)("p",{className:"text-sm font-medium text-gray-500",children:["Room: ",e.roomNumber||"TBD"]}),(0,o_.jsx)("p",{className:"text-sm text-gray-600",children:e.instructor||"Unassigned"})]})]}),(0,o_.jsxs)("div",{className:"border-t border-gray-200 pt-3 mt-3 flex justify-between items-center",children:[(0,o_.jsx)("span",{className:"text-xs font-medium px-3 py-1 rounded-full  bg-gray-100 text-gray-600",children:e.department||"Unassigned Department"}),(0,o_.jsx)("span",{className:"text-xs font-medium px-3 py-1 rounded-full  bg-gray-100 text-gray-600",children:e.semester||"Current Semester"})]})]},e.id)})(e)))})]})]})};function C9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75H12a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const T9=r.forwardRef(C9),I9={"Computer Science":"bg-blue-100 text-blue-800",Mathematics:"bg-green-100 text-green-800",Physics:"bg-purple-100 text-purple-800",Biology:"bg-teal-100 text-teal-800",Chemistry:"bg-red-100 text-red-800",default:"bg-gray-100 text-gray-800"},A9=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(null),[o,l]=(0,r.useState)("all"),[c,u]=(0,r.useState)({key:"day",direction:"asc"}),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)({subject:"",room:"",day:"Monday",startTime:"08:00",endTime:"09:00",department:"",status:"active"}),[y,v]=(0,r.useState)([]),[b,x]=(0,r.useState)(!1),{currentUser:w}=c_();(0,r.useEffect)((()=>{(async()=>{try{x(!0);const e=xm(s_,"teachers"),n=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()}))),r=Array.from(new Set(n.map((e=>e.department)))).filter(Boolean);t(n),i(r),x(!1)}catch(Zg){console.error("Error fetching data:",Zg),vT().fire({icon:"error",title:"Error",text:"Failed to fetch teachers and departments"}),x(!1)}})()}),[]);const _=e=>{const[t,n]=e.split(":").map(Number),r=t>=12?"PM":"AM";return`${t%12||12}:${n.toString().padStart(2,"0")} ${r}`},j={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Sunday:7},S=(0,r.useMemo)((()=>s&&s.schedules?[...s.schedules||[]].sort(((e,t)=>{if("day"===c.key){const n=(j[e.day]||8)-(j[t.day]||8);return"asc"===c.direction?n:-n}{var n,r;const i=e=>{var t;return(null===(t=e.subjectDetails)||void 0===t?void 0:t.name)||e.subject},s="subject"===c.key?i(e):null!==(n=e[c.key])&&void 0!==n?n:"",a="subject"===c.key?i(t):null!==(r=t[c.key])&&void 0!==r?r:"",o=String(s).localeCompare(String(a));return"asc"===c.direction?o:-o}})):[]),[s,c]),E=(0,r.useMemo)((()=>"all"===o?e:e.filter((e=>e.department===o))),[e,o]),N=e=>I9[e]||I9.default;return!w||"admin"!==w.role&&"instructor"!==w.role?(0,o_.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,o_.jsxs)("div",{className:"text-center",children:[(0,o_.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Access Denied"}),(0,o_.jsx)("p",{className:"mt-2 text-gray-600",children:"You don't have permission to view this page."})]})}):(0,o_.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("div",{className:"flex-1 transition-all duration-300 "+(f?"ml-20":"ml-64"),children:(0,o_.jsx)("div",{className:"p-8",children:(0,o_.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,o_.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Schedule Management"}),(0,o_.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage schedules by teacher and department"})]})}),(0,o_.jsxs)("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white p-4 rounded-xl shadow-lg",children:[(0,o_.jsxs)("div",{className:"flex items-center mb-4",children:[(0,o_.jsx)(oP,{className:"h-5 w-5 mr-2 text-indigo-600"}),(0,o_.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter by Department"})]}),(0,o_.jsxs)("select",{className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:o,onChange:e=>l(e.target.value),children:[(0,o_.jsx)("option",{value:"all",children:"All Departments"}),n.map((e=>(0,o_.jsx)("option",{value:e,children:e},e)))]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"bg-white p-4 rounded-xl shadow-lg",children:[(0,o_.jsxs)("div",{className:"flex items-center mb-4",children:[(0,o_.jsx)(T9,{className:"h-5 w-5 mr-2 text-indigo-600"}),(0,o_.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Select Teacher"})]}),(0,o_.jsxs)("select",{className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",onChange:t=>(t=>{const n=e.find((e=>e.id===t));a(n||null)})(t.target.value),value:s?s.id:"",children:[(0,o_.jsx)("option",{value:"",children:"Select a Teacher"}),E.map((e=>(0,o_.jsxs)("option",{value:e.id,children:[e.fullName," (",e.department,")"]},e.id)))]})]})]}),b&&(0,o_.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,o_.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}),!b&&s&&(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,o_.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900",children:[s.fullName,"'s Schedules"]}),(0,o_.jsx)("div",{className:`inline-block px-3 py-1 rounded-full mt-2 text-sm font-medium ${N(s.department)}`,children:s.department})]}),(0,o_.jsxs)("button",{onClick:()=>{a(null)},className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200",children:[(0,o_.jsx)(cA,{className:"h-5 w-5 mr-2"}),"Clear Selection"]})]}),S.length>0?(0,o_.jsx)("div",{className:"overflow-x-auto",children:(0,o_.jsxs)("table",{className:"w-full",children:[(0,o_.jsx)("thead",{className:"bg-gray-50",children:(0,o_.jsx)("tr",{children:["subject","day","startTime","room"].map((e=>(0,o_.jsx)("th",{onClick:()=>(e=>{u((t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})))})(e),className:"px-6 py-4 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors duration-200",children:(0,o_.jsxs)("div",{className:"flex items-center",children:[e.charAt(0).toUpperCase()+e.slice(1),c.key===e&&(0,o_.jsx)("span",{className:"ml-2 text-gray-400",children:"asc"===c.direction?"\u25b2":"\u25bc"})]})},e)))})}),(0,o_.jsx)("tbody",{className:"divide-y divide-gray-200",children:S.map((e=>{var t,n;return(0,o_.jsxs)(nT.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"hover:bg-indigo-50 transition-colors duration-200",children:[(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o_.jsxs)("div",{className:"flex flex-col",children:[(0,o_.jsx)("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${N((null===(t=e.subjectDetails)||void 0===t?void 0:t.department)||"default")}`,children:(null===(n=e.subjectDetails)||void 0===n?void 0:n.name)||e.subject}),e.subjectDetails&&(0,o_.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:e.subjectDetails.department})]})}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700",children:e.day}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700",children:(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)(oO,{className:"h-4 w-4 text-indigo-500 mr-2"}),_(e.startTime)," - ",_(e.endTime)]})}),(0,o_.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700",children:e.room})]},e.id)}))})]})}):(0,o_.jsxs)("div",{className:"p-6 text-center",children:[(0,o_.jsx)("h3",{className:"text-lg font-medium text-gray-600",children:"No Schedules Found"}),(0,o_.jsx)("p",{className:"text-gray-500 mt-2",children:"The selected teacher has no schedules assigned."})]})]}),!b&&!s&&(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[(0,o_.jsx)("h3",{className:"text-lg font-medium text-gray-600",children:"Select a Teacher"}),(0,o_.jsx)("p",{className:"text-gray-500 mt-2",children:"Please select a teacher from the dropdown above to view their schedules."})]})]})})})]})};function O9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),r.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const P9=r.forwardRef(O9),M9={"Computer Science":{bg:"bg-blue-50",border:"border-blue-400",text:"text-blue-800",icon:"text-blue-600",gradient:"from-blue-100 to-blue-200"},Mathematics:{bg:"bg-green-50",border:"border-green-400",text:"text-green-800",icon:"text-green-600",gradient:"from-green-100 to-green-200"},Physics:{bg:"bg-purple-50",border:"border-purple-400",text:"text-purple-800",icon:"text-purple-600",gradient:"from-purple-100 to-purple-200"},Engineering:{bg:"bg-red-50",border:"border-red-400",text:"text-red-800",icon:"text-red-600",gradient:"from-red-100 to-red-200"},Biology:{bg:"bg-teal-50",border:"border-teal-400",text:"text-teal-800",icon:"text-teal-600",gradient:"from-teal-100 to-teal-200"},Chemistry:{bg:"bg-yellow-50",border:"border-yellow-400",text:"text-yellow-800",icon:"text-yellow-600",gradient:"from-yellow-100 to-yellow-200"},default:{bg:"bg-gray-50",border:"border-gray-400",text:"text-gray-800",icon:"text-gray-600",gradient:"from-gray-100 to-gray-200"}},D9=()=>{const[e,t]=(0,r.useState)({}),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)("all"),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)("grid"),[y,v]=(0,r.useState)(!1),[b,x]=(0,r.useState)(!1),[w,_]=(0,r.useState)("name"),[j,S]=(0,r.useState)("asc"),[E,N]=(0,r.useState)(null),{currentUser:k}=c_();(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"teachers"),n=await Ng(e),r=new Set,s=[];n.docs.forEach((e=>{const t={id:e.id,...e.data()};s.push(t),t.department&&r.add(t.department)}));const o=xm(s_,"subjects"),c=await Ng(o),u={};c.docs.forEach((e=>{const t={id:e.id,...e.data()},n=t.department||"Unassigned";u[n]||(u[n]=[]),u[n].push(t)})),t(u),i(s),a(["all",...Array.from(r)]),l(!1)}catch(Zg){console.error("Error fetching subjects and teachers:",Zg),vT().fire("Error","Could not fetch subjects and teachers","error"),l(!1)}})()}),[]);const C=(0,r.useMemo)((()=>{let t=[];return Object.values(e).forEach((e=>{t=[...t,...e]})),t=t.filter((e=>{var t,n;return("all"===d||(null===(t=e.department)||void 0===t?void 0:t.toLowerCase())===d.toLowerCase())&&(""===c||e.name.toLowerCase().includes(c.toLowerCase())||e.code.toLowerCase().includes(c.toLowerCase())||(null===(n=e.department)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase())))})),t.sort(((e,t)=>{let n=0;switch(w){case"name":n=e.name.localeCompare(t.name);break;case"code":n=e.code.localeCompare(t.code);break;case"credits":n=(e.credits||0)-(t.credits||0)}return"asc"===j?n:-n}))}),[e,d,c,w,j]),T=(0,r.useMemo)((()=>{const e={totalSubjects:C.length,byDepartment:{},averageCredits:0,totalCredits:0};return C.forEach((t=>{const n=t.department||"Unassigned";e.byDepartment[n]=(e.byDepartment[n]||0)+1,e.totalCredits+=t.credits||0})),e.averageCredits=e.totalCredits/(C.length||1),e}),[C]),I=e=>{const t=M9[e.department]||M9.default;return(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},whileHover:{scale:1.05},className:`\n          ${t.bg} ${t.border}\n          border rounded-lg p-4 shadow-md transition-all duration-300 \n          bg-gradient-to-br ${t.gradient}\n          flex flex-col justify-between\n        `,children:[(0,o_.jsxs)("div",{children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,o_.jsx)("h4",{className:`\n              font-bold text-lg \n              ${t.text}\n            `,children:e.name}),(0,o_.jsx)(P9,{className:`h-6 w-6 \n                ${t.icon}\n              `})]}),(0,o_.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,o_.jsxs)("p",{children:[(0,o_.jsx)("strong",{children:"Code:"})," ",e.code]}),(0,o_.jsxs)("p",{children:[(0,o_.jsx)("strong",{children:"Department:"})," ",e.department||"N/A"]}),(0,o_.jsxs)("p",{children:[(0,o_.jsx)("strong",{children:"Credits:"})," ",e.credits||"N/A"]})]})]}),(0,o_.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(KB,{className:"h-5 w-5 text-gray-500"}),(0,o_.jsx)("span",{className:"text-sm text-gray-600",children:e.teacherName||"Unassigned"})]}),e.semester&&(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(oO,{className:"h-5 w-5 text-gray-500"}),(0,o_.jsx)("span",{className:"text-sm text-gray-600",children:e.semester})]})]})]},e.id)},A=e=>(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"bg-white border border-gray-200 rounded-lg p-4 flex justify-between items-center hover:shadow-md transition",children:[(0,o_.jsxs)("div",{className:"flex-1",children:[(0,o_.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:e.name}),(0,o_.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,o_.jsxs)("p",{children:[(0,o_.jsx)("strong",{children:"Code:"})," ",e.code]}),(0,o_.jsxs)("p",{children:[(0,o_.jsx)("strong",{children:"Department:"})," ",e.department||"N/A"]})]})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(KB,{className:"h-5 w-5 text-gray-500"}),(0,o_.jsx)("span",{className:"text-sm text-gray-600",children:e.teacherName||"Unassigned"})]}),(0,o_.jsx)(sO,{className:"h-6 w-6 text-primary-500"})]})]},e.id);return(0,o_.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto transition-all duration-300 "+(f?"ml-20":"ml-64"),children:(0,o_.jsxs)("div",{className:"container mx-auto p-6",children:[(0,o_.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,o_.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Subject Management"}),(0,o_.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)(l9,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,o_.jsx)("input",{type:"text",placeholder:"Search subjects...",value:c,onChange:e=>u(e.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,o_.jsx)("select",{value:d,onChange:e=>h(e.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:s.map((e=>(0,o_.jsx)("option",{value:e,children:"all"===e?"All Departments":e},e)))}),(0,o_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o_.jsxs)("select",{value:w,onChange:e=>_(e.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,o_.jsx)("option",{value:"name",children:"Sort by Name"}),(0,o_.jsx)("option",{value:"code",children:"Sort by Code"}),(0,o_.jsx)("option",{value:"credits",children:"Sort by Credits"})]}),(0,o_.jsx)("button",{onClick:()=>S((e=>"asc"===e?"desc":"asc")),className:"p-2 rounded-lg hover:bg-gray-100",children:"asc"===j?"\u2191":"\u2193"})]}),(0,o_.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o_.jsx)("button",{onClick:()=>g((e=>"grid"===e?"list":"grid")),className:"p-2 rounded-lg hover:bg-gray-100 text-gray-600",children:"grid"===m?"List View":"Grid View"}),(0,o_.jsx)("button",{onClick:()=>x(!0),className:"p-2 rounded-lg bg-indigo-100 hover:bg-indigo-200 text-indigo-600",children:(0,o_.jsx)(sO,{className:"h-5 w-5"})}),"admin"===(null===k||void 0===k?void 0:k.role)&&(0,o_.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[(0,o_.jsx)(m6,{className:"h-5 w-5"}),"Add Subject"]})]})]})]}),o?(0,o_.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o_.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,o_.jsx)(NA,{children:(0,o_.jsx)("div",{className:`\n                ${"grid"===m?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"}\n              `,children:C.map((e=>(0,o_.jsx)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},whileHover:{scale:1.05},className:`\n                      ${"grid"===m?I(e):A(e)}\n                    `},e.id)))})}),0===C.length&&!o&&(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center h-64",children:[(0,o_.jsx)(P9,{className:"h-16 w-16 text-gray-400 mb-4"}),(0,o_.jsx)("p",{className:"text-xl text-gray-600",children:"No subjects found matching your criteria"})]})]})}),(0,o_.jsx)(NA,{children:b&&(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,o_.jsxs)(nT.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-xl p-6 max-w-lg w-full",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o_.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Subject Statistics"}),(0,o_.jsx)("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,o_.jsx)(cA,{className:"h-6 w-6 text-gray-500"})})]}),(0,o_.jsxs)("div",{className:"space-y-6",children:[(0,o_.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o_.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,o_.jsx)("p",{className:"text-sm text-indigo-600 mb-1",children:"Total Subjects"}),(0,o_.jsx)("p",{className:"text-2xl font-bold text-indigo-900",children:T.totalSubjects})]}),(0,o_.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,o_.jsx)("p",{className:"text-sm text-green-600 mb-1",children:"Average Credits"}),(0,o_.jsx)("p",{className:"text-2xl font-bold text-green-900",children:T.averageCredits.toFixed(1)})]})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Subjects by Department"}),(0,o_.jsx)("div",{className:"space-y-2",children:Object.entries(T.byDepartment).map((e=>{let[t,n]=e;return(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsx)("span",{className:"text-gray-600",children:t}),(0,o_.jsx)("span",{className:"font-semibold text-gray-800",children:n})]},t)}))})]})]})]})},"stats-modal")}),(0,o_.jsx)(NA,{children:(y||E)&&(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},"add-edit-modal")})]})},R9={"Computer Science":"bg-blue-100 text-blue-800",Mathematics:"bg-green-100 text-green-800",Physics:"bg-purple-100 text-purple-800",Biology:"bg-teal-100 text-teal-800",Chemistry:"bg-red-100 text-red-800",default:"bg-gray-100 text-gray-800"},L9=()=>{const{currentUser:e}=c_(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)([]),[a,o]=(0,r.useState)("all"),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)({name:"",department:"",details:"",code:"",credits:0,prerequisites:[],learningObjectives:[],status:"active"});(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"subjects"),t=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()}))),r=xm(s_,"teachers"),i=await Ng(r),a=Array.from(new Set(i.docs.map((e=>e.data().department)).filter(Boolean)));n(t),s(a)}catch(Zg){console.error("Error fetching data:",Zg),vT().fire({icon:"error",title:"Error",text:"Failed to fetch subjects and departments. Please try again."})}})()}),[]);const p=(0,r.useMemo)((()=>"all"===a?t:t.filter((e=>e.department===a))),[t,a]);return e&&"admin"===e.role?(0,o_.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("div",{className:"flex-1 transition-all duration-300 "+(u?"ml-20":"ml-64"),children:(0,o_.jsx)("div",{className:"p-8",children:(0,o_.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Subject Management"}),(0,o_.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage subjects across different departments"})]}),(0,o_.jsxs)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{f({name:"",department:"",details:"",code:"",credits:0,prerequisites:[],learningObjectives:[],status:"active"}),c(!0)},className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors flex items-center",children:[(0,o_.jsx)(m6,{className:"h-5 w-5 mr-2"}),"Add New Subject"]})]}),(0,o_.jsx)("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white p-4 rounded-xl shadow",children:[(0,o_.jsxs)("div",{className:"flex items-center mb-4",children:[(0,o_.jsx)(oP,{className:"h-5 w-5 mr-2 text-gray-500"}),(0,o_.jsx)("h3",{className:"text-lg font-semibold",children:"Filter by Department"})]}),(0,o_.jsxs)("select",{className:"w-full p-2 border rounded-lg",value:a,onChange:e=>o(e.target.value),children:[(0,o_.jsx)("option",{value:"all",children:"All Departments"}),i.map((e=>(0,o_.jsx)("option",{value:e,children:e},e)))]})]})}),(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((e=>(0,o_.jsxs)(nT.div,{whileHover:{scale:1.05},className:`\n                    bg-white rounded-xl shadow-lg p-6 \n                    border-l-4 ${R9[e.department]||R9.default}\n                  `,children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o_.jsx)("h3",{className:"text-xl font-bold",children:e.name}),(0,o_.jsxs)("div",{className:"flex space-x-2",children:[(0,o_.jsx)(nT.button,{whileHover:{scale:1.1},onClick:()=>{f(e),c(!0)},className:"text-indigo-600 hover:text-indigo-800",children:(0,o_.jsx)(p9,{className:"h-5 w-5"})}),(0,o_.jsx)(nT.button,{whileHover:{scale:1.1},onClick:()=>(async e=>{if((await vT().fire({title:"Are you sure?",text:"Do you want to delete this subject?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await Tg(wm(s_,"subjects",e)),n((t=>t.filter((t=>t.id!==e)))),vT().fire({icon:"success",title:"Deleted!",text:"Subject has been deleted.",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}catch(Zg){console.error("Error deleting subject:",Zg),vT().fire({icon:"error",title:"Error",text:"Failed to delete subject. Please try again."})}})(e.id),className:"text-red-600 hover:text-red-800",children:(0,o_.jsx)(f6,{className:"h-5 w-5"})})]})]}),(0,o_.jsxs)("div",{className:"space-y-2",children:[(0,o_.jsx)("p",{className:"text-gray-600 mb-2",children:e.details||"No details provided"}),e.code&&(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Code:"}),(0,o_.jsx)("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.code})]}),void 0!==e.credits&&(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Credits:"}),(0,o_.jsx)("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.credits})]}),e.prerequisites&&e.prerequisites.length>0&&(0,o_.jsxs)("div",{children:[(0,o_.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Prerequisites:"}),(0,o_.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.prerequisites.map(((e,t)=>(0,o_.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e},t)))})]}),e.learningObjectives&&e.learningObjectives.length>0&&(0,o_.jsxs)("div",{children:[(0,o_.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Learning Objectives:"}),(0,o_.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-600 mt-1",children:e.learningObjectives.map(((e,t)=>(0,o_.jsx)("li",{children:e},t)))})]}),(0,o_.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,o_.jsx)("span",{className:`\n                        px-2 py-1 rounded-full text-xs font-medium\n                        ${"active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}\n                      `,children:e.status}),(0,o_.jsx)("span",{className:"text-sm text-gray-500",children:e.department})]})]})]},e.id)))}),(0,o_.jsx)(hA,{isOpen:l,onClose:()=>c(!1),title:h.id?"Edit Subject":"New Subject",children:(0,o_.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=xm(s_,"subjects");if(h.id){const e=wm(s_,"subjects",h.id),{id:t,...r}=h;await Cg(e,r),n((e=>e.map((e=>e.id===h.id?{...h}:e))))}else{const{id:t,...r}=h,i=await Ig(e,r);n((e=>[...e,{...h,id:i.id}]))}f({name:"",department:"",details:"",code:"",credits:0,prerequisites:[],learningObjectives:[],status:"active"}),c(!1),vT().fire({icon:"success",title:"Success",text:h.id?"Subject updated successfully":"Subject added successfully",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}catch(Zg){console.error("Error saving subject:",Zg),vT().fire({icon:"error",title:"Error",text:"Failed to save subject. Please try again."})}},className:"space-y-4 p-6",children:[(0,o_.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Subject Name"}),(0,o_.jsx)("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:h.name,onChange:e=>f({...h,name:e.target.value})})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Department"}),(0,o_.jsxs)("select",{required:!0,className:"w-full p-2 border rounded-lg",value:h.department,onChange:e=>f({...h,department:e.target.value}),children:[(0,o_.jsx)("option",{value:"",children:"Select Department"}),i.map((e=>(0,o_.jsx)("option",{value:e,children:e},e)))]})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Subject Code"}),(0,o_.jsx)("input",{type:"text",className:"w-full p-2 border rounded-lg",value:h.code,onChange:e=>f({...h,code:e.target.value})})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Credits"}),(0,o_.jsx)("input",{type:"number",className:"w-full p-2 border rounded-lg",value:h.credits,onChange:e=>f({...h,credits:parseInt(e.target.value)})})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Subject Details"}),(0,o_.jsx)("textarea",{className:"w-full p-2 border rounded-lg",value:h.details,onChange:e=>f({...h,details:e.target.value})})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,o_.jsxs)("select",{className:"w-full p-2 border rounded-lg",value:h.status,onChange:e=>f({...h,status:e.target.value}),children:[(0,o_.jsx)("option",{value:"active",children:"Active"}),(0,o_.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,o_.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,o_.jsx)("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),(0,o_.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:h.id?"Update Subject":"Create Subject"})]})]})})]})})})]}):(0,o_.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,o_.jsxs)("div",{className:"text-center",children:[(0,o_.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Access Denied"}),(0,o_.jsx)("p",{className:"mt-2 text-gray-600",children:"You don't have permission to view this page."})]})})};function F9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const B9=r.forwardRef(F9);function U9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const V9=r.forwardRef(U9),z9=()=>{const e=Array.from({length:30},(()=>({x:100*Math.random(),y:100*Math.random(),speedX:.3*(Math.random()-.5),speedY:.3*(Math.random()-.5)})));return(0,o_.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(((e,t)=>(0,o_.jsx)(nT.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:`${e.x}vw`,y:`${e.y}vh`,opacity:.6},animate:{x:`${e.x+50*e.speedX}vw`,y:`${e.y+50*e.speedY}vh`,opacity:[.6,.8,.6]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}},t)))})},$9=e=>{let{user:t,classStatus:n}=e;return(0,o_.jsx)(nT.nav,{className:"fixed top-0 left-0 right-0 bg-gray-900 border-b border-cyan-800 shadow-lg z-20",initial:{y:-100},animate:{y:0},transition:{duration:.5,type:"spring",stiffness:80},children:(0,o_.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o_.jsxs)(Ce,{to:"/instructor/dashboard",className:"text-cyan-400 hover:text-cyan-300 flex items-center gap-2",children:[(0,o_.jsx)(B9,{className:"w-5 h-5"}),(0,o_.jsx)("span",{className:"text-lg font-bold",children:"SmartEcoLock"})]}),(0,o_.jsxs)("div",{className:"text-cyan-300",children:[(0,o_.jsx)("span",{children:t.fullName})," \u2022 ",(0,o_.jsx)("span",{children:t.department})]})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o_.jsxs)("div",{className:`${n.color} px-3 py-1 rounded-full text-sm text-gray-900 flex items-center gap-2`,children:[(0,o_.jsx)(_I,{className:"w-4 h-4"}),n.status,": ",n.details]}),(0,o_.jsx)(aT,{className:"w-6 h-6 text-cyan-400"})]})]})})},H9=()=>{const e=te(),{currentUser:t}=c_(),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(null),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(new Date),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(null),[y,v]=(0,r.useState)(null),[b,x]=(0,r.useState)(""),[w,_]=(0,r.useState)("all"),[j,S]=(0,r.useState)("name"),[E,N]=(0,r.useState)("asc"),[k,C]=(0,r.useState)(null),[T,I]=(0,r.useState)(""),[A,O]=(0,r.useState)([]),[P,M]=(0,r.useState)({}),D=(0,r.useMemo)((()=>d.toLocaleString()),[d]);(0,r.useEffect)((()=>{const e=setInterval((()=>h(new Date)),1e3);return()=>clearInterval(e)}),[]),(0,r.useEffect)((()=>{(async()=>{if(t)try{const e=ag(xm(s_,"sections"),lg("instructorId","==",t.uid)),n=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()})));i(n),n.length>0&&a(n[0])}catch(Zg){console.error("Error fetching sections:",Zg),zI.error("Failed to load sections")}finally{u(!1)}})()}),[t]),(0,r.useEffect)((()=>{(async()=>{if(!s)return l([]),p(null),void u(!1);try{u(!0);const e=await Sg(wm(s_,"sections",s.id));if(!e.exists())return console.error("Section not found"),void l([]);const t=e.data().students||[];if(0===t.length)return l([]),p(s.startTime.toDate()),void u(!1);const n=ag(xm(s_,"students"),lg("role","==","student"),lg(new Cm("__name__"),"in",t)),r=(await Ng(n)).docs.map((e=>{const t=e.data();return{id:e.id,name:t.fullName||"",email:t.email||"",seatId:t.seatId||"",rfidUid:t.rfidUid||"",attendanceStatus:void 0,rfidAuthenticated:!1,weightAuthenticated:!1,timestamp:void 0,confirmed:!1,assignedSensorId:t.assignedSensorId||"",weight:void 0}}));l(r),p(s.startTime.toDate())}catch(Zg){console.error("Error fetching students:",Zg),zI.error("Failed to load students")}finally{u(!1)}})()}),[s]),(0,r.useEffect)((()=>{O(["Sensor1","Sensor2","Sensor3"])}),[]),(0,r.useEffect)((()=>{if(!s)return;const e=Hw(a_,"/Students"),t=Xw(e,(e=>{const t=e.val();if(!t)return;l((e=>e.map((e=>{const n=e.rfidUid;if(!n)return e;const r=t[n];if(!r||r.sectionId!==s.id)return e;const i=new Date(r.timestamp),a=r.weight||0,o=r["Class Status"];let l="absent";return"Present"===o?l="present":"Late"===o&&(l="late"),{...e,attendanceStatus:l,timestamp:i,confirmed:a>20,weight:a,weightAuthenticated:a>20,rfidAuthenticated:!0,assignedSensorId:r.sensor||e.assignedSensorId}}))));const n={};Object.keys(t).forEach((e=>{const r=t[e],i=o.find((t=>t.rfidUid===e));i&&r.sectionId===s.id&&(n[i.id]=r.weight||0)})),M(n)}));return()=>Qw(e,"value",t)}),[s,o]),(0,r.useEffect)((()=>{(async()=>{if(null!==t&&void 0!==t&&t.uid)try{const e=await Sg(wm(s_,"teachers",t.uid));if(!e.exists())return;const n=e.data().schedule||[],r=new Date,i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r.getDay()],s=r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),a=n.find((e=>e.day===i&&e.startTime<=s&&e.endTime>=s));if(a){C(a);const e=ag(xm(s_,"rooms"),lg("number","==",a.room)),t=await Ng(e);t.empty||I(t.docs[0].id)}}catch(Zg){console.error("Error fetching current schedule:",Zg)}})()}),[t]);const R=(e,t)=>{var n;const r=new Date;l((n=>n.map((n=>n.id===e?{...n,attendanceStatus:t,timestamp:r,confirmed:!0}:n)))),zI.success(`Marked ${t} for ${null===(n=o.find((t=>t.id===e)))||void 0===n?void 0:n.name} at ${r.toLocaleTimeString()}`)},L=(0,r.useMemo)((()=>{const e=o.length,t=o.filter((e=>"present"===e.attendanceStatus)).length,n=o.filter((e=>"late"===e.attendanceStatus)).length,r=o.filter((e=>"absent"===e.attendanceStatus)).length;return{totalStudents:e,present:t,late:n,absent:r,attendanceRate:e?(t+n)/e*100:0,punctualityRate:e?t/(t+n||1)*100:0}}),[o]),F=(0,r.useMemo)((()=>{let e=[...o];return b&&(e=e.filter((e=>e.name.toLowerCase().includes(b.toLowerCase())))),"all"!==w&&(e=e.filter((e=>e.attendanceStatus===w))),e.sort(((e,t)=>{if("name"===j)return"asc"===E?e.name.localeCompare(t.name):t.name.localeCompare(e.name);if("status"===j){const n={present:1,late:2,absent:3,pending:4,undefined:5},r=n[e.attendanceStatus||"undefined"],i=n[t.attendanceStatus||"undefined"];return"asc"===E?r-i:i-r}if("time"===j){const n=e.timestamp?e.timestamp.getTime():1/0,r=t.timestamp?t.timestamp.getTime():1/0;return"asc"===E?n-r:r-n}return 0})),e}),[o,b,w,j,E]),B=e=>{const t=void 0!==e.weight?(0,o_.jsxs)("span",{className:"ml-2 text-cyan-400",children:["(",e.weight.toFixed(1)," kg)"]}):null,n=e.timestamp?(0,o_.jsxs)("span",{className:"ml-2 text-gray-400 text-xs",children:["(",e.timestamp.toLocaleTimeString(),")"]}):null;if(e.rfidAuthenticated&&!e.weightAuthenticated)return(0,o_.jsxs)("span",{className:"text-yellow-400 flex items-center gap-1",children:[(0,o_.jsx)(oO,{className:"w-4 h-4"}),"Awaiting Weight Auth... ",t," ",n]});switch(e.attendanceStatus){case"present":return(0,o_.jsxs)("span",{className:"text-green-400",children:["Present ",t," ",n]});case"late":return(0,o_.jsxs)("span",{className:"text-yellow-400",children:["Late ",t," ",n]});case"absent":return(0,o_.jsxs)("span",{className:"text-red-400",children:["Absent ",t," ",n]});default:return(0,o_.jsxs)("span",{className:"text-gray-400",children:["Not Marked ",t," ",n]})}};return c?(0,o_.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 flex items-center justify-center",children:(0,o_.jsx)(nT.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-t-cyan-500 border-gray-700 rounded-full"})}):(0,o_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 text-white font-mono relative overflow-hidden",children:[(0,o_.jsx)(z9,{}),(0,o_.jsx)($9,{user:{role:(null===t||void 0===t?void 0:t.role)||"instructor",fullName:(null===t||void 0===t?void 0:t.fullName)||"Instructor",department:(null===t||void 0===t?void 0:t.department)||"Department"},classStatus:{status:"Taking Attendance",color:"bg-cyan-600",details:(null===s||void 0===s?void 0:s.name)||"No section selected",fullName:(null===t||void 0===t?void 0:t.fullName)||"Instructor"}}),(0,o_.jsxs)("div",{className:"relative z-10 px-6 py-8 pt-24",children:[(0,o_.jsxs)(nT.div,{className:"max-w-4xl mx-auto bg-gray-800 rounded-xl shadow-2xl p-8 border border-cyan-800 relative overflow-hidden",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,type:"spring",stiffness:80},children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)(nT.div,{className:"flex items-center justify-center mb-6",initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:100,delay:.2},children:[(0,o_.jsx)(_I,{className:"w-12 h-12 text-cyan-400 mr-4 animate-pulse"}),(0,o_.jsx)(nT.h1,{className:"text-3xl font-bold text-cyan-100",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:"Take Attendance"})]}),(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o_.jsxs)("select",{value:(null===s||void 0===s?void 0:s.id)||"",onChange:e=>a(n.find((t=>t.id===e.target.value))||null),className:"bg-gray-700 text-white border border-gray-600 rounded-lg p-2 focus:ring-2 focus:ring-cyan-500",children:[(0,o_.jsx)("option",{value:"",children:"Select Section"}),n.map((e=>(0,o_.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,o_.jsx)("div",{className:"text-cyan-300 text-sm",children:D})]}),k&&s&&(0,o_.jsxs)(nT.div,{className:"bg-gray-700 p-4 rounded-lg mb-6",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4},children:[(0,o_.jsx)("h3",{className:"text-lg font-semibold text-cyan-200",children:k.subject}),(0,o_.jsxs)("p",{className:"text-cyan-300",children:["Room ",k.room," \u2022 Section ",k.section," \u2022 ",k.startTime," -"," ",k.endTime," \u2022 ",k.day]})]}),s?F.length>0?(0,o_.jsx)("div",{className:"space-y-4",children:F.map((e=>(0,o_.jsxs)(nT.div,{className:"bg-gray-700 p-4 rounded-lg flex items-center justify-between",initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-cyan-100 font-medium",children:e.name}),(0,o_.jsxs)("p",{className:"text-gray-400 text-sm",children:["UID: ",e.rfidUid||"N/A"]}),(0,o_.jsx)("div",{className:"flex items-center text-sm",children:B(e)}),e.assignedSensorId&&(0,o_.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Sensor: ",e.assignedSensorId]})]}),(0,o_.jsxs)("div",{className:"flex space-x-2",children:[(0,o_.jsxs)("select",{value:e.assignedSensorId||"",onChange:t=>(async(e,t)=>{const n=o.find((t=>t.id===e));if(n&&t)try{const r=wm(s_,"students",e);await Cg(r,{assignedSensorId:t});const i=Hw(a_,`weightSensors/${T}/${t}`);await Ww(i,{rfidUid:n.rfidUid,weight:0}),l((n=>n.map((n=>n.id===e?{...n,assignedSensorId:t}:n)))),zI.success(`Student assigned to sensor ${t}`)}catch(Zg){console.error("Error assigning sensor:",Zg),zI.error("Failed to assign sensor")}else zI.error("Invalid student or sensor selection")})(e.id,t.target.value),className:"bg-gray-600 text-white border border-gray-500 rounded-lg p-1 text-sm",children:[(0,o_.jsx)("option",{value:"",children:"Assign Sensor"}),A.map((e=>(0,o_.jsx)("option",{value:e,children:e},e)))]}),(0,o_.jsx)("button",{onClick:()=>R(e.id,"present"),className:"p-2 rounded-full "+("present"===e.attendanceStatus?"bg-green-600":"bg-green-800 hover:bg-green-700"),children:(0,o_.jsx)(QI,{className:"w-5 h-5"})}),(0,o_.jsx)("button",{onClick:()=>R(e.id,"late"),className:"p-2 rounded-full "+("late"===e.attendanceStatus?"bg-yellow-600":"bg-yellow-800 hover:bg-yellow-700"),children:(0,o_.jsx)(oO,{className:"w-5 h-5"})}),(0,o_.jsx)("button",{onClick:()=>R(e.id,"absent"),className:"p-2 rounded-full "+("absent"===e.attendanceStatus?"bg-red-600":"bg-red-800 hover:bg-red-700"),children:(0,o_.jsx)(JI,{className:"w-5 h-5"})})]})]},e.id)))}):(0,o_.jsx)("p",{className:"text-cyan-300 text-center py-4",children:"No students found for this section."}):(0,o_.jsx)("p",{className:"text-cyan-300 text-center py-4",children:"Please select a section to view students."}),(0,o_.jsxs)(nT.div,{className:"mt-6 flex justify-between items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[s&&(0,o_.jsxs)("div",{className:"text-sm text-cyan-300",children:["Attendance: ",L.attendanceRate.toFixed(1),"% | Punctuality: ",L.punctualityRate.toFixed(1),"%"]}),(0,o_.jsxs)("div",{className:"flex space-x-4",children:[(0,o_.jsxs)("button",{onClick:()=>{const e=[["Name","Email","UID","Status","Time","Weight","Confirmed by Sensor"],...o.map((e=>[e.name,e.email,e.rfidUid||"N/A",e.attendanceStatus||"Not marked",e.timestamp?e.timestamp.toLocaleTimeString():"",e.weight?e.weight.toFixed(1):"N/A",e.confirmed?"Yes":"No"]))].map((e=>e.join(","))).join("\n"),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`attendance_${(null===s||void 0===s?void 0:s.name)||"unnamed"}_${(new Date).toLocaleDateString()}.csv`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},className:"bg-cyan-600 hover:bg-cyan-700 text-white p-3 rounded-lg flex items-center gap-2",disabled:!s,children:[(0,o_.jsx)(V9,{className:"w-5 h-5"}),"Export"]}),(0,o_.jsxs)(Ce,{to:"/instructor/attendance-management",className:"bg-cyan-600 hover:bg-cyan-700 text-white p-3 rounded-lg flex items-center gap-2",children:[(0,o_.jsx)(cO,{className:"w-5 h-5"}),"View Records"]}),(0,o_.jsxs)("button",{onClick:async()=>{if(s&&k)try{u(!0);const n=o.map((e=>({studentId:e.id,studentName:e.name,studentEmail:e.email,sectionId:s.id,sectionName:s.name,subject:k.subject,room:k.room,status:e.attendanceStatus||"absent",confirmed:e.confirmed||!1,rfidAuthenticated:e.rfidAuthenticated||!1,weightAuthenticated:e.weightAuthenticated||!1,timestamp:e.timestamp?Il.fromDate(e.timestamp):Il.now(),date:(new Date).toISOString().split("T")[0],submittedBy:{id:null===t||void 0===t?void 0:t.uid,name:null===t||void 0===t?void 0:t.fullName,role:null===t||void 0===t?void 0:t.role}}))),r=xm(s_,"attendanceRecords");await Promise.all(n.map((e=>Ig(r,e)))),zI.success("Attendance submitted successfully!"),e("/instructor/attendance-management")}catch(Zg){console.error("Error submitting attendance:",Zg),zI.error("Failed to submit attendance. Please try again.")}finally{u(!1)}else zI.error("Please select a section and ensure schedule is loaded")},className:"bg-cyan-600 hover:bg-cyan-700 text-white p-3 rounded-lg flex items-center gap-2 disabled:opacity-50",disabled:!s||0===o.length,children:[(0,o_.jsx)(QI,{className:"w-5 h-5"}),"Submit"]})]})]})]})]}),(0,o_.jsx)("footer",{className:"mt-8 text-center text-gray-400",children:(0,o_.jsx)("p",{children:"\xa9 2025 SmartEcoLock Tech System. All rights reserved."})}),m&&y&&(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,o_.jsxs)(nT.div,{initial:{scale:.9},animate:{scale:1},className:"bg-gray-800 p-6 rounded-xl shadow-2xl border border-cyan-800 max-w-md w-full",children:[(0,o_.jsx)("h2",{className:"text-xl font-bold text-cyan-100 mb-4",children:"Confirm Attendance"}),(0,o_.jsxs)("div",{className:"space-y-2 text-cyan-200",children:[(0,o_.jsxs)("p",{children:[(0,o_.jsx)("strong",{children:"Student:"})," ",m.name]}),(0,o_.jsxs)("p",{children:[(0,o_.jsx)("strong",{children:"Tap Time:"})," ",y.toLocaleString()]}),(0,o_.jsx)("p",{className:"text-sm text-gray-400",children:"Weight sensor confirmation pending..."})]}),(0,o_.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,o_.jsx)("button",{onClick:()=>{g(null),v(null)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:"Reject"}),(0,o_.jsx)("button",{onClick:()=>{if(m&&y&&f){const e=f.getTime(),t=y.getTime()<=e+9e5?"present":"late",n=new Date;l((e=>e.map((e=>e.id===m.id?{...e,attendanceStatus:t,rfidAuthenticated:!0,timestamp:n}:e))))}g(null),v(null)},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg",children:"Confirm"})]})]})})]})]})};function q9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M4.5 3.75a3 3 0 0 0-3 3v.75h21v-.75a3 3 0 0 0-3-3h-15Z"}),r.createElement("path",{fillRule:"evenodd",d:"M22.5 9.75h-21v7.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3v-7.5Zm-18 3.75a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z",clipRule:"evenodd"}))}const W9=r.forwardRef(q9);function Y9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{fillRule:"evenodd",d:"M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z",clipRule:"evenodd"}))}const K9=r.forwardRef(Y9),G9=()=>{const e=Array.from({length:30},(()=>({x:100*Math.random(),y:100*Math.random(),speedX:.3*(Math.random()-.5),speedY:.3*(Math.random()-.5)})));return(0,o_.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(((e,t)=>(0,o_.jsx)(nT.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:`${e.x}vw`,y:`${e.y}vh`,opacity:.6},animate:{x:`${e.x+50*e.speedX}vw`,y:`${e.y+50*e.speedY}vh`,opacity:[.6,.8,.6]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}},t)))})},X9=()=>{const[e,t]=(0,r.useState)({role:"student",fullName:"",idNumber:"",email:"",mobileNumber:"",department:"",yearLevel:"",yearsOfExperience:"",password:"",confirmPassword:"",sections:[],schedule:{days:[],startTime:"",endTime:""},section:"",subject:"",selectedSchedule:null,rfidUid:"",isAdmin:!1}),[n,i]=(0,r.useState)({subjects:[],sections:[],departments:[],courses:[]}),[s,a]=(0,r.useState)({fullName:!1,idNumber:!1,email:!1,mobileNumber:!1,department:!1,yearsOfExperience:!1,password:!1,confirmPassword:!1,yearLevel:!1,role:!1,sections:!1,scheduleDays:!1,scheduleTime:!1,section:!1,subject:!1,rfidUid:!1}),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)({hasUpper:!1,hasLower:!1,hasNumber:!1,hasMinLength:!1,hasSpecial:!1}),[m,g]=(0,r.useState)(1),[y,v]=(0,r.useState)(0),[b,x]=(0,r.useState)([]),[w,_]=(0,r.useState)([]),[j,S]=(0,r.useState)({fullName:!1,email:!1,password:!1,confirmPassword:!1,mobileNumber:!1,department:!1,yearLevel:!1,role:!1,sections:!1,scheduleDays:!1,scheduleTime:!1,section:!1,subject:!1,rfidUid:!1}),[E,N]=(0,r.useState)(!1),[k,C]=(0,r.useState)([]),[T,I]=(0,r.useState)(""),[A,O]=(0,r.useState)([]),[P,M]=(0,r.useState)(null),[D,R]=(0,r.useState)([]),[L,F]=(0,r.useState)([]),B=te(),U=[{id:1,title:"Account Type",description:"Choose your role"},{id:2,title:"Personal Info",description:"Basic information"},{id:3,title:"Department",description:"Academic details"},{id:4,title:"Security",description:"Set up password"}];(0,r.useEffect)((()=>{(()=>{const e=m/U.length*100;v(e)})()}),[m]),(0,r.useEffect)((()=>{(()=>{const e=Ag(xm(s_,"students"),(e=>{const t=new Set;e.forEach((e=>{const n=e.data().section;n&&t.add(n)})),i((e=>({...e,sections:Array.from(t).sort()})))})),t=["Computer Science","Information Technology","Electrical Engineering","Computer Engineering","Civil Engineering","Industrial Engineering","Mechanical Engineering","Chemical Engineering"];i((e=>({...e,departments:t,courses:t})))})()}),[]),(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"subjects"),t=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()})));x(t.filter((e=>"active"===e.status)))}catch(Zg){console.error("Error fetching subjects:",Zg)}})()}),[]),(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"teachers"),t=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()})));R(t)}catch(Zg){console.error("Error fetching teachers:",Zg)}})()}),[]),(0,r.useEffect)((()=>{(()=>{const t={hasUpper:/[A-Z]/.test(e.password),hasLower:/[a-z]/.test(e.password),hasNumber:/\d/.test(e.password),hasMinLength:e.password.length>=8,hasSpecial:/[^A-Za-z0-9]/.test(e.password)};p(t)})()}),[e.password]),(0,r.useEffect)((()=>{Hw(a_,"RegisteredUIDs");const e=Hw(a_,"UnregisteredUIDs"),t=Xw(e,(e=>{if(e.exists()){const t=e.val(),n=Object.entries(t).map((e=>{let[t,n]=e;return{uid:n.uid||t}}));C(n)}else C([])}),(e=>{console.error("Error fetching UnregisteredUIDs:",e),vT().fire({icon:"error",title:"Error",text:"Failed to fetch RFID tags."})}));return()=>{Qw(e,"value",t)}}),[]),(0,r.useEffect)((()=>{t((e=>({...e,rfidUid:T})))}),[T]),(0,r.useEffect)((()=>{"student"===e.role&&(async()=>{try{const e=xm(s_,"sections"),t=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()})));O(t)}catch(Zg){console.error("Error fetching sections:",Zg)}})()}),[e.role]);const V=()=>{m<U.length&&g((e=>e+1))},z=(e,n)=>{t((t=>({...t,[e]:"idNumber"===e||"mobileNumber"===e?n.replace(/\D/g,""):n})))},$=function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4?arguments[4]:void 0;return(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:n}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:o}),(0,o_.jsx)("input",{type:r,value:e[t],onChange:e=>z(t,e.target.value),onFocus:()=>a({...s,[t]:!0}),onBlur:()=>a({...s,[t]:!1}),className:"w-full pl-10 pr-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white placeholder-gray-400",placeholder:i,required:!0}),e[t]&&(0,o_.jsx)(lT,{className:"w-5 h-5 text-cyan-500 absolute right-3 top-1/2 transform -translate-y-1/2"})]})]})},H=(t,n,r,i)=>(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:n}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:i}),(0,o_.jsxs)("select",{value:e[t],onChange:e=>z(t,e.target.value),className:"w-full pl-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white",required:!0,children:[(0,o_.jsxs)("option",{value:"",className:"text-gray-500",children:["Select ",n.toLowerCase()]}),r.map((e=>(0,o_.jsx)("option",{value:e.value,className:"text-white",children:e.label},e.value)))]})]})]});return(0,o_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 text-white font-mono relative overflow-hidden flex items-center justify-center",children:[(0,o_.jsx)(G9,{}),(0,o_.jsxs)(nT.div,{className:"max-w-lg w-full mx-auto bg-gray-800 rounded-xl shadow-2xl p-6 relative overflow-hidden border border-cyan-800",initial:{opacity:0,scale:.9,rotate:-5},animate:{opacity:1,scale:1,rotate:0},transition:{duration:.8,type:"spring",stiffness:80},children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"flex flex-col items-center mb-4 relative z-10",children:[(0,o_.jsx)(nT.div,{initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:100,delay:.2},children:(0,o_.jsx)(iT,{className:"w-16 h-16 text-cyan-400 mb-2 animate-pulse"})}),(0,o_.jsx)(nT.h1,{className:"text-3xl font-bold text-cyan-100 mb-1",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:"Register"}),(0,o_.jsx)("p",{className:"text-cyan-300 text-center text-sm",children:"Join the SmartEcoLock community"})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mb-4",children:[(0,o_.jsx)("div",{className:"flex justify-between mb-1",children:U.map((e=>(0,o_.jsx)("div",{className:"text-xs "+(m>=e.id?"text-cyan-200":"text-gray-400"),children:e.title},e.id)))}),(0,o_.jsx)("div",{className:"h-1 bg-gray-700 rounded-full overflow-hidden",children:(0,o_.jsx)(nT.div,{className:"h-full bg-cyan-500",initial:{width:0},animate:{width:`${y}%`},transition:{duration:.3}})})]}),(0,o_.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l(!0),!T)return vT().fire({icon:"warning",title:"RFID Required",text:"Please select an RFID tag to proceed."}),void l(!1);try{const{user:t}=await rs(i_,e.email,e.password),n={uid:t.uid,fullName:e.fullName,email:e.email,idNumber:e.idNumber,department:e.department,role:e.role,mobileNumber:e.mobileNumber,rfidUid:e.rfidUid,createdAt:(new Date).toISOString(),..."student"===e.role&&P&&{section:P.name,sectionId:P.id,schedules:L||[]}},r=xm(s_,"instructor"===e.role?"teachers":"students");if(await kg(wm(r,t.uid),n),e.rfidUid){const n=Hw(a_,`/UnregisteredUIDs/${e.rfidUid}`);await Ww(n,null);const r=Hw(a_,`rfid/${e.rfidUid}`);await Ww(r,{uid:t.uid,role:e.role,timestamp:new Vm("serverTimestamp")})}vT().fire({icon:"success",title:"Registration Successful",text:"Registered as "+("instructor"===e.role?"Instructor":"Student"),showConfirmButton:!1,timer:1500,background:"#F9FAFB",iconColor:"#22d3ee"}),B("/login")}catch(Zg){console.error("Registration error:",Zg),vT().fire({icon:"error",title:"Registration Failed",text:Zg instanceof Error?Zg.message:"Registration failed",confirmButtonColor:"#22d3ee",background:"#F9FAFB"})}finally{l(!1)}},className:"space-y-4 relative z-10",children:[(()=>{switch(m){case 1:return(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"space-y-6",children:[(0,o_.jsx)("h3",{className:"text-xl font-semibold text-cyan-100 mb-2",children:"Choose Your Role"}),(0,o_.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:["student","instructor"].map((n=>(0,o_.jsx)(nT.button,{type:"button",onClick:()=>{t({...e,role:n}),V()},whileHover:{scale:1.02},whileTap:{scale:.98},className:`\n                    p-6 rounded-xl text-center transition-all duration-200\n                    ${e.role===n?"bg-cyan-600 text-white shadow-lg":"bg-gray-700 text-cyan-200 hover:bg-gray-600"}\n                  `,children:(0,o_.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:["student"===n?(0,o_.jsx)(JA,{className:"w-8 h-8"}):(0,o_.jsx)(aT,{className:"w-8 h-8"}),(0,o_.jsx)("span",{className:"text-lg font-medium",children:n.charAt(0).toUpperCase()+n.slice(1)}),(0,o_.jsx)("p",{className:"text-sm opacity-80",children:"student"===n?"Access your courses and track your progress":"Manage your classes and student records"})]})},n)))})]});case 2:return(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"space-y-4",children:[(0,o_.jsx)("h3",{className:"text-xl font-semibold text-cyan-100 mb-2",children:"Personal Information"}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"RFID Card"}),(0,o_.jsxs)("div",{className:"relative",children:[(0,o_.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:(0,o_.jsx)(W9,{className:"w-5 h-5 text-cyan-500"})}),(0,o_.jsxs)("select",{value:T,onChange:e=>I(e.target.value),className:"w-full pl-10 p-3 rounded-lg border border-gray-700 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-300 bg-gray-700 text-white",required:!0,children:[(0,o_.jsx)("option",{value:"",className:"text-gray-500",children:"Select RFID Tag"}),k.map((e=>(0,o_.jsx)("option",{value:e.uid,className:"text-white",children:e.uid},e.uid)))]}),T&&(0,o_.jsxs)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[(0,o_.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,o_.jsx)("span",{className:"text-sm text-green-400",children:"Card selected"})]})]}),(0,o_.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:T?"RFID card selected":"Select an RFID card from the dropdown above"})]}),(0,o_.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[$("fullName","Full Name","text","Enter your full name",(0,o_.jsx)(aT,{className:"w-5 h-5 text-cyan-500"})),$("idNumber","ID Number","text","Enter your ID number",(0,o_.jsx)(XO,{className:"w-5 h-5 text-cyan-500"})),$("email","Email","email","Enter your email",(0,o_.jsx)(yA,{className:"w-5 h-5 text-cyan-500"})),$("mobileNumber","Mobile Number","tel","Enter your mobile number",(0,o_.jsx)(K9,{className:"w-5 h-5 text-cyan-500"}))]})]});case 3:return(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"space-y-4",children:[(0,o_.jsx)("h3",{className:"text-xl font-semibold text-cyan-100 mb-2",children:"Academic Details"}),(0,o_.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[H("department","Department",n.departments.map((e=>({value:e,label:e}))),(0,o_.jsx)(aT,{className:"w-5 h-5 text-cyan-500"})),"student"===e.role&&(0,o_.jsxs)(o_.Fragment,{children:[H("yearLevel","Year Level",[{value:"1st Year",label:"1st Year"},{value:"2nd Year",label:"2nd Year"},{value:"3rd Year",label:"3rd Year"},{value:"4th Year",label:"4th Year"}],(0,o_.jsx)(JA,{className:"w-5 h-5 text-cyan-500"})),(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"Section"}),(0,o_.jsx)("div",{className:"space-y-2",children:A.length>0?A.map((e=>{var n,r;return(0,o_.jsx)(nT.div,{onClick:()=>{M(e),t((t=>({...t,section:e.name})));const n=D.find((t=>t.id===e.instructorId));F((null===n||void 0===n?void 0:n.schedules)||[])},whileHover:{scale:1.02},whileTap:{scale:.98},className:`\n                              p-3 rounded-xl cursor-pointer transition-all duration-200\n                              ${(null===P||void 0===P?void 0:P.id)===e.id?"bg-cyan-600 text-white":"bg-gray-700 text-cyan-200 hover:bg-gray-600"}\n                            `,children:(0,o_.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o_.jsx)("span",{className:"font-medium",children:e.name}),(0,o_.jsx)("span",{className:"text-xs opacity-80",children:(null===(n=e.schedule)||void 0===n?void 0:n.room)||"TBD"})]}),e.schedule&&(0,o_.jsxs)("div",{className:"flex items-center space-x-3 text-xs opacity-80",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,o_.jsx)(cO,{className:"w-3 h-3"}),(0,o_.jsx)("span",{children:e.schedule.day})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,o_.jsx)(oO,{className:"w-3 h-3"}),(0,o_.jsxs)("span",{children:[e.schedule.startTime," - ",e.schedule.endTime]})]})]}),(0,o_.jsx)("div",{className:"text-xs opacity-80",children:(null===(r=e.schedule)||void 0===r?void 0:r.subject)||"N/A"})]})},e.id)})):(0,o_.jsx)("p",{className:"text-gray-400",children:"No sections available."})})]}),P&&L&&L.length>0&&(0,o_.jsxs)(nT.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4,type:"tween"},children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-cyan-200 mb-2",children:"Teacher's Schedule"}),(0,o_.jsx)("div",{className:"space-y-2",children:null===L||void 0===L?void 0:L.map(((n,r)=>(0,o_.jsx)(nT.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`\n                              p-3 rounded-xl cursor-pointer transition-all duration-200\n                              ${e.selectedSchedule===n?"bg-cyan-600 text-white":"bg-gray-700 text-cyan-200 hover:bg-gray-600"}\n                            `,onClick:()=>t((e=>({...e,selectedSchedule:n}))),children:(0,o_.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o_.jsx)("span",{className:"font-medium",children:n.subject||"N/A"}),(0,o_.jsx)("span",{className:"text-xs opacity-80",children:n.room||"TBD"})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-3 text-xs opacity-80",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,o_.jsx)(cO,{className:"w-3 h-3"}),(0,o_.jsx)("span",{children:n.day})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,o_.jsx)(oO,{className:"w-3 h-3"}),(0,o_.jsxs)("span",{children:[n.startTime," - ",n.endTime]})]})]}),(0,o_.jsxs)("div",{className:"text-xs opacity-80",children:["Section: ",n.section]})]})},r)))})]})]}),"instructor"===e.role&&$("yearsOfExperience","Years of Experience","number","Years of teaching experience",(0,o_.jsx)(aT,{className:"w-5 h-5 text-cyan-500"}))]})]});case 4:return(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"space-y-4",children:[(0,o_.jsx)("h3",{className:"text-xl font-semibold text-cyan-100 mb-2",children:"Set Your Password"}),(0,o_.jsxs)("div",{className:"space-y-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("div",{className:"relative",children:$("password","Password",c?"text":"password","Enter your password",(0,o_.jsx)(aT,{className:"w-5 h-5 text-cyan-500"}))}),(0,o_.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(lT,{className:"w-4 h-4 "+(f.hasMinLength?"text-green-400":"text-gray-400")}),(0,o_.jsx)("span",{className:"text-xs "+(f.hasMinLength?"text-green-400":"text-gray-300"),children:"At least 8 characters"})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(lT,{className:"w-4 h-4 "+(f.hasUpper?"text-green-400":"text-gray-400")}),(0,o_.jsx)("span",{className:"text-xs "+(f.hasUpper?"text-green-400":"text-gray-300"),children:"One uppercase letter"})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(lT,{className:"w-4 h-4 "+(f.hasLower?"text-green-400":"text-gray-400")}),(0,o_.jsx)("span",{className:"text-xs "+(f.hasLower?"text-green-400":"text-gray-300"),children:"One lowercase letter"})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(lT,{className:"w-4 h-4 "+(f.hasNumber?"text-green-400":"text-gray-400")}),(0,o_.jsx)("span",{className:"text-xs "+(f.hasNumber?"text-green-400":"text-gray-300"),children:"One number"})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o_.jsx)(lT,{className:"w-4 h-4 "+(f.hasSpecial?"text-green-400":"text-gray-400")}),(0,o_.jsx)("span",{className:"text-xs "+(f.hasSpecial?"text-green-400":"text-gray-300"),children:"One special character"})]})]})]}),(0,o_.jsx)("div",{className:"relative",children:$("confirmPassword","Confirm Password",d?"text":"password","Confirm your password",(0,o_.jsx)(aT,{className:"w-5 h-5 text-cyan-500"}))})]})]})}})(),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,type:"spring",stiffness:100},className:"flex justify-between mt-6 pt-4 border-t border-gray-700",children:[m>1&&(0,o_.jsx)(nT.button,{type:"button",onClick:()=>{m>1&&g((e=>e-1))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-4 py-2 rounded-lg bg-gray-700 text-cyan-200 hover:bg-gray-600 transition-all duration-300",children:"Back"}),m<U.length?(0,o_.jsx)(nT.button,{type:"button",onClick:V,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-4 py-2 rounded-lg bg-cyan-600 text-white hover:bg-cyan-700 transition-all duration-300 ml-auto",children:"Continue"}):(0,o_.jsx)(nT.button,{type:"submit",disabled:o,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold p-3 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 shadow-lg hover:shadow-cyan-500/50",children:o?(0,o_.jsx)("span",{className:"animate-spin",children:(0,o_.jsx)(gT,{className:"w-5 h-5"})}):(0,o_.jsxs)(o_.Fragment,{children:["Complete Registration",(0,o_.jsx)(lT,{className:"w-5 h-5"})]})})]}),(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.5},className:"text-center mt-4",children:(0,o_.jsxs)("p",{className:"text-gray-400 text-sm",children:["Already have an account?"," ",(0,o_.jsx)(Ce,{to:"/login",className:"text-cyan-400 hover:text-cyan-300 font-semibold hover:underline transition-all duration-300",children:"Sign in"})]})})]})]})]})};function Q9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Z9=r.forwardRef(Q9);function J9(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const e8=r.forwardRef(J9),t8=e=>{let{isOpen:t,onClose:n,onSubmit:i,instructors:s,subjects:a}=e;const[o,l]=(0,r.useState)({name:"",code:"",instructorId:"",subjectId:""});return(0,o_.jsx)(hA,{isOpen:t,onClose:n,title:"Add New Section",children:(0,o_.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(o),l({name:"",code:"",instructorId:"",subjectId:""})},className:"space-y-4 p-6",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Name"}),(0,o_.jsx)("input",{type:"text",id:"name",value:o.name,onChange:e=>l({...o,name:e.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter section name",required:!0})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Code"}),(0,o_.jsx)("input",{type:"text",id:"code",value:o.code,onChange:e=>l({...o,code:e.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter section code",required:!0})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{htmlFor:"instructor",className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor"}),(0,o_.jsxs)("select",{id:"instructor",value:o.instructorId,onChange:e=>l({...o,instructorId:e.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,o_.jsx)("option",{value:"",children:"Select an instructor"}),s.map((e=>(0,o_.jsx)("option",{value:e.id,children:e.fullName},e.id)))]})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),(0,o_.jsxs)("select",{id:"subject",value:o.subjectId,onChange:e=>l({...o,subjectId:e.target.value}),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,o_.jsx)("option",{value:"",children:"Select a subject"}),a.map((e=>(0,o_.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")"]},e.id)))]})]}),(0,o_.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,o_.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),(0,o_.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Create Section"})]})]})})},n8=e=>{let{isOpen:t,onClose:n,onSubmit:i,students:s}=e;const[a,o]=(0,r.useState)([]),l=()=>{o([])};return t?(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,o_.jsxs)(nT.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,o_.jsx)("h2",{className:v9.h3,children:"Assign Students"}),(0,o_.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:(0,o_.jsx)(g9,{className:"w-6 h-6"})})]}),(0,o_.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(a),l()},className:"p-6 space-y-6",children:[(0,o_.jsx)("div",{className:"space-y-4",children:s.map((e=>(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)("input",{type:"checkbox",checked:a.includes(e.id),onChange:()=>{return t=e.id,void o((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"mr-2"}),(0,o_.jsx)("label",{className:"text-sm font-medium text-gray-700",children:e.fullName})]},e.id)))}),(0,o_.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 mt-6 border-t",children:[(0,o_.jsx)("button",{type:"button",onClick:()=>{n(),l()},className:y9.button.secondary,children:"Cancel"}),(0,o_.jsx)("button",{type:"submit",className:y9.button.primary,disabled:0===a.length,children:"Assign Students"})]})]})]})}):null},r8=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=Ag(xm(s_,"sections"),(e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));t(n)})),n=Ag(xm(s_,"teachers"),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));i(t)})),r=Ag(xm(s_,"students"),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));a(t)})),s=Ag(xm(s_,"subjects"),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));l(t),u(!1)}));return()=>{e(),n(),r(),s()}}),[]);return(0,o_.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,o_.jsx)(GA,{}),(0,o_.jsx)("div",{className:"ml-[80px] lg:ml-64 p-6 transition-all duration-300",children:(0,o_.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,o_.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Section Management"}),(0,o_.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors duration-200",children:[(0,o_.jsx)(Z9,{className:"w-5 h-5 mr-2"}),"Add Section"]})]}),c?(0,o_.jsxs)("div",{className:"text-center py-10",children:[(0,o_.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),(0,o_.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading sections..."})]}):(0,o_.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t=>{var r,i;const a=n.find((e=>e.id===t.instructorId)),l=o.find((e=>e.id===t.subjectId));return(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200",children:[(0,o_.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t.name}),(0,o_.jsxs)("p",{className:"text-sm text-gray-600",children:["Instructor: ",(null===a||void 0===a?void 0:a.fullName)||"Not Assigned"]}),(0,o_.jsxs)("p",{className:"text-sm text-gray-600",children:["Subject: ",(null===l||void 0===l?void 0:l.name)||"Not Assigned"]}),(0,o_.jsxs)("p",{className:"text-sm text-gray-600",children:["Code: ",t.code]})]}),(0,o_.jsx)(IA,{className:"w-8 h-8 text-indigo-600"})]}),(0,o_.jsxs)("div",{className:"mb-4",children:[(0,o_.jsxs)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Enrolled Students (",(null===(r=t.students)||void 0===r?void 0:r.length)||0,")"]}),(0,o_.jsx)("div",{className:"max-h-48 overflow-y-auto space-y-3",children:(null===(i=t.students)||void 0===i?void 0:i.length)>0?t.students.map((n=>{const r=s.find((e=>e.id===n));return r?(0,o_.jsxs)(nT.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-150",children:[(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:(0,o_.jsx)("span",{className:"text-indigo-600 font-medium",children:r.fullName[0]})}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm font-medium text-gray-900",children:r.fullName}),(0,o_.jsxs)("p",{className:"text-xs text-gray-500",children:["ID: ",r.idNumber]}),(0,o_.jsxs)("p",{className:"text-xs text-gray-500",children:["RFID UID: ",r.rfidUid||"Not Assigned"]})]})]}),(0,o_.jsx)("button",{onClick:()=>vT().fire({title:"Remove Student",text:`Are you sure you want to remove ${r.fullName} from ${t.name}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, remove"}).then((r=>{r.isConfirmed&&(async(t,n)=>{try{const r=wm(s_,"sections",t),i=e.find((e=>e.id===t));if(i){await Cg(r,{students:i.students.filter((e=>e!==n))});const e=wm(s_,"students",n);await Cg(e,{sectionId:null}),vT().fire({icon:"success",title:"Student Removed",showConfirmButton:!1,timer:1500})}}catch(Zg){console.error("Error removing student:",Zg),vT().fire({icon:"error",title:"Error",text:"Failed to remove student. Please try again."})}})(t.id,n)})),className:"text-red-500 hover:text-red-700 transition-colors duration-150",children:(0,o_.jsx)(e8,{className:"w-5 h-5"})})]},n):null})):(0,o_.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No students enrolled yet."})})]}),(0,o_.jsx)("button",{onClick:()=>{g(t),p(!0)},className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors duration-200",children:"Assign Students"})]},t.id)}))})]})}),(0,o_.jsx)(t8,{isOpen:d,onClose:()=>h(!1),onSubmit:async e=>{try{await Ig(xm(s_,"sections"),{name:e.name,code:e.code,students:[],instructorId:e.instructorId,subjectId:e.subjectId,createdAt:new Date}),h(!1),vT().fire({icon:"success",title:"Section Added Successfully",showConfirmButton:!1,timer:1500})}catch(Zg){console.error("Error adding section:",Zg),vT().fire({icon:"error",title:"Error",text:"Failed to add section. Please try again."})}},instructors:n,subjects:o}),(0,o_.jsx)(n8,{isOpen:f,onClose:()=>p(!1),onSubmit:async e=>{if(m)try{const t=wm(s_,"sections",m.id);await Cg(t,{students:[...m.students,...e]}),await Promise.all(e.map((async e=>{const t=wm(s_,"students",e);await Cg(t,{sectionId:m.id})}))),p(!1),vT().fire({icon:"success",title:"Students Assigned Successfully",showConfirmButton:!1,timer:1500})}catch(Zg){console.error("Error assigning students:",Zg),vT().fire({icon:"error",title:"Error",text:"Failed to assign students. Please try again."})}},students:s})]})};function i8(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const s8=r.forwardRef(i8);function a8(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z"}))}const o8=r.forwardRef(a8),l8=e=>{let{isOpen:t,onClose:n,onSubmit:i}=e;const[s,a]=(0,r.useState)({name:"",building:"",floor:"",capacity:0,type:"classroom",status:"available",facilities:{hasProjector:!1,hasAC:!1,hasComputers:!1,hasWifi:!1},energyStatus:{lights:!1,aircon:!1,computers:!1}});return t?(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,o_.jsxs)(nT.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,o_.jsx)("h2",{className:v9.h3,children:"Add New Room"}),(0,o_.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:(0,o_.jsx)(g9,{className:"w-6 h-6"})})]}),(0,o_.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(s),a({name:"",building:"",floor:"",capacity:0,type:"classroom",status:"available",facilities:{hasProjector:!1,hasAC:!1,hasComputers:!1,hasWifi:!1},energyStatus:{lights:!1,aircon:!1,computers:!1}})},className:"p-6 space-y-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Name/Number"}),(0,o_.jsx)("input",{type:"text",value:s.name,onChange:e=>a({...s,name:e.target.value}),className:y9.input,required:!0,placeholder:"e.g., Room 101"})]}),(0,o_.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Building"}),(0,o_.jsx)("input",{type:"text",value:s.building,onChange:e=>a({...s,building:e.target.value}),className:y9.input,required:!0,placeholder:"e.g., Main Building"})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Floor"}),(0,o_.jsx)("input",{type:"text",value:s.floor,onChange:e=>a({...s,floor:e.target.value}),className:y9.input,required:!0,placeholder:"e.g., 1st Floor"})]})]}),(0,o_.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Type"}),(0,o_.jsxs)("select",{value:s.type,onChange:e=>a({...s,type:e.target.value}),className:y9.input,required:!0,children:[(0,o_.jsx)("option",{value:"classroom",children:"Classroom"}),(0,o_.jsx)("option",{value:"laboratory",children:"Laboratory"}),(0,o_.jsx)("option",{value:"lecture_hall",children:"Lecture Hall"}),(0,o_.jsx)("option",{value:"conference_room",children:"Conference Room"})]})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),(0,o_.jsx)("input",{type:"number",min:"1",value:s.capacity,onChange:e=>a({...s,capacity:parseInt(e.target.value)}),className:y9.input,required:!0,placeholder:"e.g., 30"})]})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,o_.jsxs)("select",{value:s.status,onChange:e=>a({...s,status:e.target.value}),className:y9.input,required:!0,children:[(0,o_.jsx)("option",{value:"available",children:"Available"}),(0,o_.jsx)("option",{value:"occupied",children:"Occupied"}),(0,o_.jsx)("option",{value:"maintenance",children:"Under Maintenance"})]})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facilities"}),(0,o_.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o_.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,o_.jsx)("input",{type:"checkbox",checked:s.facilities.hasProjector,onChange:e=>a({...s,facilities:{...s.facilities,hasProjector:e.target.checked}}),className:"rounded text-indigo-600"}),(0,o_.jsx)("span",{className:"text-sm text-gray-700",children:"Projector"})]}),(0,o_.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,o_.jsx)("input",{type:"checkbox",checked:s.facilities.hasAC,onChange:e=>a({...s,facilities:{...s.facilities,hasAC:e.target.checked}}),className:"rounded text-indigo-600"}),(0,o_.jsx)("span",{className:"text-sm text-gray-700",children:"Air Conditioning"})]}),(0,o_.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,o_.jsx)("input",{type:"checkbox",checked:s.facilities.hasComputers,onChange:e=>a({...s,facilities:{...s.facilities,hasComputers:e.target.checked}}),className:"rounded text-indigo-600"}),(0,o_.jsx)("span",{className:"text-sm text-gray-700",children:"Computers"})]}),(0,o_.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,o_.jsx)("input",{type:"checkbox",checked:s.facilities.hasWifi,onChange:e=>a({...s,facilities:{...s.facilities,hasWifi:e.target.checked}}),className:"rounded text-indigo-600"}),(0,o_.jsx)("span",{className:"text-sm text-gray-700",children:"WiFi"})]})]})]}),(0,o_.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,o_.jsx)("button",{type:"button",onClick:n,className:y9.button.secondary,children:"Cancel"}),(0,o_.jsx)("button",{type:"submit",className:y9.button.primary,children:"Add Room"})]})]})]})}):null},c8=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)("all"),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(!1);(0,r.useEffect)((()=>{m()}),[]);const m=async()=>{try{const e=(await Ng(xm(s_,"rooms"))).docs.map((e=>{const t=e.data();return{id:e.id,name:t.name||"",building:t.building||"",floor:t.floor||"",capacity:t.capacity||0,type:t.type||"classroom",status:t.status||"available",facilities:{hasProjector:!1,hasAC:!1,hasComputers:!1,hasWifi:!1,...t.facilities||{}},energyStatus:{lights:!1,aircon:!1,computers:!1,...t.energyStatus||{}}}}));t(e),i(!1)}catch(Zg){console.error("Error fetching rooms:",Zg),vT().fire("Error","Failed to fetch rooms","error"),i(!1)}},g=async(n,r)=>{try{const i=e.find((e=>e.id===n));if(!i)return;const s={...i.energyStatus,[r]:!i.energyStatus[r]};await Cg(wm(s_,"rooms",n),{energyStatus:s}),t((e=>e.map((e=>e.id===n?{...e,energyStatus:s}:e)))),vT().fire({icon:"success",title:`${r} ${s[r]?"turned on":"turned off"}`,showConfirmButton:!1,timer:1500})}catch(Zg){console.error("Error updating facility status:",Zg),vT().fire("Error","Failed to update facility status","error")}},y=e.filter((e=>{var t,n,r,i;const s="all"===c||(null===e||void 0===e?void 0:e.status)===c,a=""===d||null!==(t=null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(d.toLowerCase()))&&void 0!==t&&t||null!==(r=null===e||void 0===e||null===(i=e.building)||void 0===i?void 0:i.toLowerCase().includes(d.toLowerCase()))&&void 0!==r&&r;return s&&a}));return(0,o_.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 via-purple-50/30 to-rose-50/30",children:[(0,o_.jsx)(GA,{}),(0,o_.jsxs)("div",{className:"flex-1 transition-all duration-300 ml-[80px] lg:ml-64 p-8 overflow-y-auto",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsxs)("h1",{className:"text-2xl font-bold text-blue-900 flex items-center",children:[(0,o_.jsx)("div",{className:"w-8 h-8 mr-3 text-blue-600",children:(0,o_.jsx)(RA,{})}),"Room Management"]}),(0,o_.jsx)("p",{className:"mt-1 text-blue-600/80",children:"Manage and monitor classroom facilities"})]}),(0,o_.jsx)("div",{className:"flex items-center space-x-4",children:(0,o_.jsxs)("button",{onClick:()=>p(!0),className:y9.button.primary,children:[(0,o_.jsx)(Z9,{className:"w-5 h-5 mr-2"}),"Add Room"]})})]}),(0,o_.jsx)("div",{className:y9.card,children:(0,o_.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-teal-700 mb-2",children:"Search Rooms"}),(0,o_.jsx)("input",{type:"text",placeholder:"Search by room number, name...",value:d,onChange:e=>h(e.target.value),className:y9.input})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-teal-700 mb-2",children:"Filter by Status"}),(0,o_.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:y9.input,children:[(0,o_.jsx)("option",{value:"all",children:"All Status"}),(0,o_.jsx)("option",{value:"available",children:"Available"}),(0,o_.jsx)("option",{value:"occupied",children:"Occupied"}),(0,o_.jsx)("option",{value:"maintenance",children:"Maintenance"})]})]})]})}),(0,o_.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map((e=>(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:y9.card,children:[(0,o_.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",e.name]}),(0,o_.jsx)("p",{className:"text-sm text-gray-500",children:e.building})]}),(0,o_.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium "+("available"===e.status?"bg-green-100 text-green-800":"occupied"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,o_.jsxs)("div",{className:"space-y-4",children:[(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsx)("span",{className:"text-sm text-gray-600",children:"Building"}),(0,o_.jsx)("span",{className:"text-sm font-medium",children:e.building})]}),(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsx)("span",{className:"text-sm text-gray-600",children:"Floor"}),(0,o_.jsx)("span",{className:"text-sm font-medium",children:e.floor})]}),(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsx)("span",{className:"text-sm text-gray-600",children:"Capacity"}),(0,o_.jsxs)("span",{className:"text-sm font-medium",children:[e.capacity," seats"]})]})]}),(0,o_.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,o_.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Facilities Control"}),(0,o_.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,o_.jsxs)("button",{onClick:()=>g(e.id,"lights"),className:"flex flex-col items-center p-3 rounded-lg "+(e.energyStatus.lights?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"),children:[(0,o_.jsx)(UA,{className:"w-6 h-6 mb-1"}),(0,o_.jsx)("span",{className:"text-xs",children:"Lights"})]}),(0,o_.jsxs)("button",{onClick:()=>g(e.id,"aircon"),className:"flex flex-col items-center p-3 rounded-lg "+(e.energyStatus.aircon?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:[(0,o_.jsx)(s8,{className:"w-6 h-6 mb-1"}),(0,o_.jsx)("span",{className:"text-xs",children:"AC"})]}),(0,o_.jsxs)("button",{onClick:()=>g(e.id,"computers"),className:"flex flex-col items-center p-3 rounded-lg "+(e.energyStatus.computers?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:[(0,o_.jsx)(o8,{className:"w-6 h-6 mb-1"}),(0,o_.jsx)("span",{className:"text-xs",children:"PCs"})]})]})]})]},e.id)))}),(0,o_.jsx)(l8,{isOpen:f,onClose:()=>p(!1),onSubmit:async e=>{try{await Ig(xm(s_,"rooms"),{...e,energyStatus:{lights:!1,aircon:!1,computers:!1},createdAt:(new Date).toISOString()}),p(!1),m(),vT().fire({icon:"success",title:"Room Added Successfully",showConfirmButton:!1,timer:1500})}catch(Zg){console.error("Error adding room:",Zg),vT().fire({icon:"error",title:"Error",text:"Failed to add room"})}}})]})]})};function u8(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),r.createElement("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"}))}const d8=r.forwardRef(u8),h8=e=>{let{roomId:t,sectionId:n}=e;const[i,s]=(0,r.useState)(null),[a,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(""),{currentUser:v}=c_();(0,r.useEffect)((()=>{(async()=>{try{const e=await Sg(wm(s_,"rooms",t));if(e.exists()){const t=e.data();s({id:e.id,...t,seats:t.seats||b(t.layout.rows,t.layout.cols)})}}catch(Zg){console.error("Error fetching room:",Zg),zI.error("Failed to load room data")}})()}),[t]),(0,r.useEffect)((()=>{n&&(async()=>{try{c(!0);const e=await Sg(wm(s_,"sections",n));if(e.exists()){const t=e.data().students||[];if(t.length>0){const e=[];for(const n of t){const t=await Sg(wm(s_,"students",n));if(t.exists()){const n=t.data();e.push({id:t.id,fullName:n.fullName||"",idNumber:n.idNumber||"",email:n.email||"",major:n.major||"",yearLevel:n.yearLevel||""})}}o(e)}}}catch(Zg){console.error("Error fetching students:",Zg),zI.error("Failed to load student data")}finally{c(!1)}})()}),[n]),(0,r.useEffect)((()=>{if(!t)return;const e=Ag(wm(s_,"rooms",t),(e=>{if(e.exists()){const t=e.data();s((e=>e?{...e,seats:t.seats||e.seats}:null))}}),(e=>{console.error("Error listening to room updates:",e)}));return()=>e()}),[t]);const b=(e,t)=>{const n=[];for(let r=0;r<e;r++)for(let e=0;e<t;e++)n.push({id:`seat-${r}-${e}`,position:{row:r,col:e},weightSensorStatus:!1,rfidConfirmed:!1});return n},x=e=>{d(e),f(e.studentId||""),m(!0)},w=a.filter((e=>e.fullName.toLowerCase().includes(g.toLowerCase())||e.idNumber.toLowerCase().includes(g.toLowerCase()))),_=e=>{if(!e)return"Unassigned";const t=a.find((t=>t.id===e));return t?t.fullName:"Unknown Student"};return l||!i?(0,o_.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,o_.jsx)(gT,{className:"w-8 h-8 text-indigo-500 animate-spin"}),(0,o_.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading seat plan..."})]}):(0,o_.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,o_.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,o_.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o_.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Room ",i.number," Seat Plan"]}),(0,o_.jsxs)("div",{className:"text-sm text-gray-500",children:["Capacity: ",i.capacity," students"]})]})}),(0,o_.jsx)("div",{className:"p-6",children:(0,o_.jsx)("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${i.layout.cols}, minmax(0, 1fr))`,gridTemplateRows:`repeat(${i.layout.rows}, 1fr)`},children:i.seats.map((e=>(0,o_.jsxs)(nT.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},className:`\n                relative p-3 rounded-lg border-2 cursor-pointer\n                ${e.weightSensorStatus?"bg-blue-50 border-blue-300":"bg-gray-50 border-gray-200"}\n                ${e.rfidConfirmed?"bg-green-50 border-green-300":""}\n                hover:shadow-md transition-all duration-200\n              `,onClick:()=>x(e),children:[(0,o_.jsxs)("div",{className:"flex flex-col h-full",children:[(0,o_.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["Seat ",e.position.row+1,"-",e.position.col+1]}),e.studentId?(0,o_.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,o_.jsx)("div",{className:"font-medium text-sm truncate",children:_(e.studentId)}),(0,o_.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,o_.jsx)("div",{className:"flex items-center",children:e.weightSensorStatus?(0,o_.jsxs)("div",{className:"flex items-center text-blue-600 text-xs",children:[(0,o_.jsx)(KB,{className:"w-3 h-3 mr-1"}),(0,o_.jsx)("span",{children:"Seated"})]}):(0,o_.jsxs)("div",{className:"flex items-center text-gray-400 text-xs",children:[(0,o_.jsx)(KB,{className:"w-3 h-3 mr-1"}),(0,o_.jsx)("span",{children:"Empty"})]})}),e.rfidConfirmed?(0,o_.jsxs)("div",{className:"flex items-center text-green-600 text-xs",children:[(0,o_.jsx)(QI,{className:"w-3 h-3 mr-1"}),(0,o_.jsx)("span",{children:"Confirmed"})]}):(0,o_.jsxs)("div",{className:"flex items-center text-gray-400 text-xs",children:[(0,o_.jsx)(JI,{className:"w-3 h-3 mr-1"}),(0,o_.jsx)("span",{children:"Unconfirmed"})]})]})]}):(0,o_.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,o_.jsx)("button",{className:"text-gray-400 hover:text-indigo-500 transition-colors",children:(0,o_.jsx)(QA,{className:"w-6 h-6"})})})]}),e.lastUpdated&&(0,o_.jsxs)("div",{className:"absolute bottom-1 right-1 text-xs text-gray-400 flex items-center",children:[(0,o_.jsx)(oO,{className:"w-3 h-3 mr-1"}),new Date(e.lastUpdated).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,o_.jsx)("button",{className:"absolute top-1 right-1 text-gray-400 hover:text-indigo-500 transition-colors",onClick:t=>{t.stopPropagation(),x(e)},children:(0,o_.jsx)(d8,{className:"w-4 h-4"})})]},e.id)))})}),(0,o_.jsx)("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:(0,o_.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)("div",{className:"w-3 h-3 bg-gray-50 border-2 border-gray-200 rounded-full mr-2"}),(0,o_.jsx)("span",{children:"Empty"})]}),(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)("div",{className:"w-3 h-3 bg-blue-50 border-2 border-blue-300 rounded-full mr-2"}),(0,o_.jsx)("span",{children:"Seated (Weight Detected)"})]}),(0,o_.jsxs)("div",{className:"flex items-center",children:[(0,o_.jsx)("div",{className:"w-3 h-3 bg-green-50 border-2 border-green-300 rounded-full mr-2"}),(0,o_.jsx)("span",{children:"Attendance Confirmed (RFID)"})]})]})}),(0,o_.jsx)(NA,{children:p&&u&&(0,o_.jsx)(nT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,o_.jsxs)(nT.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,o_.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Edit Seat ",u.position.row+1,"-",u.position.col+1]}),(0,o_.jsx)("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:(0,o_.jsx)(JI,{className:"w-6 h-6"})})]}),(0,o_.jsxs)("div",{className:"p-6",children:[(0,o_.jsxs)("div",{className:"mb-4",children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Student"}),(0,o_.jsx)("div",{className:"relative",children:(0,o_.jsx)("input",{type:"text",placeholder:"Search students...",value:g,onChange:e=>y(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})})]}),(0,o_.jsx)("div",{className:"max-h-60 overflow-y-auto border rounded-lg mb-4",children:(0,o_.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,o_.jsxs)("div",{className:"p-3 cursor-pointer hover:bg-gray-50 "+(h?"":"bg-indigo-50"),onClick:()=>f(""),children:[(0,o_.jsx)("div",{className:"font-medium",children:"Unassigned"}),(0,o_.jsx)("div",{className:"text-sm text-gray-500",children:"Remove student from seat"})]}),w.map((e=>(0,o_.jsxs)("div",{className:"p-3 cursor-pointer hover:bg-gray-50 "+(h===e.id?"bg-indigo-50":""),onClick:()=>f(e.id),children:[(0,o_.jsx)("div",{className:"font-medium",children:e.fullName}),(0,o_.jsxs)("div",{className:"text-sm text-gray-500",children:[e.idNumber," \u2022 ",e.major]})]},e.id)))]})}),(0,o_.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,o_.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,o_.jsx)("button",{onClick:async()=>{if(i&&u)try{const e=i.seats.map((e=>e.id===u.id?{...e,studentId:h||void 0}:e));await Cg(wm(s_,"rooms",t),{seats:e}),s({...i,seats:e}),m(!1),zI.success("Seat assignment updated")}catch(Zg){console.error("Error updating seat assignment:",Zg),zI.error("Failed to update seat assignment")}},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Save Assignment"})]})]})]})})})]})},f8=()=>{const e=Array.from({length:30},(()=>({x:100*Math.random(),y:100*Math.random(),speedX:.3*(Math.random()-.5),speedY:.3*(Math.random()-.5)})));return(0,o_.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(((e,t)=>(0,o_.jsx)(nT.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:`${e.x}vw`,y:`${e.y}vh`,opacity:.6},animate:{x:`${e.x+50*e.speedX}vw`,y:`${e.y+50*e.speedY}vh`,opacity:[.6,.8,.6]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}},t)))})},p8=e=>{let{user:t,classStatus:n}=e;return(0,o_.jsx)(nT.nav,{className:"fixed top-0 left-0 right-0 bg-gray-900 border-b border-cyan-800 shadow-lg z-20",initial:{y:-100},animate:{y:0},transition:{duration:.5,type:"spring",stiffness:80},children:(0,o_.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o_.jsxs)(Ce,{to:"/instructor/dashboard",className:"text-cyan-400 hover:text-cyan-300 flex items-center gap-2",children:[(0,o_.jsx)(B9,{className:"w-5 h-5"}),(0,o_.jsx)("span",{className:"text-lg font-bold",children:"SmartEcoLock"})]}),(0,o_.jsxs)("div",{className:"text-cyan-300",children:[(0,o_.jsx)("span",{children:t.fullName})," \u2022 ",(0,o_.jsx)("span",{children:t.department})]})]}),(0,o_.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o_.jsxs)("div",{className:`${n.color} px-3 py-1 rounded-full text-sm text-gray-900 flex items-center gap-2`,children:[(0,o_.jsx)(sO,{className:"w-4 h-4"}),n.status,": ",n.details]}),(0,o_.jsx)(aT,{className:"w-6 h-6 text-cyan-400"})]})]})})},m8=()=>{var e;const{currentUser:t}=c_(),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(""),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{if(t)try{const e=ag(xm(s_,"sections"),lg("instructorId","==",t.uid)),n=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()})));i(n),n.length>0&&a(n[0].id)}catch(Zg){console.error("Error fetching sections:",Zg)}})()}),[t]),(0,r.useEffect)((()=>{(async()=>{try{const e=xm(s_,"students"),t=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()})));g(t)}catch(Zg){console.error("Error fetching students:",Zg)}})()}),[]),(0,r.useEffect)((()=>{(async()=>{if(s)try{u(!0);const e=ag(xm(s_,"attendanceRecords"),lg("sectionId","==",s),dg("timestamp","desc")),t=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()})));l(t)}catch(Zg){console.error("Error fetching attendance records:",Zg)}finally{u(!1)}})()}),[s]);const y=(0,r.useMemo)((()=>{let e=[...o];return d&&(e=e.filter((e=>e.studentName.toLowerCase().includes(d.toLowerCase())))),f&&(e=e.filter((e=>e.date===f))),e}),[o,d,f]),v=(0,r.useMemo)((()=>{const e=y.length,t=y.filter((e=>"present"===e.status)).length,n=y.filter((e=>"late"===e.status)).length,r=y.filter((e=>"absent"===e.status)).length;return{totalRecords:e,present:t,late:n,absent:r,attendanceRate:e?(t+n)/e*100:0}}),[y]),b=(0,r.useMemo)((()=>{const e=o.map((e=>e.date));return[...new Set(e)].sort().reverse()}),[o]);return c&&!s?(0,o_.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 flex items-center justify-center",children:(0,o_.jsx)(nT.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-t-cyan-500 border-gray-700 rounded-full"})}):(0,o_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 text-white font-mono relative overflow-hidden",children:[(0,o_.jsx)(f8,{}),(0,o_.jsx)(p8,{user:{role:(null===t||void 0===t?void 0:t.role)||"instructor",fullName:(null===t||void 0===t?void 0:t.fullName)||"Instructor",department:(null===t||void 0===t?void 0:t.department)||"Department"},classStatus:{status:"Attendance Overview",color:"bg-cyan-600",details:"Monitor and review attendance records",fullName:(null===t||void 0===t?void 0:t.fullName)||"Instructor"}}),(0,o_.jsxs)("div",{className:"relative z-10 px-6 py-8 pt-24",children:[(0,o_.jsxs)(nT.div,{className:"max-w-4xl mx-auto bg-gray-800 rounded-xl shadow-2xl p-8 border border-cyan-800 relative overflow-hidden",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,type:"spring",stiffness:80},children:[(0,o_.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 100 100\\'%3E%3Cpath d=\\'M10 10 L90 90 M90 10 L10 90\\' stroke=\\'%2300b4d8\\' stroke-width=\\'1\\' opacity=\\'0.1\\'/%3E%3C/svg%3E')] opacity-20"}),(0,o_.jsx)(nT.div,{className:"absolute -inset-2 bg-cyan-500/20 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),(0,o_.jsxs)("div",{className:"relative z-10",children:[(0,o_.jsxs)(nT.div,{className:"flex items-center justify-center mb-6",initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:100,delay:.2},children:[(0,o_.jsx)(sO,{className:"w-12 h-12 text-cyan-400 mr-4 animate-pulse"}),(0,o_.jsx)(nT.h1,{className:"text-3xl font-bold text-cyan-100",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:"Attendance Management"})]}),(0,o_.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,o_.jsx)("select",{value:s,onChange:e=>a(e.target.value),className:"bg-gray-700 text-white border border-gray-600 rounded-lg p-2 focus:ring-2 focus:ring-cyan-500",children:n.map((e=>(0,o_.jsxs)("option",{value:e.id,children:[e.name," ",e.room?`(Room ${e.room})`:""]},e.id)))})}),(0,o_.jsx)(nT.div,{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4},children:[{label:"Total",value:v.totalRecords,icon:sO,color:"text-cyan-400"},{label:"Present",value:v.present,icon:QI,color:"text-green-400"},{label:"Late",value:v.late,icon:oO,color:"text-yellow-400"},{label:"Absent",value:v.absent,icon:JI,color:"text-red-400"},{label:"Rate",value:`${v.attendanceRate.toFixed(1)}%`,icon:sO,color:"text-blue-400"}].map((e=>(0,o_.jsx)("div",{className:"bg-gray-700 rounded-lg p-3",children:(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-sm text-gray-400",children:e.label}),(0,o_.jsx)("p",{className:"text-lg font-semibold text-cyan-100",children:e.value})]}),(0,o_.jsx)(e.icon,{className:`w-6 h-6 ${e.color}`})]})},e.label)))}),(0,o_.jsxs)(nT.div,{className:"flex flex-col md:flex-row gap-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[(0,o_.jsxs)("div",{className:"relative flex-1",children:[(0,o_.jsx)(l9,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-cyan-500"}),(0,o_.jsx)("input",{type:"text",placeholder:"Search students...",value:d,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-2 focus:ring-cyan-500 placeholder-gray-400"})]}),(0,o_.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"bg-gray-700 text-white border border-gray-600 rounded-lg p-2 focus:ring-2 focus:ring-cyan-500",children:[(0,o_.jsx)("option",{value:"",children:"All Dates"}),b.map((e=>(0,o_.jsx)("option",{value:e,children:new Date(e).toLocaleDateString()},e)))]}),(0,o_.jsxs)("button",{onClick:()=>{const e=[["Student Name","ID Number","Section","Status","Date","Time","Verified"],...y.map((e=>{var t;return[e.studentName,(null===(t=m.find((t=>t.id===e.studentId)))||void 0===t?void 0:t.idNumber)||"",e.sectionName,e.status,e.date,e.timestamp.toDate().toLocaleTimeString(),e.confirmed?"Yes":"No"]}))].map((e=>e.join(","))).join("\n"),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`attendance_${s}_${(new Date).toLocaleDateString()}.csv`,r.click(),window.URL.revokeObjectURL(n)},className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,o_.jsx)(V9,{className:"w-5 h-5"}),"Export CSV"]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[(0,o_.jsx)("h2",{className:"text-lg font-semibold text-cyan-200 mb-4",children:"Attendance Records"}),0===y.length?(0,o_.jsx)("p",{className:"text-cyan-300 text-center py-4",children:"No attendance records found for this section"}):(0,o_.jsx)("div",{className:"space-y-4",children:y.map((e=>{const t=m.find((t=>t.id===e.studentId));return(0,o_.jsx)(nT.div,{className:"bg-gray-700 rounded-lg p-4 hover:shadow-cyan-500/50 transition-all",initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},children:(0,o_.jsxs)("div",{className:"space-y-2",children:[(0,o_.jsxs)("div",{className:"flex justify-between items-start",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("h3",{className:"font-medium text-cyan-100",children:e.studentName}),(0,o_.jsx)("p",{className:"text-sm text-gray-400",children:null===t||void 0===t?void 0:t.idNumber})]}),(0,o_.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("present"===e.status?"bg-green-600 text-white":"late"===e.status?"bg-yellow-600 text-white":"bg-red-600 text-white"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,o_.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,o_.jsxs)("p",{children:["Date: ",new Date(e.date).toLocaleDateString()]}),(0,o_.jsxs)("p",{children:["Time: ",e.timestamp.toDate().toLocaleTimeString()]}),(0,o_.jsxs)("p",{children:["Subject: ",e.subject]})]}),(0,o_.jsx)("div",{className:"flex items-center gap-2",children:e.confirmed?(0,o_.jsxs)("span",{className:"text-green-400 flex items-center gap-1",children:[(0,o_.jsx)(QI,{className:"w-4 h-4"}),"Verified"]}):(0,o_.jsxs)("span",{className:"text-gray-400 flex items-center gap-1",children:[(0,o_.jsx)(JI,{className:"w-4 h-4"}),"Unverified"]})})]})},e.id)}))})]}),s&&(null===(e=n.find((e=>e.id===s)))||void 0===e?void 0:e.room)&&(0,o_.jsxs)(nT.div,{className:"mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[(0,o_.jsx)("h2",{className:"text-lg font-semibold text-cyan-200 mb-4",children:"Classroom Layout"}),(0,o_.jsx)(h8,{roomId:n.find((e=>e.id===s)).room,sectionId:s})]})]})]}),(0,o_.jsx)("footer",{className:"mt-8 text-center text-gray-400",children:(0,o_.jsx)("p",{children:"\xa9 2025 SmartEcoLock Tech System. All rights reserved."})})]})]})},g8=()=>{const{currentUser:e}=c_(),t=te(),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{if(e)try{l(!0);const t=ag(xm(s_,"students"),lg("uid","==",e.uid)),n=await Ng(t);if(!n.empty){const e=n.docs[0].data();u({fullName:e.fullName,department:e.department,section:e.section}),a(e.enrolledSubjects||[])}const r=xm(s_,"subjects"),s=(await Ng(r)).docs.map((e=>({id:e.id,...e.data()}))).filter((e=>"active"===e.status)),o=xm(s_,"sections"),c=(await Ng(o)).docs.map((e=>({id:e.id,...e.data()}))),d=s.map((e=>{const t=c.find((t=>t.subjectId===e.id))||null;return{subject:e,section:t}}));i(d)}catch(Zg){console.error("Error fetching data:",Zg)}finally{l(!1)}})()}),[e]);const d=e=>{a((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))};return o?(0,o_.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 flex items-center justify-center",children:(0,o_.jsx)(nT.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},className:"w-12 h-12 border-4 border-cyan-400 border-t-transparent rounded-full"})}):c?(0,o_.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800",children:[(0,o_.jsx)(WB,{student:c}),(0,o_.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-12",children:(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gray-800/80 backdrop-blur-lg rounded-xl shadow-xl p-6 border border-cyan-800",children:[(0,o_.jsxs)("h2",{className:"text-3xl font-bold text-cyan-100 mb-6 flex items-center gap-2 font-mono",children:[(0,o_.jsx)(gI,{className:"w-8 h-8 text-cyan-400"}),"Select Your Subjects"]}),(0,o_.jsx)("p",{className:"text-cyan-300 mb-6 font-mono",children:"Choose the subjects you want to enroll in for this semester. Your selections will be reflected in your dashboard."}),n.length>0?(0,o_.jsx)("div",{className:"space-y-4",children:n.map(((e,t)=>{let{subject:n,section:r}=e;return(0,o_.jsx)(nT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:`p-4 rounded-xl border ${s.includes(n.name)?"border-cyan-400 bg-gray-700/50":"border-gray-700 bg-gray-800"} hover:shadow-lg transition-all duration-200`,children:(0,o_.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o_.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o_.jsx)("input",{type:"checkbox",checked:s.includes(n.name),onChange:()=>d(n.name),className:"h-5 w-5 text-cyan-400 rounded focus:ring-cyan-500 bg-gray-700 border-gray-600"}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-lg font-medium text-cyan-100 font-mono",children:n.name}),(0,o_.jsx)("p",{className:"text-sm text-cyan-300 font-mono",children:n.department}),(0,o_.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o_.jsx)(IA,{className:"w-4 h-4 text-cyan-400"}),(0,o_.jsxs)("p",{className:"text-sm text-cyan-300 font-mono",children:["Section: ",r?r.name:"Not assigned"]})]})]})]}),(0,o_.jsx)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(n.name),className:"px-4 py-1 text-sm font-medium rounded-full font-mono "+(s.includes(n.name)?"bg-cyan-600 text-white":"bg-gray-700 text-cyan-200"),children:s.includes(n.name)?"Selected":"Select"})]})},n.id)}))}):(0,o_.jsx)("p",{className:"text-cyan-300 text-center py-4 font-mono",children:"No subjects available."}),(0,o_.jsxs)("div",{className:"mt-8 flex justify-end gap-4",children:[(0,o_.jsx)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/student/dashboard"),className:"px-6 py-2 bg-gray-700 text-cyan-200 rounded-lg hover:bg-gray-600 transition-colors font-mono",children:"Cancel"}),(0,o_.jsx)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{if(e)try{const n=ag(xm(s_,"students"),lg("uid","==",e.uid)),r=await Ng(n);if(!r.empty){const e=r.docs[0];await Cg(e.ref,{enrolledSubjects:s});const n={...e.data(),enrolledSubjects:s};localStorage.setItem("userData",JSON.stringify(n)),t("/student/dashboard")}}catch(Zg){console.error("Error saving selection:",Zg)}},disabled:0===s.length,className:"px-6 py-2 rounded-lg transition-colors font-mono "+(s.length>0?"bg-cyan-600 text-white hover:bg-cyan-700":"bg-gray-700 text-cyan-400 cursor-not-allowed"),children:"Save Selection"})]})]})})]}):(0,o_.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-800 p-8 text-center text-cyan-300",children:"No student data found."})};function y8(e,t){let{title:n,titleId:i,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},s),n?r.createElement("title",{id:i},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const v8=r.forwardRef(y8),b8=()=>{const{currentUser:e}=c_(),t=te(),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)({name:"",department:"",instructorId:""}),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(!e||"admin"!==localStorage.getItem("userRole"))return void t("/login");(async()=>{try{u(!0);const e=xm(s_,"subjects"),t=(await Ng(e)).docs.map((e=>({id:e.id,...e.data()})));i(t);const n=xm(s_,"teachers"),r=(await Ng(n)).docs.map((e=>({id:e.id,...e.data()})));a(r)}catch(Zg){console.error("Error fetching data:",Zg)}finally{u(!1)}})()}),[e,t]);return c?(0,o_.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,o_.jsx)(nT.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full"})}):(0,o_.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,o_.jsx)(GA,{}),(0,o_.jsxs)("div",{className:"flex-1 ml-64 p-8",children:[(0,o_.jsxs)(nT.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-extrabold text-gray-900 mb-10 flex items-center gap-3",children:[(0,o_.jsx)(gI,{className:"h-10 w-10 text-indigo-600"}),"Subjects Management"]}),d&&(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-6 p-4 bg-green-100 text-green-700 rounded-lg flex items-center gap-2",children:[(0,o_.jsx)(v8,{className:"h-6 w-6"}),d]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-8 mb-10 border border-gray-200",children:[(0,o_.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[(0,o_.jsx)(Z9,{className:"h-6 w-6 text-indigo-600"}),"Add New Subject"]}),(0,o_.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.name&&o.department)try{const e=await Ig(xm(s_,"subjects"),{name:o.name,department:o.department,status:"active",instructorId:o.instructorId||null});if(o.instructorId){const e=wm(s_,"teachers",o.instructorId),t=await Ng(ag(xm(s_,"teachers"),lg("id","==",o.instructorId)));if(!t.empty){const n=[...t.docs[0].data().subjects||[],o.name].filter(((e,t,n)=>e&&n.indexOf(e)===t));await Cg(e,{subjects:n})}}i([...n,{id:e.id,name:o.name,department:o.department,status:"active",instructorId:o.instructorId||void 0}]),l({name:"",department:"",instructorId:""}),h("Subject added successfully!"),setTimeout((()=>h(null)),3e3)}catch(Zg){console.error("Error adding subject:",Zg)}},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject Name"}),(0,o_.jsx)("input",{type:"text",value:o.name,onChange:e=>l({...o,name:e.target.value}),className:"w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"e.g., Mathematics",required:!0})]}),(0,o_.jsxs)("div",{children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,o_.jsx)("input",{type:"text",value:o.department,onChange:e=>l({...o,department:e.target.value}),className:"w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"e.g., Science",required:!0})]}),(0,o_.jsxs)("div",{className:"md:col-span-2",children:[(0,o_.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign Instructor (Optional)"}),(0,o_.jsxs)("select",{value:o.instructorId,onChange:e=>l({...o,instructorId:e.target.value}),className:"w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",children:[(0,o_.jsx)("option",{value:"",children:"Select an instructor"}),s.map((e=>(0,o_.jsxs)("option",{value:e.id,children:[e.fullName," (",e.department,")"]},e.id)))]})]}),(0,o_.jsx)("div",{className:"md:col-span-2 flex justify-end",children:(0,o_.jsxs)(nT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"px-6 py-3 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[(0,o_.jsx)(Z9,{className:"h-5 w-5"}),"Add Subject"]})})]})]}),(0,o_.jsxs)(nT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-8 border border-gray-200",children:[(0,o_.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[(0,o_.jsx)(gI,{className:"h-6 w-6 text-indigo-600"}),"All Subjects"]}),n.length>0?(0,o_.jsx)("div",{className:"grid gap-6",children:n.map((e=>{var t;return(0,o_.jsx)(nT.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"p-6 rounded-lg bg-gray-50 border border-gray-200 hover:shadow-md transition-all",children:(0,o_.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[(0,o_.jsxs)("div",{children:[(0,o_.jsx)("p",{className:"text-xl font-medium text-gray-900",children:e.name}),(0,o_.jsx)("p",{className:"text-sm text-gray-600",children:e.department}),(0,o_.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Instructor:"," ",(0,o_.jsx)("span",{className:"font-medium",children:(null===(t=s.find((t=>t.id===e.instructorId)))||void 0===t?void 0:t.fullName)||"Not assigned"})]})]}),(0,o_.jsxs)("select",{value:e.instructorId||"",onChange:t=>(async(e,t)=>{if(t)try{const r=wm(s_,"subjects",e);await Cg(r,{instructorId:t});const s=wm(s_,"teachers",t),a=n.find((t=>t.id===e)),o=await Ng(ag(xm(s_,"teachers"),lg("id","==",t)));if(!o.empty){const e=[...o.docs[0].data().subjects||[],null===a||void 0===a?void 0:a.name].filter(((e,t,n)=>e&&n.indexOf(e)===t));await Cg(s,{subjects:e})}i(n.map((n=>n.id===e?{...n,instructorId:t}:n))),h("Instructor assigned successfully!"),setTimeout((()=>h(null)),3e3)}catch(Zg){console.error("Error assigning instructor:",Zg)}})(e.id,t.target.value),className:"w-full md:w-64 p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",children:[(0,o_.jsx)("option",{value:"",children:"Assign Instructor"}),s.map((e=>(0,o_.jsxs)("option",{value:e.id,children:[e.fullName," (",e.department,")"]},e.id)))]})]})},e.id)}))}):(0,o_.jsx)("p",{className:"text-gray-500 text-center py-6",children:"No subjects available."})]})]})]})},x8=()=>(0,o_.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,o_.jsxs)("div",{className:"text-center",children:[(0,o_.jsx)("h1",{className:"text-4xl font-bold text-indigo-600 mb-4",children:"404"}),(0,o_.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Page not found"}),(0,o_.jsx)(Ce,{to:"/",className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Go back home"})]})}),w8=()=>(0,o_.jsx)(Ee,{children:(0,o_.jsx)(u_,{children:(0,o_.jsxs)(be,{children:[(0,o_.jsx)(ye,{path:"/login",element:(0,o_.jsx)(xT,{})}),(0,o_.jsx)(ye,{path:"/reset-password",element:(0,o_.jsx)(bA,{})}),(0,o_.jsx)(ye,{path:"/adminregistration",element:(0,o_.jsx)(eP,{})}),(0,o_.jsx)(ye,{path:"/rfid-registration",element:(0,o_.jsx)(X9,{})}),(0,o_.jsx)(ye,{path:"/admin/dashboard",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(YO,{})})}),(0,o_.jsx)(ye,{path:"/admin/users",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(y6,{})})}),(0,o_.jsx)(ye,{path:"/admin/insights",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(d6,{})})}),(0,o_.jsx)(ye,{path:"/admin/security-logs",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(lP,{})})}),(0,o_.jsx)(ye,{path:"/admin/settings",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(E9,{})})}),(0,o_.jsx)(ye,{path:"/admin/teachers",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(a9,{})})}),(0,o_.jsx)(ye,{path:"/admin/students",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(x9,{})})}),(0,o_.jsx)(ye,{path:"/admin/energyusage",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(UB,{})})}),(0,o_.jsx)(ye,{path:"/admin/schedules",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(A9,{})})}),(0,o_.jsx)(ye,{path:"/admin/subjects",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(L9,{})})}),(0,o_.jsx)(ye,{path:"/admin/sections",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(r8,{})})}),(0,o_.jsx)(ye,{path:"/admin/rooms",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(c8,{})})}),(0,o_.jsx)(ye,{path:"/admin/subjects-management",element:(0,o_.jsx)(KO,{roles:["admin"],children:(0,o_.jsx)(b8,{})})}),(0,o_.jsx)(ye,{path:"/instructor/dashboard",element:(0,o_.jsx)(KO,{roles:["instructor"],children:(0,o_.jsx)(mA,{})})}),(0,o_.jsx)(ye,{path:"/instructor/attendance",element:(0,o_.jsx)(KO,{roles:["instructor"],children:(0,o_.jsx)(rP,{instructorfullName:""})})}),(0,o_.jsx)(ye,{path:"/instructor/subjects",element:(0,o_.jsx)(KO,{roles:["instructor"],children:(0,o_.jsx)(D9,{})})}),(0,o_.jsx)(ye,{path:"/instructor/schedules",element:(0,o_.jsx)(KO,{roles:["instructor"],children:(0,o_.jsx)(k9,{})})}),(0,o_.jsx)(ye,{path:"/instructor/classes",element:(0,o_.jsx)(KO,{roles:["instructor"],children:(0,o_.jsx)(N9,{})})}),(0,o_.jsx)(ye,{path:"/instructor/settings",element:(0,o_.jsx)(KO,{roles:["instructor"],children:(0,o_.jsx)(E9,{})})}),(0,o_.jsx)(ye,{path:"/instructor/take-attendance",element:(0,o_.jsx)(KO,{roles:["instructor"],children:(0,o_.jsx)(H9,{})})}),(0,o_.jsx)(ye,{path:"/instructor/attendance-management",element:(0,o_.jsx)(KO,{roles:["instructor"],children:(0,o_.jsx)(m8,{})})}),(0,o_.jsx)(ye,{path:"/student/dashboard",element:(0,o_.jsx)(KO,{roles:["student"],children:(0,o_.jsx)(b4,{})})}),(0,o_.jsx)(ye,{path:"/student/attendance",element:(0,o_.jsx)(KO,{roles:["student"],children:(0,o_.jsx)(rP,{instructorfullName:""})})}),(0,o_.jsx)(ye,{path:"/student/subject-selection",element:(0,o_.jsx)(KO,{roles:["student"],children:(0,o_.jsx)(g8,{})})}),(0,o_.jsx)(ye,{path:"/",element:(0,o_.jsx)(ge,{to:"/login",replace:!0})}),(0,o_.jsx)(ye,{path:"*",element:(0,o_.jsx)(x8,{})})]})})});s.createRoot(document.getElementById("root")).render((0,o_.jsx)(r.StrictMode,{children:(0,o_.jsx)(w8,{})}))})()})();
//# sourceMappingURL=main.3de68b1c.js.map